kiosk_mode:
  non_admin_settings:
    hide_header: true
    hide_sidebar: true
    hide_overflow: true
    hide_menubutton: true
    hide_account: true
    hide_reload: true
    hide_search: true
    disable_edit: true
    hide_toolbar: true
wallpanel:
  enabled: true
  hide_toolbar: false
  hide_sidebar: false
  fullscreen: false
  fade_in_time: 350
  crossfade_time: 500
  display_time: 3500
  black_screen_after_time: null
  idle_time: 3600
  control_reactivation_time: 1
  keep_screen_on_time: 8
  info_update_interval: 9
  stop_screensaver_on_mouse_move: true
  image_order: sorted
  image_fit: cover
  cards:
    - type: markdown
      content: '{{ states(''sensor.current_time'') }}'
      card_mod:
        style: |
          ha-card {
            background: transparent !important;
            box-shadow: none !important;
            border: none !important;
            font-size: 60px;
            font-weight: 250;
          }
    - type: markdown
      content: >-
        {{ states('sensor.current_weekday') }}, {{
        states('sensor.current_month') }} {{ states('sensor.current_day') }}
      card_mod:
        style: |
          ha-card {
            background: transparent !important;
            box-shadow: none !important;
            border: none !important;
            font-size: 15px;
            font-weight: 300;
          }
    - type: weather-forecast
      entity: weather.casa
      show_current: false
      show_forecast: false
      forecast_type: daily
    - type: picture-entity
      show_name: true
      camera_view: auto
      entity: sensor.sonoff_1000916c58_power
      image: /local/painelwallper.jpg
      aspect_ratio: '6'
    - type: picture-entity
      show_state: true
      show_name: true
      camera_view: auto
      entity: sensor.sonoff_10004aff0b_temperature
      image: /local/aguaquent1.jpg
      aspect_ratio: '6'
    - type: picture-entity
      show_state: true
      show_name: true
      camera_view: auto
      entity: sensor.sensor_ir_temperatura_temperatura
      name: Temperatura Interna da Casa
      image: /local/temperatura.jpg
      aspect_ratio: '6'
    - type: picture-entity
      show_state: true
      show_name: true
      camera_view: auto
      entity: sensor.sensor_ir_temperatura_umidade
      name: Umidade do ar
      image: /local/humidade2.jpg
      aspect_ratio: '6'
    - type: entity-filter
      entities:
        - entity: switch.sonoff_10024c29a2_1
          name: Bomba
          icon: mdi:engine-outline
        - entity: switch.cobertura_switch_1
          name: Cobertura
          icon: mdi:lightbulb
        - entity: switch.light_switch_socket_1
          name: Cozinha
          icon: mdi:lightbulb
        - entity: switch.light_switch_socket_2
          name: Copa
          icon: mdi:lightbulb
        - entity: switch.light_switch_socket_3
          name: Pátio
          icon: mdi:lightbulb
        - entity: switch.light_switch_socket_4
          name: Spot
          icon: mdi:lightbulb
        - entity: switch.light_switch_socket_5
          name: Sala
          icon: mdi:lightbulb
        - entity: switch.light_switch_socket_6
          name: Holofote
          icon: mdi:lightbulb
        - entity: switch.sonoff_1001465426
          name: Entrada
          icon: mdi:lightbulb
        - entity: switch.aubess_smart_switch_1_gang_10_switch_1
          name: Irrigação
          icon: mdi:sprinkler-variant
        - entity: switch.aubess_smart_switch_1_gang_9_switch_1
          name: Jardim
          icon: mdi:flower-tulip
        - entity: switch.lavanderia_tomada_1
          name: Lavanderia
          icon: mdi:lightbulb
        - entity: switch.sonoff_1000916c58
          name: Painel Solar
          icon: mdi:solar-power-variant
        - entity: switch.sonoff_10014af341
          name: Quarto
        - entity: switch.tomada_bluetooth_interruptor_1
          name: Caixa
          icon: mdi:speaker-wireless
        - entity: switch.min_switch_3_switch_1
          name: Vaso
          icon: mdi:flower
        - entity: switch.sonoff_10024c232d_1
          name: Canil
          icon: mdi:dog
        - entity: switch.sonoff_10024c2380_1
          name: Ferro
          icon: mdi:iron
        - entity: switch.banheiro_interruptor_1
          name: Banheiro
          icon: mdi:lightbulb
        - entity: switch.smart_switch_03c3
          name: Abajur Sala
          icon: mdi:floor-lamp-torchiere-variant
        - entity: switch.santa_switch_1
          name: Santa
          icon: mdi:church-outline
        - entity: media_player.tv
          name: TV Sala
          icon: mdi:television
        - entity: media_player.lg_tv_remote
          name: LG
      state_filter:
        - 'on'
      show_empty: false
      card:
        type: glance
        title: LIGADOS NA CASA
        state_color: true
        show_header_toggle: false
        tap_action:
          action: toggle
      wp_style:
        position: absolute
        top: 5
        right: 0
        width: 600px
        z-index: 1000
button_card_templates:
  loader:
    custom_fields:
      loader: |
        <img src="/local/loader.svg" width="100%">
    tap_action:
      loader: |
        [[[
          if (entity) {
              let elt = this.shadowRoot,
                  loader = (id, style, timeout) => {
                    elt.getElementById(id) && (elt.getElementById(id).style.display = style,
                      window.setTimeout(() => {
                        elt.getElementById('loader').style.display = 'none'
                      }, 20000))
                  };
              loader('circle', 'none', 'initial'),
              loader('loader', 'initial', 'none');
          }
        ]]]
    styles:
      custom_fields:
        loader:
          - display: none
          - top: '-6%'
          - right: '-3.5%'
          - width: 52%
          - position: absolute
          - opacity: 0.5
          - pointer-events: none
          - filter: |
              [[[
                return variables.state_on
                    ? 'none'
                    : 'invert(1)';
              ]]]
  base_updates:
    show_state: true
    show_name: false
    show_icon: false
    styles:
      state:
        - text-align: left
        - justify-self: left
        - gray-space: normal
      card:
        - cursor: default
        - padding: 0.2em 0 0 0.6em
        - letter-spacing: var(--mdc-typography-body1-letter-spacing)
    tap_action:
      href: null
    extra_styles: |
      #ripple {
        display: none;
      }
      ha-icon {
        width: 1.4em;
        vertical-align: 12%;
        opacity: 0.5;
        padding-right: 2px;
      }
      .title {
        font-size: 1.3em;
        font-weight: 500;
      }
      .subtitle {
        font-size: 0.95em;
        line-height: 0.7em;
        padding-left: 3px;
        padding-bottom: 10px;
        font-weight: 500;
        color: #828383;
      }
      a {
        color: var(--primary-color);
      }
      ul {
        margin-top: -0.6em;
        font-size: 0.88em;
        letter-spacing: 0.5px;
        line-height: 1.6em;
      }
      code {
        background-color: var(--secondary-background-color);
      }
  updates_hass:
    template:
      - base_updates
      - settings
    state_display: |
      [[[
        if (entity) {
            let available = states[variables.available].attributes.home_assistant;

            let links = new RegExp('<a href="([^"]+)"', "g"),
                installed = entity.state,
                hass_version_latest = states[variables.latest],
                hass_version_latest_beta = states[variables.latest_beta],
                hass_release_notes = states[variables.release_notes],
                hass_release_notes_beta = states[variables.release_notes_beta];

            let latest = installed.includes('b')
                ? hass_version_latest_beta.state
                : hass_version_latest.state;

            let release_notes = installed.includes('b')
                ? marked.parse(hass_release_notes.attributes.body)
                : marked.parse(hass_release_notes_beta.attributes.body);

            let subtitle = available === 0
                ? `${variables.translate_no_updates} <b>&larr;</b> ${installed}`
                : `${installed} <b>&rarr;</b> ${latest} ${variables.translate_available} ${String.fromCodePoint("0x1f389")}`;

            let output = available === 0
                ? '<ul></ul>'
                : release_notes.replace(links, '<a href="#" onclick="window.open(\'$1\')"');

            return `
              <ha-icon icon="mdi:home-assistant"></ha-icon> <span class="title">Home Assistant</span><br>
              <p class="subtitle">${subtitle}</p>
              ${output}
            `;
        }
      ]]]
  updates_hass_icon_name:
    template: icon_name
    icon: mdi:update
    styles:
      card:
        - opacity: |
            [[[
              return entity && (entity.state === states[variables.latest].state ||
                entity.state === states[variables.latest_beta].state)
                  ? '0.3'
                  : '1';
            ]]]
        - display: |
            [[[
              return entity
                ? 'flex'
                : 'none';
            ]]]
  updates:
    template:
      - base_updates
      - settings
    state_display: |
      [[[
        // variables
        let output = '',
            updates = states[variables.updates],
            hacs_installed = states[variables.hacs_installed]?.attributes.repositories,
            other_updates = states[variables.other_updates],
            hacs_update = states['update.hacs_update']?.attributes.installed_version,
            no_updates = variables.translate_no_updates,
            update_available = variables.translate_update_available,
            updates_available = variables.translate_updates_available;

        const rename = a => {
            return a.release_url && a.release_url.indexOf('github.com') > -1
                ? `${a.release_url.split('/')[3]}/${a.release_url.split('/')[4]}`
                : a?.friendly_name;
        };

        // update entities
        Object.keys(states).forEach(key => {
          let s = states[key], e = s.entity_id, a = s.attributes;
          if (e.includes('update.') && s.state === 'on') {
              output += `<li><b><a href="#" onclick="window.open('${a.release_url}');">
              ${rename(a)}</a></b> ${a.installed_version} <b>&rarr;</b> ${a.latest_version}</li>`
          }
        });

        // other updates
        let attr = Object.fromEntries(
            Object.entries(other_updates?.attributes).filter(([, value]) => value != false));
        for (const [, value] of Object.entries(attr)) {
          output += `<li>${value}</li>`;
        }

        // subtitle
        let count = updates?.attributes.update_entities + updates?.attributes.other_updates,
            subtitle = count === 0
                ? `${no_updates} <b>&larr;</b> ${hacs_update || ''}`
                : `${count} ${count === 1 ? update_available : updates_available} ${String.fromCodePoint('0x1f389')}`;

        return `
          <ha-icon icon="mdi:package-up"></ha-icon> <span class="title">Integrationer</span><br>
          <p class="subtitle">${subtitle}</p>
          <ul>${output}</ul>
        `;
      ]]]
  updates_icon_name:
    template: icon_name
    icon: mdi:open-in-new
    styles:
      card:
        - opacity: |
            [[[
              return entity?.attributes?.update_entities === 0
                  ? '0.3'
                  : '1';
            ]]]
  hacs_iframe:
    tap_action:
      action: fire-dom-event
      browser_mod:
        service: browser_mod.popup
        data:
          title: ' '
          size: fullscreen
          content:
            type: iframe
            aspect_ratio: 16x9.15
            url: |
              [[[ return `/${hass.panels.config.url_path}/updates` ]]]
    template: icon_name
  hacs_navigate_ios:
    tap_action:
      action: fire-dom-event
      browser_mod:
        service: browser_mod.javascript
        data:
          code: |
            window.location.href = `/${hass.panels.config.url_path}/updates`;
    template: icon_name
  sidebar:
    show_state: false
    show_icon: false
    tap_action:
      action: none
    name: |
      [[[
        if (entity) {
            let attr = [];
            for (let [k, value] of Object.entries(entity.attributes))
                window.navigator.userAgent.match(/iPhone/i)
                    ? k !== 'time' && k !== 'date' && value !== false && (attr += `<p>${k === 'greet' ? `<span class="iphone">${value}</span>` : `${value}`}</p>`)
                    : value !== false && (attr += `<p>${value}</p>`);
            return attr;
        }
      ]]]
    extra_styles: |
      #card {
        padding: 0;
        border-width: 0;
        font-family: SF Pro Display, Roboto, system-ui;
      } #container {
        display: flex !important;
      } #name {
        padding: 1vw 2.5vw 0 var(--custom-layout-card-padding);
        gray-space: normal;
        text-align: left;
      } .iphone {
        font-size: 1.5em;
        color: rgba(255, 255, 255, 0.8);
      } .time {
        font-size: var(--sidebar-time-font-size);
        font-weight: 300;
        line-height: var(--sidebar-time-line-height);
        letter-spacing: 0.11vw;
        margin-left: -0.3vw;
        color: rgba(255, 255, 255, 0.8);
      } @supports not (-moz-appearance:none) {
        .time-colon {
          position: relative;
          top: -.11em;
        }
      } p {
        font-size: var(--sidebar-font-size);
        line-height: var(--sidebar-line-height);
        font-weight: 200;
        letter-spacing: 0.07vw;
        color: #6a7377;
      } b {
        font-weight: 700;
      } p > b {
        color: rgba(255, 255, 255, 0.8);
      } /* portrait */ @media screen and (max-width: 1200px) {
        .time {
          font-size: calc(var(--sidebar-time-font-size) * 1.4 );
          line-height: calc(var(--sidebar-time-line-height) * 1.4 );
        }
        p {
          font-size: calc(var(--sidebar-font-size) * 1.4 );
          line-height: calc(var(--sidebar-line-height) * 1.4 );
        }
      } /* phone */ @media screen and (max-width: 800px) {
        .time {
          font-size: calc(var(--sidebar-time-font-size) * 2.6 );
        }
        p {
          font-size: calc(var(--sidebar-font-size) * 2.6 );
          line-height: calc(var(--sidebar-line-height) * 2.6 );
          letter-spacing: 0.16vw;
        }
        #name {
          padding: 0 0 0 1vw;
        }
      }
  icon_name:
    size: 1.4em
    color: '#9da0a2'
    styles:
      grid:
        - grid-template-areas: '"i n"'
        - grid-column-gap: 0.3em
      card:
        - color: '#9da0a2'
        - border-radius: 0.6em
        - padding: 1em 1.4em 1em 1.2em
        - width: max-content
        - font-size: 1.06em
        - font-weight: 500
        - letter-spacing: 0.03em
        - background: '#FFFFFF10'
  icon_only:
    show_name: false
    color: '#9da0a2'
    styles:
      card:
        - color: '#9da0a2'
        - border-radius: 0.6em
        - width: 4em
        - height: 3.7em
        - background: '#FFFFFF10'
  person:
    template:
      - base
      - circle
    state_display: |
      [[[
        if (entity) {
            return variables.state === 'home'
                ? variables.translate_home
                : variables.state === 'not_home'
                    ? variables.translate_not_home
                    : variables.state;
        }
        return variables.translate_unknown;
      ]]]
    triggers_update: sensor.time
    tap_action:
      action: none
    styles:
      custom_fields:
        icon:
          - clip-path: circle()
          - width: 82%
          - pointer-events: none
          - display: grid
    custom_fields:
      icon: |
        [[[
          return entity && variables.entity_picture
              ? `<img src="${variables.entity_picture}" width="100%">`
              : null;
        ]]]
  laundry:
    template:
      - settings
    show_icon: false
    show_name: false
    show_state: true
    state_display: |
      [[[
        if (entity.state === 'idle') {
          return variables.translate_idle;
        }
      ]]]
    tap_action:
      restart: |
        [[[
          hass.callService('timer', 'cancel', {
              entity_id: entity.entity_id
          });
          hass.callService('timer', 'start', {
              entity_id: entity.entity_id
          });
        ]]]
    hold_action:
      cancel: |
        [[[
          hass.callService('timer', 'cancel', {
              entity_id: entity.entity_id
          });
        ]]]
    styles:
      card:
        - background: '#202a2f30'
        - border-radius: 0.7vw
        - border: '0.2vw solid #292c2e'
      state:
        - font-size: 2.7vw
        - font-family: SF Mono, Roboto
        - opacity: 0.65
        - padding: 0.55vw 1.2vw 0.5vw 1.2vw
  tilt:
    variables:
      tilt_enable: |
        [[[
          // disable on macos app, text appears over popup
          if (window.navigator.userAgent.includes("Home Assistant")) {
              return false
          }
          // enable on macos browsers
          else if (window.navigator.userAgent.match(/Macintosh; Intel Mac OS X/i)) {
              return true;
          }
          // default - phones, tablets etc
          return false;
        ]]]
      tilt_options: |
        [[[
          let options = {
              max: 5,
              scale: 1.06,
              glare: true,
              'max-glare': 0.15,
              perspective: 800,
              speed: 800,
              parallax: '25px'
          }
          if (this._config.template.includes('conditional_media')) {
              options.scale = options.scale % parseInt(options.scale) / 2 + parseInt(options.scale);
              options.perspective = options.perspective * 2;
              return options;
          }
          return options;
        ]]]
    custom_fields:
      tilt: |
        [[[
          setTimeout(() => {
              let elt = this.shadowRoot,
                  card = elt.getElementById('card'),
                  tilt = typeof VanillaTilt === 'function';

              if (elt && card && tilt && variables.tilt_enable) {
                  VanillaTilt.init(card, variables.tilt_options);
              } else {
                  setTimeout(() => {
                      if (elt && card && tilt && variables.tilt_enable) {
                          VanillaTilt.init(card, variables.tilt_options);
                      }
                  }, 1000);
              }
          }, 0);
        ]]]
  settings:
    variables:
      entity_tablet: switch.galaxy_tab_a_screensaver
      entity_browser_mod: media_player.tablet
      translate_unknown: Unknown
      translate_idle: Idle
      translate_home: Home
      translate_not_home: Away
      translate_available: Available
      translate_no_updates: No updates available
      translate_update_available: Update available
      translate_updates_available: Updates available
      translate_on: 'On'
      translate_off: 'Off'
      translate_cool: Cool
      translate_fan_only: Fan only
      translate_playing: Playing
      translate_paused: Paused
      translate_standby: Standby
  extra_styles:
    extra_styles: |
      [[[
        if (entity) {
            if (entity.entity_id.split('.')[0] === 'light' && variables.state_on) {

                // theme variable and conditions
                let style = getComputedStyle(document.body),
                    theme_var = style.getPropertyValue('--button-card-light-color-temp'),
                    is_hsl = theme_var.startsWith('hsl('),
                    is_color_temp = entity.attributes.color_mode === 'color_temp';

                if (is_hsl && is_color_temp && entity.attributes.brightness) {

                    // calculate lightness in hsl
                    let regex_pattern = /(\d+)(?!.*\d)/g,
                        brightness = entity.attributes.brightness / 2.54,
                        lightness = parseFloat(theme_var.match(regex_pattern)[0]),
                        min = lightness - 10,
                        max = lightness + 10,
                        calc_lightness = brightness * (max - min) / 100 + min;

                    var light_color = theme_var.replace(regex_pattern, calc_lightness);
                }
                else {
                    var light_color = 'var(--button-card-light-color)';
                }
            }
        }
        return `

         /* * * * * * * * * * * * * * * * * *
          *                                 *
          *              LIGHT              *
          *                                 *
          * * * * * * * * * * * * * * * * * */

          svg {
            --light-color: ${
              variables.state_on && entity.attributes.brightness
                  ? light_color
                  : variables.state_on && !entity.attributes.brightness
                      ? 'var(--state-icon-active-color);'
                      : 'var(--state-icon-color);' }
          }

          .light-color {
            fill: var(--light-color);
            transition: all 0.25s ease-out;
          }

          /* magnification */
          :host {
            --card-portrait: 1.4;
            --card-phone: 2.271;
          }

          ${this._config.template.includes('light') ? `

           /* * * * * * * * * * * * * * * * * *
            *                                 *
            *          CIRCLE SLIDER          *
            *                                 *
            * * * * * * * * * * * * * * * * * */

            #circle_slider {
              opacity: 0;
              appearance: none;
              transform: rotate(270deg);
              width: 90%;
              position: absolute;
              pointer-events: none;
              cursor: grab;
              left: 26%;
              margin-top: 13%;
            }

            #circle_slider::-webkit-slider-thumb {
              pointer-events: initial;
              appearance: none;
              width: 3vw;
              height: 3vw;
              border-radius: 50%;
              background: green;
            }

            #circle_slider::-webkit-slider-runnable-track {
              background: cornflowerblue;
            }

            #circle_slider::-moz-range-thumb {
              pointer-events: initial;
              appearance: none;
              width: 3vw;
              height: 3vw;
              border-radius: 50%;
              background: green;
            }

            #circle_slider::-moz-range-track {
              background: cornflowerblue;
              height: 3vw;
            }

            /* portrait */
            @media screen and (max-width: 1200px) {
              #circle_slider::-webkit-slider-thumb {
                width: 4vw;
                height: 4vw;
              }

              #circle_slider::-moz-range-thumb {
                width: 4vw;
                height: 4vw;
              }
            }

            /* phone */
            @media screen and (max-width: 800px) {
              #circle_slider::-webkit-slider-thumb {
                width: 5.8vw;
                height: 5.8vw;
              }

              #circle_slider::-moz-range-thumb {
                width: 5.8vw;
                height: 5.8vw;
              }
            }

          `:''}

         /* * * * * * * * * * * * * * * * * *
          *                                 *
          *              BASE               *
          *                                 *
          * * * * * * * * * * * * * * * * * */

          #container {
            text-align: left !important;
            z-index: 1;
          }

          #card {
            padding: 10.9% 9.9% 8.9% 10.9%;
          }

          #state::first-letter {
            text-transform: uppercase;
          }

          #name, #state {
            font-size: var(--button-card-font-size);
            font-weight: var(--button-card-font-weight);
            letter-spacing: var(--button-card-letter-spacing);
          }

          /* portrait */
          @media screen and (max-width: 1200px) {
            #name, #state {
              font-size: calc(var(--button-card-font-size) * var(--card-portrait));
            }
          }
          /* phone */
          @media screen and (max-width: 800px) {
            #name, #state {
              font-size: calc(var(--button-card-font-size) * var(--card-phone));
            }
          }

          ${variables.tilt_enable === true ? `

           /* * * * * * * * * * * * * * * * * *
            *                                 *
            *              TILT               *
            *                                 *
            * * * * * * * * * * * * * * * * * */

              #name, #state {
                font-size: calc(var(--button-card-font-size) - var(--z-axis-adjustment));
              }

              /* portrait */
              @media screen and (max-width: 1200px) {
                #name, #state {
                  font-size: calc(calc(var(--button-card-font-size) * var(--card-portrait)) - var(--z-axis-adjustment));
                }
              }

              /* phone */
              @media screen and (max-width: 800px) {
                #name, #state {
                  font-size: calc(calc(var(--button-card-font-size) * var(--card-phone)) - var(--z-axis-adjustment));
                }
              }

              #container {
                transform: translateZ(${variables.tilt_options.parallax});
              }

              #circle_slider {
                width: 100%;
                margin-top: 0;
              }

              /* adjust circle_slider position for firefox */
              @supports (-moz-appearance:none) {
                #circle_slider {
                  margin-top: 13%;
                }
              }

              #card {
                padding: 12% 11% 10.5% 12%;
                transform-style: preserve-3d;
                overflow: visible;
                /* firefox pixelated edges */
                outline: 1px solid transparent;
              }

              #ripple, .js-tilt-glare {
                clip-path: inset(0 round var(--button-card-border-radius));
                overflow: hidden;
              }

              .js-tilt-glare {
                z-index: 1;
              }

              .js-tilt-glare-inner {
                background-color: rgba(0,0,0,0.9);
              }

          `:''}

          ${this._config.template.includes('conditional_media') ? `

           /* * * * * * * * * * * * * * * * * *
            *                                 *
            *              MEDIA              *
            *                                 *
            * * * * * * * * * * * * * * * * * */

            :host {
              --blur-intensity: blur(4.5px) brightness(0.8);
            }

            /* phone */
            @media screen and (max-width: 800px) {
              :host {
                --blur-intensity: blur(2.5px) brightness(0.8);
              }
            }

            #ripple, .js-tilt-glare {
              clip-path: inset(0 round calc(var(--button-card-border-radius) / 2));
            }

            #container {
              overflow: hidden;
            }

            .marquee {
              animation: marquee 20s linear infinite;
            }

            @keyframes marquee {
              from {
                transform: translateX(0%);
              }
              to {
                transform: translateX(-50%);
              }
            }

          `:''}

          ${this._config.template.includes('footer') ? `

           /* * * * * * * * * * * * * * * * * *
            *                                 *
            *             FOOTER              *
            *                                 *
            * * * * * * * * * * * * * * * * * */

            /* magnification */
            :host {
              --footer-portrait: 1.4;
              --footer-phone: 2.8;
            }

            #ripple, .js-tilt-glare {
              border-radius: calc(var(--footer-card-border-radius) - 0.1vw);
              clip-path: inset(0 round calc( var(--button-card-border-radius) - 0.1vw ));
            }

            #name {
              font-size: var(--footer-card-font-size);
              padding: var(--footer-card-padding-v) var(--footer-card-padding-h);
              letter-spacing: 0.05vw;
            }

            ha-icon {
              width: var(--footer-card-icon-size);
              vertical-align: 7%;
              padding-right: 0.1vw;
              opacity: 0.4;
            }

            #card {
              border-radius: var(--footer-card-border-radius);
              background: rgba(115, 115, 115, 0.10);
            }

            #notify {
              font-size: var(--footer-notify-font-size);
              width: var(--footer-notify-box-size);
              height: var(--footer-notify-box-size);
              line-height: var(--footer-notify-box-size);
              padding-right: 0.5%;
              padding-top: 0.5%;
              top: var(--footer-notify-top);
              right: var(--footer-notify-right);
            }

            /* portrait */
            @media screen and (max-width: 1200px) {
              #name {
                font-size: calc(var(--footer-card-font-size) * var(--footer-portrait));
                padding: calc(var(--footer-card-padding-v) * var(--footer-portrait)) calc(var(--footer-card-padding-h) * var(--footer-portrait));
              }

              ha-icon {
                width: calc(var(--footer-card-icon-size) * var(--footer-portrait));
              }

              #card {
                border-radius: calc(var(--footer-card-border-radius) * var(--footer-portrait));
                margin: 0 0.5vw;
              }

              #notify {
                font-size: calc(var(--footer-notify-font-size) * var(--footer-portrait));
                width: calc(var(--footer-notify-box-size) * var(--footer-portrait));
                height: calc(var(--footer-notify-box-size) * var(--footer-portrait));
                line-height: calc(var(--footer-notify-box-size) * var(--footer-portrait));
              }
            }

            /* phone */
            @media screen and (max-width: 800px) {
              #name {
                font-size: calc(var(--footer-card-font-size) * var(--footer-phone));
                padding: calc(var(--footer-card-padding-v) * var(--footer-phone)) calc(var(--footer-card-padding-h) * var(--footer-phone));
                letter-spacing: 0.05vw;
              }

              ha-icon {
                width: calc(var(--footer-card-icon-size) * var(--footer-phone));
              }

              #card {
                border-radius: calc(var(--footer-card-border-radius) * var(--footer-phone));
                background: rgba(115, 115, 115, 0.12);
                margin: 0 0.5vw;
              }

              #notify {
                font-size: calc(var(--footer-notify-font-size) * var(--footer-phone));
                width: calc(var(--footer-notify-box-size) * var(--footer-phone));
                height: calc(var(--footer-notify-box-size) * var(--footer-phone));
                line-height: calc(var(--footer-notify-box-size) * var(--footer-phone) + 1px);
                top: calc(var(--footer-notify-top) * var(--footer-phone));
                right: calc(var(--footer-notify-right) * var(--footer-phone) + 2%);
                padding: 0;
              }
            }

          `:''}
        `;
      ]]]
  card_light:
    show_state: true
    state_display: null
    size: 40%
    styles:
      card:
        - width: 120px
        - height: 120px
      grid:
        - grid-template-areas: '"i" "n" "s"'
        - grid-template-columns: 1fr
        - grid-template-rows: 1fr min-content min-content
      icon:
        - color: var(--button-card-light-color)
      img_cell:
        - align-self: start
        - text-align: start
        - color: var(--button-card-light-color)
      name:
        - color: var(--button-card-light-color)
        - justify-self: start
        - padding-left: 10px
        - font-weight: bold
        - font-size: 11pt
      state:
        - justify-self: start
        - padding-left: 10px
        - text-transform: capitalize
        - font-size: 11pt
        - color: var(--button-card-light-color)
    state:
      - value: 'off'
        styles:
          card:
            - filter: opacity(50%)
          icon:
            - filter: grayscale(100%)
    hold_action:
      action: more-info
  light:
    template:
      - base
      - circle
      - loader
    double_tap_action:
      action: more-info
    variables:
      circle_input: |
        [[[
          if (entity) {
              // if light group get brightness from child to remove bounce
              let child = entity.attributes.entity_id,
                  brightness = child && states[child[0]].attributes.brightness
                      ? Math.round(states[child[0]].attributes.brightness / 2.54)
                      : Math.round(entity.attributes.brightness / 2.54);
              return brightness === 0 && entity.state !== 'off'
                  ? 1
                  : brightness
          }
        ]]]
      circle_input_unit: '%'
  base:
    template:
      - settings
      - tilt
      - extra_styles
    variables:
      state_on: >
        [[[ return ['on', 'home', 'cool', 'fan_only', 'playing', 'unlocked',
        'armed_home', 'armed_away', 'armed_night'].indexOf(!entity ||
        entity.state) !== -1; ]]]
      state: |
        [[[ return !entity || entity.state; ]]]
      entity_id: |
        [[[ return !entity || entity.entity_id; ]]]
      entity_picture: |
        [[[ return !entity || entity.attributes.entity_picture; ]]]
      timeout: |
        [[[ return !entity || Date.now() - Date.parse(entity.last_changed); ]]]
      is_youtube: |
        [[[
          let is_youtube = entity?.attributes?.app_id === 'com.google.ios.youtube',
              sensor = this?._config?.triggers_update,
              media_title = entity?.attributes?.media_title,
              watching_title = states[sensor]?.attributes?.title;
          if (is_youtube && media_title === watching_title) {
              return true;
          }
        ]]]
    aspect_ratio: 1/1
    show_state: true
    show_icon: true
    state_display: |
      [[[
        const stateDict = {
          'on': variables.translate_on,
          'off': variables.translate_off,
          'cool': variables.translate_cool,
          'fan_only': variables.translate_fan_only,
        };
        if (variables.state === true) return variables.translate_unknown;
        return stateDict[variables.state];
      ]]]
    tap_action:
      ui_sound_tablet: |
        [[[
          let screensaver = states[variables.entity_tablet] === undefined ||
              states[variables.entity_tablet].state;

          if (variables.state === 'off' && screensaver === 'off') {
              hass.callService('media_player', 'play_media', {
                  entity_id: variables.entity_browser_mod,
                  media_content_id: '/local/sound/on.m4a',
                  media_content_type: 'music'
              });
          }
          if (variables.state_on && screensaver === 'off') {
              hass.callService('media_player', 'play_media', {
                  entity_id: variables.entity_browser_mod,
                  media_content_id: '/local/sound/off.m4a',
                  media_content_type: 'music'
              });
          }
        ]]]
      action: toggle
      haptic: medium
    double_tap_action:
      haptic: success
    hold_action:
      action: block
    styles:
      grid:
        - grid-template-areas: |
            "i  circle"
            "n     n"
            "s     s"
        - grid-template-columns: repeat(2, 1fr)
        - grid-template-rows: auto repeat(2, min-content)
        - gap: 1.3%
        - align-items: start
        - will-change: transform
      name:
        - justify-self: start
        - line-height: 121%
      state:
        - justify-self: start
        - line-height: 115%
      icon:
        - color: var(--button-card-light-color)
        - icon_size: 600px
        - padding: 0px 0px
        - margin-top: '-45%'
        - margin-left: '-28%'
      card:
        - border-radius: 26px
        - border-width: 0
        - '-webkit-tap-highlight-color': rgba(0,0,0,0)
        - transition: none
        - '--mdc-ripple-color': |
            [[[
              return variables.state_on
                  ? 'rgb(0, 0, 0)'
                  : '#97989c';
            ]]]
        - color: |
            [[[
              return variables.state_on
                  ? '#4b5254'
                  : '#97989c';
            ]]]
        - background-color: |
            [[[
              return variables.state_on
                  ? 'rgba(255, 255, 255, 0.85)'
                  : 'rgba(115, 115, 115, 0.25)';
            ]]]
  variables:
    circle_input: |
      [[[
        if (entity) {
            // if light group get brightness from child to remove bounce
            let child = entity.attributes.entity_id,
                brightness = child && states[child[0]].attributes.brightness
                    ? Math.round(states[child[0]].attributes.brightness / 2.54)
                    : Math.round(entity.attributes.brightness / 2.54);
            return brightness === 0 && entity.state !== 'off'
                ? 1
                : brightness
        }
      ]]]
    circle_input_unit: '%'
  circle:
    styles:
      card:
        - '--c-stroke-color-on': '#b0b0b0'
        - '--c-stroke-color-off': none
        - '--c-fill-color-on': none
        - '--c-fill-color-off': rgba(255,255,255,0.04)
        - '--c-stroke-width': 2.3
        - '--c-stroke-width-dragging': 4
        - '--c-font-color': '#97989c'
        - '--c-font-size': 14px
        - '--c-unit-font-size': 10.5px
        - '--c-font-weight': 700
        - '--c-letter-spacing': '-0.02rem'
      custom_fields:
        circle:
          - display: initial
          - width: 88%
          - margin: '-3% 2% 0 0'
          - justify-self: end
          - opacity: 1
    custom_fields:
      circle: |
        [[[
          if (entity) {
              let r = 22.1,
                  c = r * 2 * Math.PI,
                  tspan = '<tspan dx=".2" dy="-.4">',
                  domain = entity.entity_id.split('.')[0],
                  state = variables.state_on,
                  input = variables.circle_input || ' ',
                  unit = variables.circle_input_unit || ' ';

             /* * * * * * * * * * * * * * * * * *
              *                                 *
              *             CIRCLE              *
              *                                 *
              * * * * * * * * * * * * * * * * * */

              let circle = (state, input, unit) => {
                  return `
                    <svg viewBox="0 0 50 50">
                      <style>
                        circle {
                          transform: rotate(-90deg);
                          transform-origin: 50% 50%;
                          stroke-dasharray: ${c};
                          stroke-dashoffset: ${typeof input === 'number' && c - input / 100 * c};
                          stroke-width: var(--c-stroke-width);
                          stroke: ${state ? 'var(--c-stroke-color-on)' : 'var(--c-stroke-color-off)'};
                          fill: ${state ? 'var(--c-fill-color-on)' : 'var(--c-fill-color-off)'};
                        }
                        text {
                          font-size: var(--c-font-size);
                          font-weight: var(--c-font-weight);
                          letter-spacing: var(--c-letter-spacing);
                          fill: var(--c-font-color);
                        }
                        tspan {
                          font-size: var(--c-unit-font-size);
                        }
                        #circle_value, tspan {
                          text-anchor: middle;
                          dominant-baseline: central;
                        }
                      </style>
                      <circle id="circle_stroke" cx="25" cy="25" r="${r}"/>
                      <text id="circle_value" x="50%" y="52%">${input}${tspan}${unit}</tspan></text>
                    </svg>

                    ${domain === 'light' && `
                        <input id="circle_slider" type="range" min="0" max="100" value="${input}">
                    `}
                  `;
              }

             /* * * * * * * * * * * * * * * * * *
              *                                 *
              *              LIGHT              *
              *                                 *
              * * * * * * * * * * * * * * * * * */

              if (domain === 'light' && state) {

                  // wait 0ms for shadow dom
                  setTimeout(() => {

                      // then get elements
                      let elt = this.shadowRoot,
                          circle_slider = elt.getElementById('circle_slider'),
                          circle_value = elt.getElementById('circle_value'),
                          circle_stroke = elt.getElementById('circle_stroke');

                      // approximate position of thumb relative to circle
                      circle_slider.style.top = `${(circle_slider.value - 50) / 1.66 - 1}%`;

                      // debug position
                      let debug = false;
                      if (debug) circle_slider.style.opacity = 0.3;

                      // pass each event to handler
                      ['click', 'input', 'mousedown', 'mouseup', 'touchstart', 'touchend'].forEach((event) => {
                          circle_slider.addEventListener(event, handler, { passive: true })
                      });

                      function handler(event) {

                          // "this" refers to slider
                          if (event.target === this) {

                              // bypass button-card tap_action
                              event.stopPropagation();

                              // update circle_value
                              circle_value.innerHTML = `${this.value}${tspan}${unit}</tspan>`;

                              // update stroke
                              circle_stroke.style.strokeDashoffset = c - this.value / 100 * c;
                              circle_stroke.style.strokeWidth = 'var(--c-stroke-width-dragging)';
                              
                              // set cursor while dragging
                              if (event.type === 'mousedown' || event.type === 'input') {
                                  this.style.cursor = 'grabbing';
                              } else {
                                  this.style.cursor = 'grab';
                              }

                              // reset stroke width if value doesn't change
                              if (input == this.value && (event.type === 'click' || event.type === 'touchend'))
                                  circle_stroke.style.strokeWidth = 'var(--c-stroke-width)';

                              // on release
                              if (event.type === 'mouseup' || event.type === 'touchend') {

                                  // display loader if brightness is 0
                                  if (circle_slider.value == 0 && elt.getElementById('loader')) {
                                      elt.getElementById('loader').style.display = 'initial';
                                      elt.getElementById('circle').style.display = 'none';
                                  }

                                  // set brightness
                                  hass.callService('light', 'turn_on', {
                                      entity_id: entity.entity_id,
                                      brightness_pct: this.value
                                  });
                              }
                          }
                      }
                  }, 0);

                  return circle(state, input, unit);
              }

             /* * * * * * * * * * * * * * * * * *
              *                                 *
              *             PERSON              *
              *                                 *
              * * * * * * * * * * * * * * * * * */

              else if (domain === 'person') {
                  let time = c => {
                      let s = (c/1e3),
                          m = (c/6e4),
                          h = (c/36e5),
                          d = (c/864e5);
                      return s < 60
                          ? parseInt(s) + 's'
                          : m < 60 ? parseInt(m) + 'm'
                          : h < 24 ? parseInt(h) + 'h'
                          : parseInt(d) + 'd';
                  };
                  let input = states[variables.retain] === undefined || states[variables.retain].state === 'unavailable'
                          ? time(Date.now() - Date.parse(entity.last_changed))
                          : time(Date.now() - Date.parse(states[variables.retain].state)),
                      unit = ' ';
                  return circle(state, input, unit);
              }

             /* * * * * * * * * * * * * * * * * *
              *                                 *
              *             CLIMATE             *
              *                                 *
              * * * * * * * * * * * * * * * * * */

              else if (domain === 'fan') {
                  return circle(state, input, unit);
              }

             /* * * * * * * * * * * * * * * * * *
              *                                 *
              *              OTHER              *
              *                                 *
              * * * * * * * * * * * * * * * * * */

              else if (variables.state_on) {
                  return circle(state, input, unit);
              }
          }
        ]]]
base_media:
  template:
    - settings
  state_display: |
    [[[
      const stateDict = {
        'on': variables.translate_on,
        'off': variables.translate_off,
        'playing': variables.translate_playing,
        'paused': variables.translate_paused,
        'standby': variables.translate_standby,
        'idle': variables.translate_idle
      };
      if (variables.state === true) return variables.translate_unknown;
      return stateDict[variables.state];
    ]]]
  variables:
    media_on: >
      [[[ return !entity || ['playing', 'paused'].indexOf(entity.state) !== -1;
      ]]]
    media_off: >
      [[[ return !entity || ['off', 'idle', 'standby', 'unknown',
      'unavailable'].indexOf(entity.state) !== -1; ]]]
  tap_action:
    action: |
      [[[
        return variables.media_on
            ? 'call-service'
            : 'none';
      ]]]
    service: media_player.media_play_pause
    service_data:
      entity_id: |
        [[[
          return variables.entity_id;
        ]]]
  double_tap_action:
    action: more-info
  styles:
    card:
      - color: |
          [[[
            if (variables.is_youtube) {
                return `#efefef`;
            } else {
                return variables.media_on && variables.entity_picture === undefined
                    ? 'rgba(0, 0, 0, 0.6)'
                    : variables.media_off
                        ? '#97989c'
                        : '#efefef';
            }
          ]]]
      - text-shadow: |
          [[[
            if (variables.is_youtube) {
                return `1px 1px 5px rgba(18, 22, 23, 0.9)`;
            } else {
                return variables.media_off || variables.entity_picture === undefined
                    ? 'none'
                    : '1px 1px 5px rgba(18, 22, 23, 0.9)';
            }
          ]]]
  media:
    template:
      - base
      - base_media
    styles:
      custom_fields:
        icon:
          - width: 70%
          - margin-left: 2%
          - fill: '#9da0a2'
          - display: |
              [[[ if (variables.is_youtube) {
                  return `none`;
              } else {
                  return variables.media_off || variables.entity_picture === undefined
                      ? 'initial'
                      : 'none';
              } ]]]
      card:
        - background-color: none
        - background-size: cover
        - background-position: center
        - background-image: |
            [[[
              if (variables.is_youtube) {
                  return `linear-gradient(0deg, rgba(0,0,0,.8) 0%, rgba(0,0,0,0) 100%), url(${states[this._config?.triggers_update].state})`;
              } else {
                  return variables.media_on && variables.entity_picture === undefined
                      ? 'linear-gradient(0deg, rgba(255, 255, 255, 0.8) 0%, rgba(255, 255, 255, 0.8) 100%)'
                      : variables.media_off
                          ? 'linear-gradient(0deg, rgba(115, 115, 115, 0.2) 0%, rgba(115, 115, 115, 0.2) 100%)'
                          : `linear-gradient(0deg, rgba(0,0,0,.8) 0%, rgba(0,0,0,0) 100%), url(${variables.entity_picture})`;
              }
            ]]]
  conditional_media:
    aspect_ratio: 1000/996
    template:
      - base
      - base_media
      - icon_play_pause
    variables:
      i: |
        [[[
          if (entity) {
              let data = entity.attributes.data;
              return data === undefined || Math.floor(Math.random() * (data.length - 1)) + 1;
          }
        ]]]
    state_display: |
      [[[
        let horizontalStack = this.getRootNode().host,
            swipeCard = horizontalStack.getRootNode().host,
            gridTitle = swipeCard.getRootNode().querySelector("h1");

        swipeCard.swiper.on("slideChange", () => {
            if (swipeCard.swiper.realIndex === 0) {
                gridTitle.textContent = "Media";
            }
            else if (swipeCard.swiper.realIndex === 1) {
                gridTitle.textContent = "Spelare";
            }
        });

        if (entity) {
            let elt = this.shadowRoot,
                await = setTimeout(marquee, 100),
                data = entity.attributes.data,
                artist = entity.attributes.media_artist,
                title = entity.attributes.media_title;

              if (data !== undefined) {
                  var number = data[variables.i].number === undefined && data[variables.i].aired !== undefined
                      ? `(${data[variables.i].aired.split("-")[0]})`
                      : data[variables.i].number === undefined && data[variables.i].aired === undefined
                          ? ' '
                          : data[variables.i].number,
                  output = `${data[variables.i].title} ${number}`;
              } else {
                  var output = artist === undefined && title !== undefined
                      ? title
                      : title === undefined && artist !== undefined
                          ? artist
                          : title !== undefined && artist !== undefined
                              ? `${artist} - ${title}`
                              : variables.translate_idle;
              }

            function marquee() {
                let state = elt.getElementById("state"),
                    container = elt.getElementById("container");

                if (state && container) {
                    state.innerHTML = output;
                    let ro = new ResizeObserver(entries => {
                        let spacer = "&nbsp;".repeat(3),
                            s = entries[0],
                            c = entries[1],
                            r = s && s.contentRect &&
                                c && c.contentRect &&
                                s.contentRect.width !== 0 &&
                                c.contentRect.width !== 0;

                        if (r && s.contentRect.width < c.contentRect.width) {
                            state.classList.remove("marquee");
                        }
                        else if (r && s.contentRect.width >= c.contentRect.width) {
                            state.innerHTML = `${output} ${spacer} ${output} ${spacer}&nbsp;`;
                            state.classList.add("marquee");
                        }
                    });
                    ro.observe(state);
                    ro.observe(container);
                }
            }
            return output;
        }
        return variables.translate_unknown;
      ]]]
    tap_action:
      action: call-service
      service: media_player.media_play_pause
      service_data:
        entity_id: |
          [[[ return variables.entity_id; ]]]
    styles:
      grid:
        - gap: 0.65%
      name:
        - padding: 0.2vw
        - margin: '-0.2vw'
      state:
        - padding-bottom: 5.25%
        - max-width: unset
        - overflow: visible
      card:
        - padding: 5.75% 5.25% 0 5.75%
        - border-radius: calc(var(--button-card-border-radius) / 2)
        - background: rgba(115, 115, 115, 0.2) center center/cover no-repeat
        - background-image: |
            [[[
              if (entity) {
                if (variables.is_youtube) {
                    return `url(${states[this._config?.triggers_update].state})`;
                } else {
                  let data = entity.attributes.data;
                  return data && (data[variables.i].fanart || data[variables.i].poster)
                      ? `url("${data[variables.i].fanart}"), url("${data[variables.i].poster}")`
                      : `url("${variables.entity_picture}")`;
                }
              }
            ]]]
        - color: |
            [[[
              return entity === undefined
                  ? '#97989c'
                  : '#efefef';
            ]]]
        - text-shadow: |
            [[[
              return entity === undefined
                  ? 'none'
                  : '1px 1px 5px rgba(18, 22, 23, 0.9)';
            ]]]
      custom_fields:
        icon:
          - width: 30%
          - fill: |
              [[[
                return entity && variables.media_on
                    ? 'rgba(255, 255, 255, 0.8)'
                    : '#9da0a2';
              ]]]
        blur_overlay:
          - display: block
          - position: absolute
          - width: 103.1%
          - height: 103.1%
          - filter: var(--blur-intensity)
          - clip-path: >
              inset(74.5% 1.45% 1.45% 1.45% round 0 0
              calc(var(--button-card-border-radius) / 2)
              calc(var(--button-card-border-radius) / 2))
          - background: center center/cover no-repeat
          - background-image: |
              [[[
                if (entity) {
                  if (variables.is_youtube) {
                      return `url(${states[this._config?.triggers_update].state})`;
                  } else {
                    let data = entity.attributes.data;
                    return data && (data[variables.i].fanart || data[variables.i].poster)
                        ? `url("${data[variables.i].fanart}"), url("${data[variables.i].poster}")`
                        : `url("${variables.entity_picture}")`;
                  }
                }
              ]]]
          - left: '-1.5%'
          - bottom: '-1.6%'
    custom_fields:
      blur_overlay: |
        [[[
          setTimeout(() => {
              let elt = this.shadowRoot,
                  card = elt.getElementById('card'),
                  container = elt.getElementById('container'),
                  blur_overlay = elt.getElementById('blur_overlay');

              if (elt && card && container && blur_overlay) {
                  card.insertBefore(blur_overlay, container);
              }
            }, 0);
          return ' ';
        ]]]
  lock:
    tap_action:
      loader: |
        [[[
          let elt = this.shadowRoot;
          if (variables.state_on && variables.lock === 'on') {
              elt.getElementById('lock').classList.add('locked');
              window.setTimeout(() => {
                  elt.getElementById('lock').classList.remove('locked');
              }, 1100);
          } else {

            // duplicate of "loader" template
              let loader = (id, style, timeout) => {
                  elt.getElementById(id) && (elt.getElementById(id).style.display = style,
                      window.setTimeout(() => {
                        elt.getElementById('loader').style.display = 'none'
                      }, 20000))
              };
              loader('circle', 'none', 'initial'),
              loader('loader', 'initial', 'none');
          }
        ]]]
    custom_fields:
      circle: |
        [[[
          if (entity && variables.trigger) {
              let state = variables.trigger.state === 'on' ? 'locked' : null;
              if (variables.lock === 'on') {
                  return `
                    <svg viewBox="0 0 50 50">
                      <style>
                        @keyframes locked {
                          from,
                          to {
                            transform: translateX(0);
                          }
                          10%,
                          30%,
                          50%,
                          70%,
                          90% {
                            transform: translateX(-8%);
                          }
                          20%,
                          40%,
                          60%,
                          80% {
                            transform: translateX(8%);
                          }
                        }
                        .locked {
                          animation: locked 1.1s;
                        }
                      </style>
                      <path id="lock" class="${state}" d="M8.2 22.6h2.4v-7.2C10.6 7.5 17.1 1 25 1s14.4 6.4 14.4 14.4v7.2h2.4V49H8.2m26.4-26.4v-7.2c0-5.3-4.3-9.6-9.6-9.6s-9.6 4.3-9.6 9.6v7.2"/>
                    </svg>
                  `;
              }
          }
        ]]]
    styles:
      custom_fields:
        circle:
          - width: 45%
          - fill: var(--state-icon-color)
          - margin: 1% 2% 0 0
          - justify-self: end
          - opacity: 1
          - display: grid
  loader:
    custom_fields:
      loader: |
        <img src="/local/loader.svg" width="100%">
    tap_action:
      loader: |
        [[[
          if (entity) {
              let elt = this.shadowRoot,
                  loader = (id, style, timeout) => {
                    elt.getElementById(id) && (elt.getElementById(id).style.display = style,
                      window.setTimeout(() => {
                        elt.getElementById('loader').style.display = 'none'
                      }, 20000))
                  };
              loader('circle', 'none', 'initial'),
              loader('loader', 'initial', 'none');
          }
        ]]]
    styles:
      custom_fields:
        loader:
          - display: none
          - top: '-6%'
          - right: '-3.5%'
          - width: 52%
          - position: absolute
          - opacity: 0.5
          - pointer-events: none
          - filter: |
              [[[
                return variables.state_on
                    ? 'none'
                    : 'invert(1)';
              ]]]
  climate_base:
    show_icon: false
    styles:
      name:
        - padding: 12px 13px
        - font-size: 0.8em
        - font-weight: 600
      card:
        - border-radius: 10px
  climate_fan_mode:
    variables:
      fan_mode: false
    tap_action:
      action: call-service
      service: climate.set_fan_mode
      service_data:
        entity_id: |
          [[[ return !entity || entity.entity_id; ]]]
        fan_mode: |
          [[[ return variables.fan_mode; ]]]
    styles:
      card:
        - background-color: |
            [[[
              return !entity || entity.attributes.fan_mode === variables.fan_mode
                  ? "rgba(158, 158, 158, 0.2)"
                  : "rgba(189, 189, 189, 0.05)";
            ]]]
    template:
      - climate_base
  climate_swing_mode:
    tap_action:
      action: call-service
      service: climate.set_swing_mode
      service_data:
        entity_id: |
          [[[ return !entity || entity.entity_id; ]]]
        swing_mode: |
          [[[
            return !entity || entity.attributes.swing_mode === 'off'
                ? 'on'
                : 'off';
          ]]]
    styles:
      card:
        - background-color: |
            [[[
              return !entity || entity.attributes.swing_mode === "on"
                  ? "rgba(158, 158, 158, 0.2)"
                  : "rgba(189, 189, 189, 0.05)";
            ]]]
    template:
      - climate_base
  footer:
    template:
      - settings
      - tilt
      - extra_styles
    variables:
      notify: |
        [[[
          return false;
        ]]]
      tilt_options: |
        [[[
          return {
            max: 5,
            scale: 1.1,
            glare: true,
            'max-glare': 0.07,
            perspective: 1000,
            speed: 800,
            parallax: '10px'
          };
        ]]]
    size: 2vw
    show_icon: false
    color: '#9da0a2'
    custom_fields:
      notify: |
        [[[
          if (Number.isInteger(variables.notify)) {
              return variables.notify;
          } else if (variables.notify) {
              return `<span style="font-weight: 900;">!</span>`;
          }
        ]]]
    styles:
      card:
        - color: '#97989c'
        - width: fit-content
        - border: 0.12vw solid rgba(115, 115, 115, 0.2)
        - transition: none
        - padding: 0 0 0.05vw 0
        - overflow: visible
        - '--mdc-ripple-color': rgba(0, 0, 0, 0.8)
      custom_fields:
        notify:
          - display: |
              [[[
                if (Number.isInteger(variables.notify)) {
                    return variables.notify > 0
                        ? 'initial'
                        : 'none';
                }
                else if (variables.notify) {
                    return variables.notify
                        ? 'initial'
                        : 'none';
                }
              ]]]
          - position: absolute
          - font-weight: 700
          - color: '#d6d6d6'
          - background: '#8b3333'
          - border-radius: 50%
          - text-align: center
          - text-overflow: unset
          - z-index: 1
    tap_action:
      haptic: medium
    hold_action:
      action: block
    double_tap_action:
      action: block
  icon_plex:
    custom_fields:
      icon: |
        <svg viewBox="0 0 50 50">
          <path d="M7.7.3h34.6c4.1 0 7.4 3.3 7.4 7.4v34.6c0 4.1-3.3 7.4-7.4 7.4H7.7c-4.1 0-7.4-3.3-7.4-7.4V7.7C.3 3.6 3.6.3 7.7.3z" fill="#282a2d"/>
          <path d="M25,7.1H14.6L25,25L14.6,42.9H25L35.4,25L25,7.1z" fill="#e5a00d"/>
        </svg>
  icon_apple_tv:
    custom_fields:
      icon: |
        <svg viewBox="0 0 50 50">
          <path d="M25.2 49.7l-13.7-.1c-2.4 0-4.6-.8-6.5-2.2-2-1.6-3.6-3.6-4.3-6.2-.2-1-.2-1.9-.3-3V11.5C.5 7.9 1.9 5 4.8 2.7 6.2 1.6 7.8.8 9.6.5c.5-.1.9-.1 1.4-.1L27.5.3l10.9.1c2.6 0 4.8.8 6.7 2.4 2.1 1.7 3.7 3.9 4.2 6.6l.2 2.4.1 20.5-.1 6.7c-.1 2.2-.9 4.2-2.2 5.9-1.7 2.2-4 3.8-6.8 4.4-.6.1-1.2.2-1.9.2-.1.1-13.4.2-13.4.2zm-4-27.8c-.9-1.2-2.2-1.6-3.7-1.2-.4.1-.8.2-1.2.4-.3.1-.6.1-.8 0-.4-.1-.8-.3-1.2-.4-.3-.1-.7-.1-1-.1-1.5.2-2.4 1.1-3 2.6-.4 1.1-.3 2.2 0 3.5.4 1.5 1 2.9 2.1 4 .5.6 1.2.9 2 .6 1.1-.5 2.2-.5 3.4 0 .8.3 1.5 0 2.1-.6.7-.8 1.1-1.8 1.6-2.8v-.2c-1-.6-1.7-1.4-1.8-2.7-.2-1.4.5-2.4 1.5-3.1zm9.9-1.4c.1.2.1.3.1.4l3.6 9.5c.1.3.3.4.6.4h.7c.6 0 .6 0 .9-.6l3.7-9.4c.1-.1.1-.3.2-.5H39l-2.9 8.3-3.1-8.3-1.9.2zM27.3 18l-1.3.4c-.5.2-.5.2-.6.7v1.4h-1.6l.1 1.4h1.5v5c0 .7.1 1.4.2 2.1.1.5.3 1 .8 1.4.8.6 2.6.7 3.5.2l-.1-1.2h-1.3c-.5 0-.9-.3-1-.8-.1-.3-.2-.6-.2-1v-5.8H30c0-.5.1-1 0-1.4h-2.7V18zm-8.8-.9c-1.9.3-3 2-2.7 3.2 1.4.2 2.9-1.7 2.7-3.2z"/>
        </svg>
  icon_spotify:
    custom_fields:
      icon: |
        <svg viewBox="0 0 50 50">
          <path d="M25 .3C11.4.3.3 11.4.3 25S11.4 49.7 25 49.7 49.7 38.6 49.7 25 38.6.3 25 .3zm11.3 35.6c-.4.7-1.4 1-2.1.5-5.8-3.5-13.1-4.3-21.7-2.4-.8.2-1.7-.3-1.8-1.2-.2-.8.3-1.7 1.2-1.8 9.4-2.2 17.5-1.2 24 2.8.6.5.9 1.4.4 2.1zm3.1-6.7c-.6.9-1.7 1.2-2.6.6-6.6-4.1-16.8-5.3-24.6-2.9a1.96 1.96 0 0 1-2.4-1.3 1.96 1.96 0 0 1 1.3-2.4c9-2.7 20.1-1.4 27.7 3.3.8.6 1.1 1.8.6 2.7h0zm.2-7c-8-4.7-21.1-5.2-28.7-2.9-1.2.4-2.5-.3-2.9-1.5s.3-2.5 1.5-2.9c8.7-2.6 23.2-2.1 32.4 3.3 1.1.7 1.5 2.1.8 3.2-.6 1.1-2 1.4-3.1.8h0z"/>
        </svg>
  icon_nest_mini:
    custom_fields:
      icon: |
        <svg viewBox="0 0 50 50">
          <path d="M49.7 25c0 13.6-11.1 24.7-24.8 24.7C11.3 49.7.3 38.6.3 25S11.4.3 25 .3 49.7 11.4 49.7 25zm-33.9 0a2.22 2.22 0 0 0-2.2-2.2c-1.2 0-2.3 1-2.3 2.2a2.22 2.22 0 0 0 2.2 2.2c1.3.1 2.3-.9 2.3-2.2h0zm10.8 0c0 1.2.9 2.2 2.2 2.3 1.3 0 2.3-1 2.3-2.2 0-1.3-1-2.3-2.2-2.3-1.3 0-2.3.9-2.3 2.2zm-3.2 0a2.22 2.22 0 0 0-2.2-2.2c-1.2 0-2.3 1-2.3 2.2a2.22 2.22 0 0 0 2.2 2.2c1.3 0 2.3-.9 2.3-2.2h0zm13 2.2a2.22 2.22 0 0 0 2.2-2.2c0-1.2-1-2.3-2.2-2.3a2.22 2.22 0 0 0-2.2 2.2c0 1.3 1 2.3 2.2 2.3z" />
        </svg>
  icon_play_pause:
    styles:
      custom_fields:
        play_pause:
          - top: '-10%'
          - right: 0
          - bottom: 0
          - left: 0
          - margin: auto
          - width: 25%
          - height: 25%
          - position: absolute
          - fill: '#dedede'
    custom_fields:
      play_pause: |
        [[[
          let style = `
            <style>
              .scale-up {
                animation: scale-up 1s forwards;
                cubic-bezier(.05, .5, .3, 1);
                transform-origin: center center;
              }
              @keyframes scale-up {
                0% {
                  opacity: 0;
                  transform: scale(0);
                }
                20% {
                  transform: scale(1);
                }
                30% {
                  opacity: 1;
                }
                80% {
                  opacity: 1;
                }
                100% {
                  opacity: 0;
                }
              }
            </style>
          `;
          if (variables.state === 'paused' && variables.timeout < 2000) {
              return `
                <svg viewBox="0 0 166 166">${style}
                  <path class="scale-up" d="M0 0h59.9v166H0zm106.1 0H166v166h-59.9z"/>
                </svg>
              `;
          }
          if (variables.state === 'playing' && variables.timeout < 2000) {
              return `
                <svg viewBox="0 0 166 166">${style}
                  <path class="scale-up" d="M0 0l166 83L0 166z"/>
                </svg>
              `;
          }
        ]]]
  icon_hue:
    styles:
      custom_fields:
        icon:
          - width: 77%
          - margin-left: '-14%'
          - margin-top: 1%
    custom_fields:
      icon: |
        [[[
          let state = variables.state_on && variables.timeout < 2000 ? 'on' : null;
          return `
            <svg viewBox="0 0 50 50">
              <style>
                @keyframes on {
                  0% {
                    transform: scale(0.85);
                  }
                  20% {
                    transform: scale(1.1);
                  }
                  40% {
                    transform: scale(0.95);
                  }
                  60% {
                    transform: scale(1.03);
                  }
                  80% {
                    transform: scale(0.97);
                  }
                  100% {
                    transform: scale(1);
                  }
                }
                .on {
                  animation: on 0.8s;
                  transform-origin: center;
                }
              </style>
              <path fill="#9da0a2" d="M27.4 47.3h-4.9s-.7.1-.7.8.4.9.7.9h4.9c.3 0 .7-.1.7-.9s-.7-.8-.7-.8zm3.3-2.9H19.3s-.8 0-.8.8.6.9.8.9h11.5c.2 0 .8-.1.8-.9-.1-.8-.9-.8-.9-.8zm0-3H19.3s-.8 0-.8.8.6.9.8.9h11.5c.2 0 .8-.1.8-.9-.1-.8-.9-.8-.9-.8zm0-2.9H19.3s-.8 0-.8.8.6.9.8.9h11.5c.2 0 .8-.1.8-.9s-.9-.8-.9-.8zm5.2-23.2c-3.3-5.3-7-5.6-10.9-5.6-3.8 0-8.4.4-10.9 5.6-.1.1-.1.3.1.7.4.8 3.3 7.2 3.2 18.8 0 1.1-.1 1.6 0 1.7 0 .1 0 .7 1.1.7h13c1 0 1-.5 1.1-.7v-1.7c-.1-11.6 2.8-18 3.2-18.8.1-.4.1-.5.1-.7"/>
              <path class="${state} light-color" d="M14.1 15.3c3.4-.3 7-.4 10.9-.4 3.8 0 7.5.2 10.9.4.4-.4.7-.8.9-1.1C39 8.5 38.9 6.5 38.9 6c-.2-4.4-8.4-5-12.1-5h0-3.4c-3.7 0-12 .5-12.1 5 0 .5-.1 2.5 2.1 8.2 0 .3.3.8.7 1.1z"/>
            </svg>
          `;
        ]]]
  icon_shade:
    styles:
      custom_fields:
        icon:
          - width: 77%
          - margin-left: '-15%'
          - margin-top: 1%
    custom_fields:
      icon: |
        [[[
          let state = variables.state_on && variables.timeout < 2000 ? 'on' : null;
          return `
            <svg viewBox="0 0 50 50">
              <style>
                @keyframes on {
                  0% {
                    transform: scale(0.85);
                  }
                  20% {
                    transform: scale(1.1);
                  }
                  40% {
                    transform: scale(0.95);
                  }
                  60% {
                    transform: scale(1.03);
                  }
                  80% {
                    transform: scale(0.97);
                  }
                  100% {
                    transform: scale(1);
                  }
                }
                .on {
                  animation: on 0.8s;
                  transform-origin: center;
                }
              </style>
              <path fill="#9da0a2" d="M26.4 25.6c.6-.3 1.1-.7 1.1-1.3L25 17.9l-2.5 6.4c0 .7.6 1.1 1.1 1.3v20.8h-5.5v2.7h13.7v-2.7h-5.5V25.6z"/>
              <path class="${state} light-color" d="M24.6.9l-9.4.5c-.6.1-1.9 0-2.5 2.1s-2.4 9.1-4 16.9c-.2.7-.5 2-.5 2.3s-.4 1.6.9 1.6c.8.1 7.4.3 15.9.3 8.6 0 15.1-.3 15.9-.3 1.3-.1.9-1.3.9-1.6s-.3-1.6-.5-2.3c-1.6-7.8-3.4-14.8-4-16.9s-1.9-2-2.5-2.1c-1.6-.2-6.9-.4-9.4-.5"/>
            </svg>
          `;
        ]]]
  icon_custom:
    show_icon: true
    icon: var(--button-card-icon)
  icon_tv:
    styles:
      custom_fields:
        icon:
          - width: 87%
          - margin-top: '-8%'
          - fill: |
              [[[
                return variables.state_on
                    ? '#616161'
                    : '#9da0a2';
              ]]]
    custom_fields:
      icon: |
        [[[
          let style = `
            <style>
              @keyframes on {
                from {
                  transform: scaleY(0);
                }
                to {
                  transform: scaleY(1);
                }
              }
              .on {
                animation: on 1s;
                transform-origin: -100% 46%;
                animation-fill-mode: forwards;
              }
              @keyframes off {
                from {
                  transform: scaleY(1);
                }
                to {
                  transform: scaleY(0);
                }
              }
              .off {
                animation: off 1s;
                transform-origin: -100% 46%;
                animation-fill-mode: forwards;
              }
            </style>
          `,
            path = `
              <path d="M46 9.2v27.5H4.1V9.2H46m2.4-2.4H1.6v32.3h46.7c.1 0 .1-32.3.1-32.3zM11.9 43.2h26.3c.6 0 1.1-.4 1.1-1v-.3c0-.6-.4-1.1-1-1.1H11.9c-.6 0-1.1.4-1.1 1v.3a1.11 1.11 0 0 0 1.1 1.1z"/>
            `,
            gradient = `
              <linearGradient id="A" gradientUnits="userSpaceOnUse" x1="5.401" y1="34.714" x2="43.817" y2="11.74">
                <stop offset="0" stop-color="#64acb7"/>
                <stop offset="1" stop-color="#7fdbe9"/>
              </linearGradient>
            `;
          if (variables.state_on && variables.timeout < 2000) {
              return `
                <svg viewBox="0 0 50 50"> ${style} ${gradient} 
                  <path d="M2.9,8h44.3v29.9H2.9V8z" fill="#20262890"/>
                  <path class="on" d="M2.9,8h44.3v29.9H2.9V8z" fill="url(#A)"/> ${path} 
                </svg>
              `;
          }
          if (variables.state_on && variables.timeout > 2000) {
              return `
                <svg viewBox="0 0 50 50"> ${gradient} 
                  <path d="M2.9,8h44.3v29.9H2.9V8z" fill="#20262890"/>
                  <path class="on" d="M2.9,8h44.3v29.9H2.9V8z" fill="url(#A)"/> ${path} 
                </svg>
              `;
          }
          if (variables.state === 'off' && variables.timeout < 2000) {
              return `
                <svg viewBox="0 0 50 50"> ${style} ${gradient} 
                  <path class="off" d="M2.9,8h44.3v29.9H2.9V8z" fill="url(#A)"/> ${path} 
                </svg>
              `;
          } else {
              return `
                <svg viewBox="0 0 50 50"> ${style} 
                  ${path}
                </svg>
              `;
          }
        ]]]
  icon_ps5:
    styles:
      custom_fields:
        icon:
          - width: 89%
          - margin-left: '-2%'
          - margin-top: '-9%'
    custom_fields:
      icon: |
        [[[
          if (variables.state_on && variables.timeout < 2000) {
              return `
                <svg viewBox="0 0 50 50">
                  <style>
                  @keyframes on {
                    50% {
                      transform: translateY(-45%);
                    }
                    100% {
                      transform: translateY(0);
                    }
                  }
                  .on {
                    animation: on 2s cubic-bezier(0.550, 0.085, 0.680, 0.530) both;
                  }
                </style>
                <g style="clip-path: url(#mask);">
                  <g class="on">
                    <path fill="#00aa9e" d="M49.2 38.9l-75.6-25.1v7.4l75.6 25.2z"/>
                    <path fill="#f3c202" d="M49.2 46.4l-75.6-25.2v7.5l75.6 25.1z"/>
                    <path fill="#326db3" d="M49.2 53.8l-75.6-25.1V51l75.6 25.1zm0-22.3L-26.4 6.4v7.4l75.6 25.1z"/>
                  </g>
                </g>
                <defs>
                  <clipPath id="mask">
                    <path d="M47.5 33.2c-.5-2.2-3.9-3.5-9.1-3.9-3.8-.3-7.5.6-11.1 1.9l-.6.2v-5.7l-5.7.8-4.6 1.6L6 31.9h-.1c-1.9.7-3.8 2.2-3.7 4.2.1 2.1 4.7 2.6 8.2 3.2 3.3.6 6.2.2 8.9-.7l7.3 4.8L33 41l10.7-4h.1c2.8-1 4-2.5 3.7-3.8zm-31.3 2l-3.6 1.3c-2.2.8-4.1-1.1-2.1-1.9l1.7-.6 7.2-2.7v2.8l-3.2 1.1zm22.5-1.1l-1.9.7-10.2 3.7V36l6.5-2.4 3.8-1.3c4-.9 5.6.5 1.8 1.8z"/>
                  </clipPath>
                </defs>
                <path fill="#de0029" d="M26.7 14.6v28.7l-7.3-2.5V7.1l9.3 2.6c6 1.7 9.6 5 9.6 10.7-.1 6.7-3 9.4-8.7 7.6V14.9c-.1-1.6-2.9-1.7-2.9-.3h0z"/>
              </svg>
            `;
          }

          return variables.state_on && variables.timeout > 2000
              ? `
                <svg viewBox="0 0 50 50">
                  <path d="M33.1 33.6L26.7 36v-4.5l6.4 2.1h0zM19.4 29l-2.9-1h-.1L6 31.9h-.1-.1l6.3 2.1h.1l7.2-2.7V29zm0 5.1l-3.2 1.1-.3.1 3.5 1.2v-2.4zm17.4.7h0l-10.1 3.7v.4L33 41l10.6-4-6.8-2.2z" fill="#00aa9e" />
                  <path d="M19.4 38.5l-.1.1c-2.7.9-5.6 1.3-8.9.7-3.5-.6-8.1-1.1-8.2-3.2-.1-2 1.7-3.4 3.6-4.2l6.3 2.1-1.6.6c-2 .8-.1 2.7 2.1 1.9l3.3-1.2 3.5 1.2v2zm7.3 4.8L33 41l-6.3-2.1v4.4" fill="#f3c202" />
                  <path d="M19.4 29l-2.9-1 2.9-1v2zm28.1 4.2c-.5-2.2-3.9-3.5-9.1-3.9-3.8-.3-7.5.6-11.1 1.9l-.6.2h0l6.5 2.1 3.7-1.3c4-.9 5.6.5 1.8 1.8l-1.9.7 6.8 2.2h.1.1c2.8-.9 4-2.4 3.7-3.7z" fill="#326db3" />
                  <path d="M26.7 14.6v28.7l-7.3-2.5V7.1l9.3 2.6c6 1.7 9.6 5 9.6 10.7-.1 6.7-3 9.4-8.7 7.6V14.9c-.1-1.6-2.9-1.7-2.9-.3z" fill="#de0029" />
                </svg>`
              : `
                <svg viewBox="0 0 50 50">
                  <path fill="#9da0a2" d="M43.8 37h-.1l-10.6 4-4.2 1.6v-4.9l8-2.9 1.9-.7c3.8-1.3 2.2-2.7-1.8-1.9l-3.8 1.3-4.3 1.6v-4.5c3.1-1 6.3-1.6 9.5-1.4 5.3.4 8.7 1.6 9.1 3.9.3 1.4-.9 2.9-3.7 3.9zm-26.7-2.1l-.9.3-3.6 1.3c-2.2.8-4.1-1.1-2.1-1.9l1.7-.6 5-1.9v-4.2l-.6.2L6 31.9h-.1c-1.9.7-3.8 2.2-3.7 4.2.1 2.1 4.7 2.6 8.2 3.2 2.4.4 4.6.3 6.7-.1v-4.3zm12.4-20V28c5.7 1.7 8.7-.9 8.7-7.6.1-5.7-3.6-9-9.6-10.7l-9.3-2.6v33.8l7.2 2.5.1.1V14.6c.1-1.4 2.9-1.3 2.9.3z"/>
                </svg>`;
        ]]]
  icon_spot:
    styles:
      custom_fields:
        icon:
          - width: 74%
          - margin-left: '-8%'
          - margin-top: 3%
    custom_fields:
      icon: |
        [[[
          let state;
          if (variables.state_on && variables.timeout < 2000) {
              state = 'on';
          } 
          if (variables.state === 'off' && variables.timeout < 2000) {
              state = 'off';
          }
          if (variables.state_on && variables.timeout > 2000) {
              state = 'on_timeout';
          }
          return `
            <svg viewBox="0 0 50 50">
              <style>
                @keyframes on {
                  0% {
                    transform: rotateZ(0deg);
                    animation-timing-function: cubic-bezier(0.7, 0, 0.84, 0);
                  }
                  70% {
                    transform: rotateZ(-15deg);
                    animation-timing-function: cubic-bezier(0.16, 1, 0.3, 1);
                  }
                  75% {
                    transform: rotateZ(-15deg);
                    animation-timing-function: cubic-bezier(0.16, 1, 0.3, 1);
                  }
                  88% {
                    transform: rotateZ(-11deg);
                  }
                  100% {
                    transform: rotateZ(-15deg);
                  }
                }
                @keyframes off {
                  0% {
                    transform: rotateZ(-15deg);
                    animation-timing-function: cubic-bezier(0.7, 0, 0.84, 0);
                  }
                  70% {
                    transform: rotateZ(0deg);
                    animation-timing-function: cubic-bezier(0.16, 1, 0.3, 1);
                  }
                  75% {
                    transform: rotateZ(0deg);
                    animation-timing-function: cubic-bezier(0.16, 1, 0.3, 1);
                  }
                  88% {
                    transform: rotateZ(-4deg);
                  }
                  100% {
                    transform: rotateZ(0deg);
                  }
                }
                .on {
                  animation: on 0.7s;
                  transform-origin: 40% 20%;
                  animation-fill-mode: forwards;
                  animation-delay: -0.1s;
                }
                .off {
                  animation: off 0.7s;
                  transform-origin: 40% 20%;
                  animation-fill-mode: forwards;
                }
                .on_timeout {
                  transform: rotateZ(-15deg);
                  transform-origin: 40% 20%;
                }
              </style>
              <path style="clip-path: url(#mask);" fill="#9da0a2" d="M40.5.8H17.1c-.1 0-.1 0-.1.1A3.12 3.12 0 0 0 20.1 4h6.1c.1 0 .1 0 .1.1v7.4L18 19.1l3.6 3.5 9.1-8.6c.4-.4.6-1 .7-1.6V4c0-.1 0-.1.1-.1h6c1.7.1 3.1-1.3 3-3.1z"/>
              <defs>
                <clipPath id="mask">
                  <path class="${state}" d="M0 9.1h24l8.3 8.8H50V-9H0z"/>
                </clipPath>
              </defs>
              <path class="${state} light-color" d="M25.5 46.4s1.4.5 10.4-8.2c.5-.4 6.3-6.3 5.8-7.1-.7-.8-18.6-19.5-18.6-19.5s-.6-.9-8.6 6.4c-.6.5-8.7 8-7.7 9.1l18.7 19.3z"/>
            </svg>
          `;
        ]]]
  icon_imac:
    styles:
      custom_fields:
        icon:
          - width: 80%
          - margin-left: 1%
          - margin-top: '-5%'
          - fill: |
              [[[ return variables.state_on ? '#72757c' : '#9da0a2'; ]]]
    custom_fields:
      icon: |
        [[[
          let state = variables.state_on && variables.timeout < 2000
              ? 'on'
              : null;
          return `
            <svg viewBox="0 0 50 50">
              <style>
                @keyframes on {
                  from {
                    opacity: 0.5;
                    transform: scale(0.6);
                  }
                  100% {
                    opacity: 1;
                  }
                }
                .on {
                  animation: on 0.8s cubic-bezier(0.25, 1, 0.5, 1);
                  transform-origin: center;
                }
              </style>
              <path class="${state}" d="M31.9 44.5c-1-.3-1.9.4-1.9-3.7h-9.9c0 4.2-.9 3.4-1.9 3.7s-.2.7-.2.7h14.1s.8-.3-.2-.7zM47.6 4.8H2.5c-1.1 0-2 .9-2 2v30.1c0 1.1.9 2 2 2h45c1.1 0 2-.9 2-2v-30a1.95 1.95 0 0 0-1.9-2.1zm-.7 26.4H3.2V7.6H47v23.6z"/>
            </svg>
          `;
        ]]]
  icon_monitors:
    styles:
      custom_fields:
        icon:
          - width: 73%
          - margin-left: '-9%'
    custom_fields:
      icon: |
        [[[
          let style = `
            <style>
              @keyframes cone {
                35% {
                  transform: scale(0.8);
                  animation-timing-function: cubic-bezier(0, 0.55, 0.45, 1);
                }
                36% {
                  transform: translateY(0%);
                }
                49% {
                  transform: scale(1.25);
                }
                63% {
                  transform: scale(0.85);
                  animation-timing-function: cubic-bezier(0, 0.55, 0.45, 1);
                }
                77% {
                  transform: scale(1.15);
                  animation-timing-function: cubic-bezier(0, 0.55, 0.45, 1);
                }
                95% {
                  transform: scale(1);
                }
              }
              .cone {
                animation: cone 1.2s;
                transform-origin: center;
              }
              @keyframes speaker {
                0% {
                  transform: scale(1);
                }
                40% {
                  transform: scale(1);
                }
                49% {
                  transform: scale(0.95);
                }
                63% {
                  transform: scale(1);
                }
                77% {
                  transform: scale(0.95);
                }
                100% {
                  transform: scale(1);
                }
              }
              .speaker {
                animation: speaker 1.3s;
                transform-origin: center;
              }
            </style>
          `,
            paths = `
              <g class="speaker">
                <path fill="#686868" d="M35.8 46.9H14.2c-1.1 0-2-1-2-2.3V6.7c0-1.3.9-2.3 2-2.3h21.5c1.1 0 2 1 2 2.3v37.9c0 1.2-.9 2.3-1.9 2.3z"/>
                <path fill="#2a2a2a" d="M39.2 1H10.8C9.4 1 8.3 2.1 8.2 3.5v42.9a2.65 2.65 0 0 0 2.6 2.6h28.3c1.4 0 2.5-1.2 2.6-2.6V3.5c0-1.4-1.1-2.5-2.5-2.5zM25 7c1.3 0 2.4 1.1 2.4 2.4s-1.1 2.4-2.4 2.4-2.4-1.1-2.4-2.4C22.5 8 23.6 7 25 7zm10.2 35.5l-.4 1.9s-.2.6-.6.6H15.8c-.4 0-.6-.6-.6-.6s-.1-1.1-.4-1.9.6-.9.6-.9h19.3c0-.1.8-.1.5.9z"/>
              </g>
              <path class="cone" fill="#e5dd00" d="M25 15.7c-6.2 0-11.3 5.1-11.3 11.3S18.8 38.3 25 38.3 36.3 33.2 36.3 27c-.1-6.3-5.1-11.3-11.3-11.3zm0 14.5a3.33 3.33 0 0 1-3.3-3.3 3.33 3.33 0 0 1 3.3-3.3 3.33 3.33 0 0 1 3.3 3.3c-.1 1.9-1.5 3.3-3.3 3.3z"/>
            `;
          if (variables.state_on && variables.timeout < 2000) {
              return `
                <svg viewBox="0 0 50 50">
                  ${style}
                  ${paths}
                </svg>
              `;
          }

          return variables.state_on && variables.timeout > 2000
              ? `
                <svg viewBox="0 0 50 50">
                  ${paths}
                </svg>
              `
              : `
                <svg viewBox="0 0 50 50">
                  <path fill="#9da0a2" d="M25 18.6c-4.6 0-8.4 3.8-8.4 8.4s3.8 8.4 8.4 8.4 8.4-3.8 8.4-8.4-3.7-8.4-8.4-8.4zm0 11.7a3.33 3.33 0 0 1-3.3-3.3 3.33 3.33 0 0 1 3.3-3.3 3.33 3.33 0 0 1 3.3 3.3c0 1.8-1.4 3.3-3.3 3.3zM39.2 1H10.9C9.4 1 8.3 2.1 8.3 3.6v42.9a2.65 2.65 0 0 0 2.6 2.6h28.3a2.65 2.65 0 0 0 2.6-2.6v-43C41.7 2 40.5.9 39.2 1zM25 7c1.3 0 2.4 1.1 2.4 2.4s-1.1 2.4-2.4 2.4-2.4-1.1-2.4-2.4S23.7 7 25 7zm10.3 35.5l-.4 1.9s-.2.6-.6.6H15.8c-.4 0-.6-.6-.6-.6l-.4-1.9c-.2-.9.6-.9.6-.9h19.3s.9.1.6.9zM25 38.2c-6.2 0-11.3-5.1-11.3-11.3a11.29 11.29 0 1 1 22.6 0c.1 6.3-5 11.3-11.3 11.3z"/>
                </svg>
              `;
        ]]]
  icon_lamp:
    styles:
      custom_fields:
        icon:
          - width: 79%
          - margin-left: '-16%'
    custom_fields:
      icon: |
        [[[
          let state = variables.state_on && variables.timeout < 2000 ? 'on' : null;
          return `
            <svg viewBox="0 0 50 50">
              <style>
                @keyframes on {
                  0% {
                    transform: scale(0.85);
                  }
                  20% {
                    transform: scale(1.1);
                  }
                  40% {
                    transform: scale(0.95);
                  }
                  60% {
                    transform: scale(1.03);
                  }
                  80% {
                    transform: scale(0.97);
                  }
                }
                .on {
                  animation: on 0.8s;
                  transform-origin: center;
                }
              </style>
              <path fill="#9da0a2" d="M26.5 21.8l3.8-6.1H19.7l3.8 6.1c-5 .7-6.3 5.8-5.7 10.2.7 5.1 3.2 10.1 5.7 14.4H19v2.5h11.8v-2.5h-4.5C29 42 31.4 37 32.1 32c.6-4.4-.6-9.4-5.6-10.2zm3.1 9.1c-.3 4.3-2.3 8.7-4.4 12.4l-.2.1v.1-.1c-1.8-3-3.3-6.4-4.1-9.7-.7-3.1-1-7.2 2.7-8.4 1.4-.5 3.1-.1 4.2.8 1.6 1 1.8 3 1.8 4.8z"/>
              <path class="${state} light-color" d="M38.1 20L35.7 3.8c-.3-1.9-.4-1.7-.6-2-.9-.6-2.3-.7-2.3-.7H17.4s-1.4 0-2.3.7c-.2.3-.3.1-.6 2C14 5.7 11.9 20 11.9 20s5.8.3 13.4.3h0c7.3 0 12.8-.3 12.8-.3z"/>
            </svg>
          `;
        ]]]
  icon_climate:
    styles:
      custom_fields:
        icon:
          - width: 78%
          - margin-left: '-10%'
          - fill: >
              [[[ return variables.state === 'cool' || variables.state ===
              'fan_only' ? '#5daeea' : '#9da0a2'; ]]]
    custom_fields:
      icon: |
        <svg viewBox="0 0 50 50">
          <path d="M36.8 1.2v1.7a5.34 5.34 0 0 1-5.3 5.3H18.4a5.34 5.34 0 0 1-5.3-5.3V1.2c-2.6.4-4.7 2.8-4.7 5.6v36.5c0 3.1 2.6 5.7 5.7 5.7h21.8c3.1 0 5.7-2.6 5.7-5.7V6.8c0-2.8-2.1-5.2-4.8-5.6zm-1.7 35.6c-.2 0-.4 0-.5-.1-.4-.1-1.2-.2-2.4-.6-.5-.2-.8-.3-1.2-.4-.3-.1-.7-.3-1.4-.5-1-.4-1.5-.5-1.9-.6-.5-.1-1.1-.2-1.9-.2s-1.4.2-1.9.4c-1 .3-1.8.7-2.1.9l-.6.3a9.75 9.75 0 0 1-1.4.6c-.3.1-.9.3-1.6.3h-.3c-.4 0-1 0-2-.2-.3-.1-.6-.1-.8-.2v-2.7l1.3.3c.5.1 1.3.2 1.7.2.5 0 .9-.2 1.1-.2.4-.1.6-.2 1-.4.2-.1.4-.2.7-.4.4-.2 1.3-.7 2.5-1 .6-.2 1.4-.4 2.5-.5s2 .1 2.5.2c.6.1 1.2.3 2.2.7l1.5.5c.3.1.6.2 1 .4 1 .3 1.8.5 2.1.5h.1v2.7zm0-6c-.2 0-.4 0-.5-.1-.4-.1-1.2-.2-2.4-.6-.5-.2-.8-.3-1.2-.4-.3-.1-.7-.3-1.4-.5-1-.4-1.5-.5-1.9-.6-.5-.1-1.1-.2-1.9-.2s-1.4.2-1.9.4c-1 .3-1.8.7-2.1.9l-.6.3a9.75 9.75 0 0 1-1.4.6c-.3.1-.9.3-1.6.3h-.3c-.4 0-1 0-2-.2-.3-.1-.6-.1-.8-.2v-2.7l1.3.3c.5.1 1.3.2 1.7.2.5 0 .9-.2 1.1-.2.4-.1.6-.2 1-.4.2-.1.4-.2.7-.4.4-.2 1.3-.7 2.5-1 .6-.2 1.4-.4 2.5-.5s2 .1 2.5.2c.6.1 1.2.3 2.2.7l1.5.5c.3.1.6.2 1 .4 1 .3 1.8.5 2.1.5h.1v2.7zm0-6c-.2 0-.4 0-.5-.1-.4-.1-1.2-.2-2.4-.6-.5-.2-.8-.3-1.2-.4-.3-.1-.7-.3-1.4-.5-1-.4-1.5-.5-1.9-.6-.5-.1-1.1-.2-1.9-.2s-1.4.2-1.9.4c-1 .3-1.8.7-2.1.9l-.6.3c-.4.2-.8.4-1.4.6-.3.1-.9.3-1.6.3h-.3c-.4 0-1 0-2-.2-.3-.1-.6-.1-.8-.2v-2.7l1.3.3c.5.1 1.3.2 1.7.2.5 0 .9-.2 1.1-.2.4-.1.6-.2 1-.4.2-.1.4-.2.7-.4.4-.2 1.3-.7 2.5-1 .6-.2 1.4-.4 2.5-.5s2 .1 2.5.2c.6.1 1.2.3 2.2.7l1.5.5c.3.1.6.2 1 .4 1 .3 1.8.5 2.1.5h.1v2.7zM15.7 1.9v-.8h18.6V3c0 1.5-1.2 2.8-2.8 2.8H18.4c-1.5 0-2.8-1.2-2.8-2.8V1.9z"/>
        </svg>
  icon_bathroom:
    styles:
      custom_fields:
        icon:
          - width: 78%
          - margin-left: '-10%'
    custom_fields:
      icon: |
        [[[
          let state;
          if (variables.state_on && variables.timeout < 2000) {
            state = 'on';
          } 
          if (variables.state === 'off' && variables.timeout < 2000) {
            state = 'off';
          }
          if (variables.state_on && variables.timeout > 2000) {
            state = 'on_timeout';
          }
          return `
            <svg viewBox="0 0 50 50">
              <style>
                @keyframes on {
                  0% {
                    transform: rotateZ(0deg) translate(0%, 0%);
                  }
                  100% {
                    transform: rotateZ(-90deg) translate(-1.5%, 0%);
                  }
                }
                @keyframes off {
                  0% {
                    transform: rotateZ(-90deg) translate(-1.5%, 0%);
                  }
                  45% {
                    transform: rotateZ(-40deg);
                  }
                  55% {
                    transform: rotateZ(0deg);
                  }
                  65% {
                    transform: rotateZ(-15deg);
                  }
                  75% {
                    transform: rotateZ(0deg);
                  }
                  85% {
                    transform: rotateZ(-5deg);
                  }
                  95% {
                    transform: rotateZ(0deg);
                  }
                }
                .on {
                  animation: on 0.45s;
                  animation-fill-mode: forwards;
                  transform-origin: 45% 41%;
                  transition-timing-function: cubic-bezier(0.85, 0, 0.15, 1);
                }
                .on_timeout {
                  transform: rotateZ(-90deg) translate(-1.5%, 0%);
                  transform-origin: 45% 41%;
                }
                .off {
                  animation: off 1.1s linear;
                  animation-delay: 0.05s;
                  animation-fill-mode: both;
                  transform-origin: 45% 41%;
                }
              </style>
              <g class="light-color">
                <path d="M12.9 1.2h2.5c1.6 0 2.9 1.3 2.9 2.9v18.6c0 1.4 1.1 2.5 2.4 2.5h20.5c.5 0 1 .4.9 1-.1 2.6-1.2 9.6-10.2 11v7.6c0 .2.2.4.4.4h1.5a1.58 1.58 0 0 1 1.6 1.6v.3a1.58 1.58 0 0 1-1.6 1.6H11a1.58 1.58 0 0 1-1.6-1.6v-.3a1.58 1.58 0 0 1 1.6-1.6h1.6c.2 0 .4-.2.4-.4v-7.6s-5.2-.3-5.2-5.9V4.2c0-1.6 1.3-2.9 2.9-2.9l2.2-.1c0 .1 0 0 0 0z"/>
                <path class="${state}" d="M22.3 18.8h18.3a1.58 1.58 0 0 1 1.6 1.6v.6a1.58 1.58 0 0 1-1.6 1.6h-19c-.4 0-.7-.3-.8-.7v-2.3c0-.4.3-.7.7-.8h.8z"/>
              </g>
            </svg>
          `;
        ]]]
  icon_fan2:
    styles:
      custom_fields:
        icon:
          - width: 75%
          - margin-left: '-3%'
    custom_fields:
      icon: |
        [[[
          let path = `
            <circle cx="25" cy="25" r="6.6"/>
            <path d="M31.9 30.4c-.5.6-1.1 1.1-1.7 1.5-1.4 1.1-3.2 1.7-5.2 1.7-2.3 0-4.5-.9-6-2.4-.9 1.1-1.6 2.3-2.3 3.2l-4.9 5.4c-1.8 2.7.3 5.6 2.5 7 3.9 2.4 9.8 3.1 14.1 1.9 4.6-1.3 7.9-4.7 7.4-9.7-.2-3.4-1.9-6-3.9-8.6zM17 28.3c-.4-1-.6-2.1-.6-3.3a8.7 8.7 0 0 1 6.4-8.4l-1.6-3.5L19 6.2c-1.5-2.8-5-2.5-7.3-1.2-4 2.2-7.5 6.9-8.7 11.3-1.2 4.6.2 9.2 4.7 11.3 3.1 1.3 6.1 1.2 9.3.7zm26.9-17.6c-3.3-3.4-8-4.6-12.1-1.8-2.8 1.8-4.2 4.6-5.5 7.5 4.2.6 7.4 4.2 7.4 8.6 0 .9-.1 1.7-.4 2.5 1.3.2 2.8.3 3.8.4 2.3.4 4.7 1.3 7.1 1.7 3.2.3 4.7-3 4.8-5.6.3-4.6-1.9-10.1-5.1-13.3z"/>
          `,
          style = `
            <svg viewBox="0 0 50 50">
              <style>
                @keyframes rotate {
                  0% {
                    visibility: visible;
                    transform: rotate(0deg) translateZ(0);
                  }
                  100% {
                    transform: rotate(1080deg) translateZ(0);
                  }
                }
                .start {
                  animation: rotate 2.8s ease-in;
                  transform-origin: center;
                  fill: #5daeea;
                  visibility: hidden;
                  will-change: transform;
                }
                .on {
                  animation: rotate 1.8s linear infinite;
                  transform-origin: center;
                  fill: #5daeea;
                  animation-delay: 2.8s;
                  visibility: hidden;
                  will-change: transform;
                }
                .end {
                  animation: rotate 2.8s;
                  transform-origin: center;
                  fill: #9ca2a5;
                  animation-timing-function: cubic-bezier(0.61, 1, 0.88, 1);
                  will-change: transform;
                }
                .start_timeout {
                  animation: rotate 1.8s linear infinite;
                  transform-origin: center;
                  fill: #5daeea;
                  visibility: hidden;
                  will-change: transform;
                }
                .end_timeout {
                  fill: #9ca2a5;
                }
              </style>
          `;
          if (variables.state_on && variables.timeout < 2000) {
            return `${style}<g class="start">${path}</g><g class="on">${path}</g></svg>`;
          }
          if (variables.state === 'off' && variables.timeout < 2000) {
            return `${style}<g class="end">${path}</g></svg>`;
          }
          if (variables.state_on && variables.timeout > 2000) {
            return `${style}<g class="start_timeout">${path}</g></svg>`;
          } else {
            return `${style}<g class="end_timeout">${path}</g></svg>`;
          }
        ]]]
  icon_closet:
    styles:
      custom_fields:
        icon:
          - width: 80%
          - margin-left: '-16%'
    custom_fields:
      icon: |
        [[[
          let room = `d="M11.4,1.4h27.2v43.1H11.4V1.4z" fill="#bcbcbc"`,
            door = `d="M11.4 1.4v43.1h27.2V1.4H11.4zm23 23.4c0 1.1-.9 1.9-1.9 1.9h0c-1.1 0-1.9-.9-1.9-1.9V21c0-1.1.9-1.9 1.9-1.9h0c1.1 0 1.9.9 1.9 1.9v3.8z"`;

          if (variables.state_on && variables.timeout < 2000) {
            return `
              <style>
                .state {
                  animation: state 0.5s cubic-bezier(0.250, 0.460, 0.450, 0.940) both;
                }
                .opacity {
                  animation: opacity 0.5s cubic-bezier(0.250, 0.460, 0.450, 0.940) both;
                }
                @keyframes state {
                  0% {
                    transform: none;
                    fill: #9da0a2;
                  }
                  100% {
                    transform: skewY(10deg) translate(4.5%, -3.9%) scaleX(0.8);
                    fill: #b68349;
                  }
                }
                @keyframes opacity {
                  0% {
                    opacity: 0;
                  }
                  100% {
                    opacity: 1;
                  }
                }
              </style>
              <svg viewBox="0 0 50 50">
                <path class="opacity" ${room}/>
                <path class="state" ${door}/>
              </svg>
            `;
          }

          if (variables.state_on && variables.timeout > 2000) {
            return `
              <svg viewBox="0 0 50 50">
                <style>
                  .state_timeout_on {
                    transform: skewY(10deg) translate(4.5%, -3.9%) scaleX(0.8);
                    fill: #b68349;
                  }
                </style>
                <path ${room}/>
                <path class="state_timeout_on" ${door}/>
              </svg>
            `;
          }

          return variables.state === 'off' && variables.timeout < 2000 ? `
            <style>
              .state {
                animation: state 0.4s cubic-bezier(0.250, 0.460, 0.450, 0.940) both;
              }
              .opacity {
                animation: opacity 0.4s cubic-bezier(0.250, 0.460, 0.450, 0.940) both;
              }
              .reverse {
                animation-direction: reverse;
              }
              @keyframes state {
                0% {
                  transform: none;
                  fill: #9da0a2;
                }
                100% {
                  transform: skewY(10deg) translate(4.5%, -3.9%) scaleX(0.8);
                  fill: #b68349;
                }
              }
              @keyframes opacity {
                0% {
                  opacity: 0;
                }
                100% {
                  opacity: 1;
                }
              }
            </style>
            <svg viewBox="0 0 50 50">
              <path class="opacity reverse" ${room}/>
              <path class="state reverse" ${door}/>
            </svg>
          ` : `
            <svg viewBox="0 0 50 50">
              <style>
                .state_timeout_off {
                  fill: var(--state-icon-color);
                }
              </style>
              <path class="state_timeout_off" ${door}/>
            </svg>
          `;
        ]]]
  icon_away:
    state_display: Auto
    styles:
      card:
        - transition: all 0.3s ease-out
      custom_fields:
        icon:
          - width: 79%
          - margin-left: '-1%'
          - margin-top: '-1%'
          - fill: |
              [[[ return variables.state_on ? '#516d82' : '#9da0a2'; ]]]
    custom_fields:
      icon: |
        [[[
          let state = variables.state_on ? 'on' : null;
          return `
            <svg viewBox="0 0 50 50">
              <style>
                @keyframes on {
                  10%,
                  20%,
                  100% {
                    transform: rotateZ(0deg);
                  }
                  30%,
                  50%,
                  70% {
                    transform: rotateZ(7deg);
                  }
                  90% {
                    transform: rotateZ(3deg);
                  }
                  40%,
                  60%,
                  80% {
                    transform: rotateZ(-7deg);
                  }
                }
                .on {
                  animation: on 1.35s cubic-bezier(0.5, 1, 0.89, 1);
                  animation-fill-mode: both;
                  transform-origin: 70% 80%;
                  animation-delay: 0s;
                }
              </style>
              <path class="${state}" d="M32.1 18.4s.3-1.6.7-2.1c.3-.6.9-1.4 1.6-1.8.6-.4 1.1-.7 1.4-.7s.7-.1 1 .1.6.4.8 1.3l.3 2.7.1 2.4.2 4.1c0 .3.2 3.1.2 3.3s.2 2.7.2 3.2l-.1 2.5c.1 1.6.5 3.1-.2 4.6-.6 1.4-1.7 2.7-2.9 3.6-.5.4-1.9 1.3-2.9 1.7-1.1.5-2.2.8-3.3 1.1-.5.1-1.4.4-2.3.3s-1.8-.6-2.1-1l-1.6-2.3c-.6-.8-2.1-2.3-2.3-2.5l-2.7-2.8c-.2-.2-2.7-3.5-2.9-3.8l-3.1-4.7-1.8-3.2-1.5-2.8-.9-1.8c-.1-.2-.3-1.1-.2-1.4.3-1.2 1.4-1.4 2.3-.7.3.2.9 1 1.1 1.3s6.1 8.1 6.1 8.1c.2.3.7.3.9 0s-.1-.7-.2-.9c-.4-.6-8.3-11.5-8.3-11.5s-.6-.9-.7-1.1c-.3-1.1 0-2.3 1.1-2.7s1.9.3 2.6 1.1c.3.3 8.3 11.5 8.3 11.5.2.2.3.3.5.3.3 0 .5-.4.4-.7-.1-.2-.5-.9-.5-.9L11.8 9c-.6-1-.9-2-.1-3 .7-.8 2.2-1.3 3-.2.3.3 10.1 14.3 10.1 14.3.2.2.5.4.7.3.5-.1.3-.7.1-1-.1-.2-8.4-11.8-8.4-11.8-.4-.9-.6-2 .2-2.8 1-1.1 2.5-.5 3.3.5.2.3 1 1.4 1 1.4l2.7 3.7c.1.2 3.4 4.4 3.8 4.8.9 1.1 1.8 2.2 2.7 3.2l.5.5c.1.1.1.4.1.8 0 1.3.1 2.6.1 3.9 0 .2.1.4.2.6.3.3.6.1.7-.2.1-.2 0-2.4 0-2.7-.3-.3-.5-1.3-.4-2.9zM12.2 46.9s-2.8-.8-4.8-2.7-2.6-2.7-2.8-3-1.8-3-2-3.6c-.2-.5-.2-.7.2-1 .4-.4 1-.5 1.3.1.1.2.4 1 .5 1.2s1 1.9 1.7 2.8 1.6 2.2 4.4 3.8c.6.3 1.2.6 1.9.9.3.1.6.2.8.4.1.2.1.6-.1.8-.2.4-.7.4-1.1.3zM7.1 30.7l.9 3.1c.3.7 1.1 2.3 1.9 3.3s2.4 2.6 3.4 3.2 2 1.1 3 1.5c1 .3 1.1.4 1.2.5.3.4.2 1.2-.4 1.3-.2 0-1.2 0-1.8-.3L12 41.7c-.5-.4-3.9-3.1-5.1-6S5.3 31 5.2 30.4s-.2-1.1 0-1.4c.3-.4.9-.8 1.3-.3.2.3.3.6.3.9.1 0 .2.8.3 1.1zm26.8-25s.2-.1.5-.1.8.3 1.4.7 1.9 1 3.6 2.9 2.9 3.9 3.4 5.8c.5 1.8.8 3.1.9 5.5 0 .5.1 1.6 0 1.7-.2.5-.5.7-1 .7-.6 0-.7-.5-.7-1l-.1-2.9c-.1-.6-.3-1.9-.7-2.9-.3-1-.7-2.3-1.7-3.6-.9-1.3-2.1-2.8-3.2-3.5l-2.4-1.5c-.6-.6-.7-1.2 0-1.8zm4.9-2.5s.3-.2.5-.1c.2 0 .7.3.9.4s2.1 1.3 3.6 3c1.5 1.6 3.5 5.1 3.7 7.4.1.4.2.9 0 1-.2.2-.4.4-.7.4-.2 0-.5 0-.7-.1-.1-.2-.4-1.1-.4-1.3s-.6-2-1.1-3.1C44 9.7 43.5 8.5 42 7.1s-2.2-1.9-2.8-2.2-1.1-.6-1.1-1c.1-.3.3-.6.7-.7z"/>
            </svg>
          `;
        ]]]
  icon_home:
    state_display: Auto
    styles:
      card:
        - transition: all 0.3s ease-out
      custom_fields:
        icon:
          - width: 72%
          - margin-left: '-1%'
          - fill: |
              [[[ return variables.state_on ? '#c7983e' : '#9da0a2'; ]]]
    custom_fields:
      icon: |
        [[[
          let state = variables.state_on ? 'on' : null;
          return `
            <svg viewBox="0 0 50 50">
              <style>
                @keyframes on {
                  from,
                  20%,
                  40%,
                  60%,
                  80%,
                  to {
                    animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);
                  }
                  0% {
                    transform: scale(0.3);
                  }
                  20% {
                    transform: scale(1.1);
                  }
                  40% {
                    transform: scale(0.9);
                  }
                  60% {
                    transform: scale(1.03);
                  }
                  80% {
                    transform: scale(0.97);
                  }
                  to {
                    transform: scale(1);
                  }
                }
                .on {
                  animation: on 1s;
                  transform-origin: center;
                }
              </style>
              <path class="${state}" d="M42.2 28.3c0-.8-.2-1-.2-1L26 12.1s-.5-.4-1-.4-1 .3-1 .3L8.2 27.1c-.4.5-.4.9-.4.9v18.3c0 1.1.9 2 1.9 2h8.2a1.47 1.47 0 0 0 1.5-1.5v-14a1.47 1.47 0 0 1 1.5-1.5h8.4a1.47 1.47 0 0 1 1.5 1.5v14a1.47 1.47 0 0 0 1.5 1.5h8.2c1.1 0 2-.9 2-1.9 0-.2-.3-18.1-.3-18.1zM7.3 25l-1.6 1.5s-.3.3-.5.3-.5 0-.8-.2c-.2-.2-2-2.8-2-2.8s-.1-.4-.1-.7c.1-.3.2-.7.3-.8.4-.1 21.5-20.1 21.5-20.1s.4-.3.9-.3c.4 0 .8.1.9.2s.5.4.5.4l8.9 8.5V6s.1-.4.2-.7c.1-.2.3-.3.4-.3s.3-.1.3-.1h3s.3.1.4.3a1.08 1.08 0 0 1 .3.7v9.8l7.2 6.9s.2.3.3.4c.1.2.1.7.1.7 0 .1-.1.4-.2.5s-1.6 2.5-1.6 2.5-.1.3-.3.3c-.2.1-.4.1-.7 0-.2-.1-.5-.4-.5-.4L26.4 9.4s-.3-.3-.5-.4-.4-.2-.8-.2-.5.1-.8.1c-.1.1-.4.3-.7.5C23.3 9.8 7.3 25 7.3 25z"/>
            </svg>
          `;
        ]]]
views:
  - title: Home
    layout:
      grid-template-columns: 21% 20.5% 21.5% 28.5%
      grid-column-gap: 18pt
      grid-template-rows: auto
      grid-template-areas: |
        "sidebar lights lights climate"
        "sidebar media outlets security"
        "sidebar footer footer footer"
    type: custom:grid-layout
    badges: []
    cards:
      - type: custom:vertical-stack-in-card
        cards:
          - type: markdown
            content: '{{ states(''sensor.current_time'') }}'
            text_only: true
            card_mod:
              style: |
                ha-card {
                  font-size: 60px;
                  font-weight: 250;
                  background-color: transparent;
                  padding-bottom: 0px;   /* reduz espaço abaixo da hora */
                  margin-bottom: -10px;  /* aproxima a data da hora */
                }
          - type: markdown
            content: >
              {{ states('sensor.current_weekday') }}, {{
              states('sensor.current_month') }} {{ states('sensor.current_day')
              }}
            text_only: true
            card_mod:
              style: |
                ha-card {
                 font-size: 15px;
                 font-weight: 300;
                 background-color: transparent;
                 padding-top: 0px;    /* reduz espaço acima da data */
                 margin-top: -15px;   /* aproxima ainda mais */
                 margin-bottom: 10px; /* pequeno espaço para os dispositivos abaixo */
                }
          - type: vertical-stack
            style: |
              ha-card {
                width: 100%;
                background-color: #ffffff; /* Fundo branco da barra */
                color: #333333; /* Texto escuro para contraste */
                border-radius: 10px; /* Bordas arredondadas */
                padding: 0;
                box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1); /* Sombra suave */
              }
            cards:
              - type: horizontal-stack
                style: |
                  ha-card {
                    background-color: transparent; /* Fundo transparente para a barra de navegação */
                    padding: 0;
                    border: none;
                    box-shadow: none;
                    margin-bottom: 10px; /* Espaço abaixo da barra */
                  }
                cards:
                  - type: custom:button-card
                    name: null
                    icon: mdi:home
                    tap_action:
                      action: call-service
                      service: script.select_option_click
                      data:
                        alvo: input_select.temporario_slideshow_tablet
                        opcao: Cobertura
                    styles:
                      card:
                        - background-color: |
                            [[
                              if (states['input_select.temporario_slideshow_tablet'].state == 'Cobertura') return 'lightgray';
                              return 'transparent';
                            ]]
                        - color: null
                        - width: 60px
                        - height: 40px
                        - border-radius: 20px
                        - box-shadow: none
                      icon:
                        - color: null
                        - width: 25px
                        - height: 25px
                  - type: custom:button-card
                    name: null
                    icon: mdi:sofa
                    tap_action:
                      action: call-service
                      service: script.select_option_click
                      data:
                        alvo: input_select.temporario_slideshow_tablet
                        opcao: Sala
                    styles:
                      card:
                        - background-color: |
                            [[
                              if (states['input_select.temporario_slideshow_tablet'].state == 'Sala') return 'lightgray';
                              return 'transparent';
                            ]]
                        - color: null
                        - width: 60px
                        - height: 40px
                        - border-radius: 20px
                        - box-shadow: none
                      icon:
                        - color: null
                        - width: 25px
                        - height: 25px
                  - type: custom:button-card
                    icon: mdi:swim
                    tap_action:
                      action: call-service
                      service: script.select_option_click
                      data:
                        alvo: input_select.temporario_slideshow_tablet
                        opcao: Pátio
                    styles:
                      card:
                        - background-color: |
                            [[
                              if (states['input_select.temporario_slideshow_tablet'].state == 'Pátio') return 'lightgray';
                              return 'transparent';
                            ]]
                        - color: null
                        - width: 60px
                        - height: 40px
                        - border-radius: 20px
                        - box-shadow: none
                      icon:
                        - color: null
                        - width: 25px
                        - height: 25px
                  - type: custom:button-card
                    icon: mdi:bed-empty
                    tap_action:
                      action: call-service
                      service: script.select_option_click
                      data:
                        alvo: input_select.temporario_slideshow_tablet
                        opcao: Quarto
                    styles:
                      card:
                        - background-color: |
                            [[
                              if (states['input_select.temporario_slideshow_tablet'].state == 'Quarto') return 'lightgray';
                              return 'transparent';
                            ]]
                        - color: null
                        - width: 60px
                        - height: 40px
                        - border-radius: 20px
                        - box-shadow: none
                      icon:
                        - color: null
                        - width: 25px
                        - height: 25px
          - type: vertical-stack
            style: |
              ha-card {
                width: 100%;
                background-color: #ffffff; /* Fundo branco da barra */
                color: #333333; /* Texto escuro para contraste */
                border-radius: 10px; /* Bordas arredondadas */
                padding: 0;
                box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1); /* Sombra suave */
              }
            cards:
              - type: horizontal-stack
                style: |
                  ha-card {
                    background-color: transparent; /* Fundo transparente para a barra de navegação */
                    padding: 0;
                    border: none;
                    box-shadow: none;
                    margin-bottom: 10px; /* Espaço abaixo da barra */
                  }
                cards:
                  - type: custom:button-card
                    name: null
                    icon: mdi:cctv
                    tap_action:
                      action: call-service
                      service: script.select_option_click
                      data:
                        alvo: input_select.temporario_slideshow_tablet
                        opcao: Câmera
                    styles:
                      card:
                        - background-color: |
                            [[
                              if (states['input_select.temporario_slideshow_tablet'].state == 'Câmera') return 'lightgray';
                              return 'transparent';
                            ]]
                        - color: null
                        - width: 60px
                        - height: 40px
                        - border-radius: 20px
                        - box-shadow: none
                      icon:
                        - color: null
                        - width: 25px
                        - height: 25px
                  - type: custom:button-card
                    name: null
                    icon: mdi:television
                    tap_action:
                      action: call-service
                      service: script.select_option_click
                      data:
                        alvo: input_select.temporario_slideshow_tablet
                        opcao: TV
                    styles:
                      card:
                        - background-color: |
                            [[
                              if (states['input_select.temporario_slideshow_tablet'].state == 'TV') return 'lightgray';
                              return 'transparent';
                            ]]
                        - color: null
                        - width: 60px
                        - height: 40px
                        - border-radius: 20px
                        - box-shadow: none
                      icon:
                        - color: null
                        - width: 25px
                        - height: 25px
                  - type: custom:button-card
                    name: null
                    icon: mdi:power
                    tap_action:
                      action: call-service
                      service: script.select_option_click
                      data:
                        alvo: input_select.temporario_slideshow_tablet
                        opcao: Ligado
                    styles:
                      card:
                        - background-color: |
                            [[
                              if (states['input_select.temporario_slideshow_tablet'].state == 'Ligado') return 'lightgray';
                              return 'transparent';
                            ]]
                        - color: null
                        - width: 60px
                        - height: 40px
                        - border-radius: 20px
                        - box-shadow: none
                      icon:
                        - color: null
                        - width: 25px
                        - height: 25px
                  - type: custom:button-card
                    name: null
                    icon: mdi:alpha-g-box
                    tap_action:
                      action: call-service
                      service: script.select_option_click
                      data:
                        alvo: input_select.temporario_slideshow_tablet
                        opcao: Geral
                    styles:
                      card:
                        - background-color: |
                            [[
                              if (states['input_select.temporario_slideshow_tablet'].state == 'Geral') return 'lightgray';
                              return 'transparent';
                            ]]
                        - color: null
                        - width: 60px
                        - height: 40px
                        - border-radius: 20px
                        - box-shadow: none
                      icon:
                        - color: null
                        - width: 25px
                        - height: 25px
          - type: custom:mushroom-template-card
            primary: Dispositivos Ligados
            secondary: '{{ states(''sensor.dispositivos_ligados'') }} dispositivos ativos'
            icon: mdi:power
            icon_color: |-
              {% if states('sensor.dispositivos_ligados') | int > 0 %}
                green
              {% else %}
                red
              {% endif %}
            tap_action:
              action: fire-dom-event
              browser_mod:
                service: browser_mod.sequence
                data:
                  sequence:
                    - service: script.pc_click
                    - service: browser_mod.popup
                      data:
                        title: Dispositivos Detalhados
                        content:
                          type: custom:mod-card
                          style: |
                            ha-card {
                              background: linear-gradient(
                                rgba(0,0,0,0.4),
                                rgba(0,0,0,0.4)
                              ), url("/local/ligados.jpg") center/cover no-repeat;
                              background-size: cover;
                              background-position: center;
                              background-repeat: no-repeat;
                              box-shadow: none;
                              border: none;
                            }
                          card:
                            type: entity-filter
                            entities:
                              - entity: switch.smart_switch_9140
                                name: Vento
                                icon: mdi:fan
                                tap_action:
                                  action: fire-dom-event
                                  browser_mod:
                                    service: browser_mod.sequence
                                    data:
                                      sequence:
                                        - service: script.pc_click
                                        - service: switch.turn_off
                                          data:
                                            entity_id: switch.smart_switch_9140
                              - entity: switch.agua_switch_1
                                name: Água Piscina
                                icon: mdi:pipe-valve
                                tap_action:
                                  action: fire-dom-event
                                  browser_mod:
                                    service: browser_mod.sequence
                                    data:
                                      sequence:
                                        - service: script.pc_click
                                        - service: switch.turn_off
                                          data:
                                            entity_id: switch.agua_switch_1
                              - entity: switch.sonoff_10004aff0b
                                name: Aquecedor
                                icon: mdi:light-switch-off
                                tap_action:
                                  action: fire-dom-event
                                  browser_mod:
                                    service: browser_mod.sequence
                                    data:
                                      sequence:
                                        - service: script.pc_click
                                        - service: switch.turn_off
                                          data:
                                            entity_id: switch.sonoff_10004aff0b
                              - entity: switch.banheiro_interruptor_1
                                name: Banheiro
                                icon: mdi:bathtub
                                tap_action:
                                  action: fire-dom-event
                                  browser_mod:
                                    service: browser_mod.sequence
                                    data:
                                      sequence:
                                        - service: script.pc_click
                                        - service: switch.turn_off
                                          data:
                                            entity_id: switch.banheiro_interruptor_1
                              - entity: switch.sonoff_10024c29a2_1
                                name: Bomba
                                tap_action:
                                  action: fire-dom-event
                                  browser_mod:
                                    service: browser_mod.sequence
                                    data:
                                      sequence:
                                        - service: script.pc_click
                                        - service: switch.turn_off
                                          data:
                                            entity_id: switch.sonoff_10024c29a2_1
                              - entity: switch.cobertura_switch_1
                                name: Cobertura
                                icon: mdi:lightbulb
                                tap_action:
                                  action: fire-dom-event
                                  browser_mod:
                                    service: browser_mod.sequence
                                    data:
                                      sequence:
                                        - service: script.pc_click
                                        - service: switch.turn_off
                                          data:
                                            entity_id: switch.cobertura_switch_1
                              - entity: switch.light_switch_socket_1
                                name: Cozinha
                                icon: mdi:lightbulb
                                tap_action:
                                  action: fire-dom-event
                                  browser_mod:
                                    service: browser_mod.sequence
                                    data:
                                      sequence:
                                        - service: script.pc_click
                                        - service: switch.turn_off
                                          data:
                                            entity_id: switch.light_switch_socket_1
                              - entity: switch.light_switch_socket_2
                                name: Copa
                                icon: mdi:lightbulb
                                tap_action:
                                  action: fire-dom-event
                                  browser_mod:
                                    service: browser_mod.sequence
                                    data:
                                      sequence:
                                        - service: script.pc_click
                                        - service: switch.turn_off
                                          data:
                                            entity_id: switch.light_switch_socket_2
                              - entity: switch.light_switch_socket_3
                                name: Pátio
                                tap_action:
                                  action: fire-dom-event
                                  browser_mod:
                                    service: browser_mod.sequence
                                    data:
                                      sequence:
                                        - service: script.pc_click
                                        - service: switch.turn_off
                                          data:
                                            entity_id: switch.light_switch_socket_3
                              - entity: switch.light_switch_socket_4
                                name: Spot
                                icon: mdi:lightbulb
                                tap_action:
                                  action: fire-dom-event
                                  browser_mod:
                                    service: browser_mod.sequence
                                    data:
                                      sequence:
                                        - service: script.pc_click
                                        - service: switch.turn_off
                                          data:
                                            entity_id: switch.light_switch_socket_4
                              - entity: switch.light_switch_socket_5
                                name: Sala
                                icon: mdi:lightbulb
                                tap_action:
                                  action: fire-dom-event
                                  browser_mod:
                                    service: browser_mod.sequence
                                    data:
                                      sequence:
                                        - service: script.pc_click
                                        - service: switch.turn_off
                                          data:
                                            entity_id: switch.light_switch_socket_5
                              - entity: switch.light_switch_socket_6
                                name: Holofote
                                icon: mdi:lightbulb
                                tap_action:
                                  action: fire-dom-event
                                  browser_mod:
                                    service: browser_mod.sequence
                                    data:
                                      sequence:
                                        - service: script.pc_click
                                        - service: switch.turn_off
                                          data:
                                            entity_id: switch.light_switch_socket_6
                              - entity: switch.sonoff_1001465426
                                name: Entrada
                                icon: mdi:lightbulb
                                tap_action:
                                  action: fire-dom-event
                                  browser_mod:
                                    service: browser_mod.sequence
                                    data:
                                      sequence:
                                        - service: script.pc_click
                                        - service: switch.turn_off
                                          data:
                                            entity_id: switch.sonoff_1001465426
                              - entity: switch.aubess_smart_switch_1_gang_10_switch_1
                                name: Irrigação
                                icon: mdi:sprinkler-variant
                                tap_action:
                                  action: fire-dom-event
                                  browser_mod:
                                    service: browser_mod.sequence
                                    data:
                                      sequence:
                                        - service: script.pc_click
                                        - service: switch.turn_off
                                          data:
                                            entity_id: >-
                                              switch.aubess_smart_switch_1_gang_10_switch_1
                              - entity: switch.aubess_smart_switch_1_gang_9_switch_1
                                name: Jardim
                                icon: mdi:flower-tulip
                                tap_action:
                                  action: fire-dom-event
                                  browser_mod:
                                    service: browser_mod.sequence
                                    data:
                                      sequence:
                                        - service: script.pc_click
                                        - service: switch.turn_off
                                          data:
                                            entity_id: >-
                                              switch.aubess_smart_switch_1_gang_9_switch_1
                              - entity: switch.lavanderia_tomada_1
                                name: Lavanderia
                                icon: mdi:lightbulb
                                tap_action:
                                  action: fire-dom-event
                                  browser_mod:
                                    service: browser_mod.sequence
                                    data:
                                      sequence:
                                        - service: script.pc_click
                                        - service: switch.turn_off
                                          data:
                                            entity_id: switch.lavanderia_tomada_1
                              - entity: switch.sonoff_1000916c58
                                name: Painel Solar
                                icon: mdi:solar-power-variant
                                tap_action:
                                  action: fire-dom-event
                                  browser_mod:
                                    service: browser_mod.sequence
                                    data:
                                      sequence:
                                        - service: script.pc_click
                                        - service: switch.turn_off
                                          data:
                                            entity_id: switch.sonoff_1000916c58
                              - entity: switch.sonoff_10014af341
                                name: Quarto
                                icon: mdi:lightbulb
                                tap_action:
                                  action: fire-dom-event
                                  browser_mod:
                                    service: browser_mod.sequence
                                    data:
                                      sequence:
                                        - service: script.pc_click
                                        - service: switch.turn_off
                                          data:
                                            entity_id: switch.sonoff_10014af341
                              - entity: switch.tomada_bluetooth_interruptor_1
                                name: Caixa
                                icon: mdi:speaker-wireless
                                tap_action:
                                  action: fire-dom-event
                                  browser_mod:
                                    service: browser_mod.sequence
                                    data:
                                      sequence:
                                        - service: script.pc_click
                                        - service: switch.turn_off
                                          data:
                                            entity_id: switch.tomada_bluetooth_interruptor_1
                              - entity: scene.ligar_barra
                                name: Bara
                                icon: mdi:speaker-wireless
                                tap_action:
                                  action: fire-dom-event
                                  browser_mod:
                                    service: browser_mod.sequence
                                    data:
                                      sequence:
                                        - service: script.pc_click
                                        - service: switch.turn_off
                                          data:
                                            entity_id: switch.tomada_bluetooth_interruptor_1
                              - entity: switch.min_switch_3_switch_1
                                name: Vaso
                                icon: mdi:flower
                                tap_action:
                                  action: fire-dom-event
                                  browser_mod:
                                    service: browser_mod.sequence
                                    data:
                                      sequence:
                                        - service: script.pc_click
                                        - service: switch.turn_off
                                          data:
                                            entity_id: switch.min_switch_3_switch_1
                              - entity: switch.sonoff_10024c232d_1
                                name: Canil
                                icon: mdi:dog
                                tap_action:
                                  action: fire-dom-event
                                  browser_mod:
                                    service: browser_mod.sequence
                                    data:
                                      sequence:
                                        - service: script.pc_click
                                        - service: switch.turn_off
                                          data:
                                            entity_id: switch.sonoff_10024c232d_1
                              - entity: switch.sonoff_10024c2380_1
                                name: Ferro
                                icon: mdi:iron
                                tap_action:
                                  action: fire-dom-event
                                  browser_mod:
                                    service: browser_mod.sequence
                                    data:
                                      sequence:
                                        - service: script.pc_click
                                        - service: switch.turn_off
                                          data:
                                            entity_id: switch.sonoff_10024c2380_1
                              - entity: switch.smart_switch_03c3
                                name: Abajur Sala
                                icon: mdi:floor-lamp-torchiere-variant
                                tap_action:
                                  action: fire-dom-event
                                  browser_mod:
                                    service: browser_mod.sequence
                                    data:
                                      sequence:
                                        - service: script.pc_click
                                        - service: switch.turn_off
                                          data:
                                            entity_id: switch.smart_switch_03c3
                              - entity: switch.santa_switch_1
                                name: Santa
                                icon: mdi:church-outline
                                tap_action:
                                  action: fire-dom-event
                                  browser_mod:
                                    service: browser_mod.sequence
                                    data:
                                      sequence:
                                        - service: script.pc_click
                                        - service: switch.turn_off
                                          data:
                                            entity_id: switch.santa_switch_1
                              - entity: media_player.tv
                                name: TV Sala
                                icon: mdi:television
                                tap_action:
                                  action: fire-dom-event
                                  browser_mod:
                                    service: browser_mod.sequence
                                    data:
                                      sequence:
                                        - service: script.pc_click
                                        - service: switch.turn_off
                                          data:
                                            entity_id: media_player.tv
                              - entity: media_player.lg_tv_remote
                                name: LG
                                icon: mdi:television-classic
                                tap_action:
                                  action: call-service
                                  service: media_player.turn_off
                                  service_data:
                                    entity_id: media_player.lg_tv_remote
                            state_filter:
                              - 'on'
                            show_empty: false
                            card:
                              type: glance
                              title: Itens Ligados na Casa
                              state_color: true
                              show_header_toggle: false
                              theme: Caule Black Purple Glass
                              card_mod:
                                style: |
                                  ha-card {
                                    background-color: rgba(0,0,0,0.4);
                                    border: none;
                                    box-shadow: none;
                                    color: white;
                                  }
            badge_icon: mdi:power
            badge_color: |-
              {% if states('sensor.dispositivos_ligados') | int > 10 %}
                orange
              {% else %}
                blue
              {% endif %}
            card_mod:
              style: |
                ha-card {
                  background: transparent !important;
                  box-shadow: none !important;
                  --ha-card-background: transparent !important;
                }
          - type: custom:mushroom-template-card
            primary: Dispositivos Off-Line
            secondary: >-
              {% set qtd =
                [states('binary_sensor.192_168_100_102'),
                 states('binary_sensor.192_168_100_103'),
                 states('binary_sensor.192_168_100_108'),
                 states('binary_sensor.192_168_100_104'),
                 states('binary_sensor.192_168_100_110'),
                 states('binary_sensor.192_168_100_111'),
                 states('binary_sensor.192_168_100_112'),
                 states('binary_sensor.192_168_100_120'),
                 states('binary_sensor.192_168_100_121'),
                 states('binary_sensor.192_168_100_122'),
                 states('binary_sensor.192_168_100_123'),
                 states('binary_sensor.192_168_100_126'),
                 states('binary_sensor.192_168_100_127'),
                 states('binary_sensor.192_168_100_131'),
                 states('binary_sensor.192_168_100_136'),
                 states('binary_sensor.192_168_100_138'),
                 states('binary_sensor.192_168_100_142'),
                 states('binary_sensor.192_168_100_146'),
                 states('binary_sensor.192_168_100_137'),
                 states('binary_sensor.192_168_100_158'),
                 states('binary_sensor.192_168_100_163'),
                 states('binary_sensor.192_168_100_164'),
                 states('binary_sensor.192_168_100_166'),
                 states('binary_sensor.192_168_100_167'),
                 states('binary_sensor.192_168_100_169'),
                 states('binary_sensor.192_168_100_185'),
                 states('binary_sensor.192_168_100_191'),
                 states('binary_sensor.192_168_100_196'),
                 states('binary_sensor.192_168_100_195'),
                 states('binary_sensor.192_168_100_197'),
                 states('binary_sensor.192_168_100_199')]
                | select('eq','off') | list | count %}
              {{ 'Nenhum dispositivo off-line' if qtd == 0 else qtd ~ '
              dispositivos offline' }}
            icon: mdi:lan-connect
            icon_color: |-
              {% set offline =
                [states('binary_sensor.192_168_100_102'),
                 states('binary_sensor.192_168_100_103'),
                 states('binary_sensor.192_168_100_104'),
                 states('binary_sensor.192_168_100_108'),
                 states('binary_sensor.192_168_100_110'),
                 states('binary_sensor.192_168_100_111'),
                 states('binary_sensor.192_168_100_112'),
                 states('binary_sensor.192_168_100_120'),
                 states('binary_sensor.192_168_100_121'),
                 states('binary_sensor.192_168_100_122'),
                 states('binary_sensor.192_168_100_123'),
                 states('binary_sensor.192_168_100_126'),
                 states('binary_sensor.192_168_100_127'),
                 states('binary_sensor.192_168_100_131'),
                 states('binary_sensor.192_168_100_136'),
                 states('binary_sensor.192_168_100_138'),
                 states('binary_sensor.192_168_100_142'),
                 states('binary_sensor.192_168_100_146'),
                 states('binary_sensor.192_168_100_137'),
                 states('binary_sensor.192_168_100_158'),
                 states('binary_sensor.192_168_100_163'),
                 states('binary_sensor.192_168_100_164'),
                 states('binary_sensor.192_168_100_166'),
                 states('binary_sensor.192_168_100_167'),
                 states('binary_sensor.192_168_100_169'),
                 states('binary_sensor.192_168_100_185'),
                 states('binary_sensor.192_168_100_191'),
                 states('binary_sensor.192_168_100_195'),
                 states('binary_sensor.192_168_100_196'),
                 states('binary_sensor.192_168_100_197'),
                 states('binary_sensor.192_168_100_199')]
                | select('eq','off') | list | count %}
              {{ 'red' if offline > 0 else 'green' }}
            tap_action:
              action: fire-dom-event
              browser_mod:
                service: browser_mod.sequence
                data:
                  sequence:
                    - service: script.pc_click
                    - service: browser_mod.popup
                      data:
                        title: Dispositivos Off-Line
                        content:
                          type: entity-filter
                          entities:
                            - entity: binary_sensor.192_168_100_102
                              name: Ventilador
                              icon: mdi:fan
                            - entity: binary_sensor.192_168_100_103
                              name: Interfone Garagem
                              icon: mdi:doorbell-video
                            - entity: binary_sensor.192_168_100_104
                              name: DTU Hoymiles
                              icon: mdi:solar-power
                            - entity: binary_sensor.192_168_100_108
                              name: Tp-Link Archer C5
                              icon: mdi:solar-power
                            - entity: binary_sensor.192_168_100_110
                              name: Home Assistant
                              icon: mdi:home-assistant
                            - entity: binary_sensor.192_168_100_111
                              name: Cobertura
                              icon: mdi:lightbulb
                            - entity: binary_sensor.192_168_100_112
                              name: Irrigação
                              icon: mdi:sprinkler-variant
                            - entity: binary_sensor.192_168_100_120
                              name: Caixa Pátio
                              icon: mdi:speaker-wireless
                            - entity: binary_sensor.192_168_100_121
                              name: Banheiro
                              icon: mdi:bathtub
                            - entity: binary_sensor.192_168_100_122
                              name: Luz Quarto
                              icon: mdi:lightbulb
                            - entity: binary_sensor.192_168_100_123
                              name: Painel Solar
                              icon: mdi:solar-panel
                            - entity: binary_sensor.192_168_100_126
                              name: Entrada
                              icon: mdi:lightbulb
                            - entity: binary_sensor.192_168_100_127
                              name: Sensor Temperatura
                              icon: mdi:thermometer
                            - entity: binary_sensor.192_168_100_131
                              name: Blue Iris Câmeras
                              icon: mdi:cctv
                            - entity: binary_sensor.192_168_100_136
                              name: TP-Link Garagem
                              icon: mdi:router-network
                            - entity: binary_sensor.192_168_100_138
                              name: Vaso
                              icon: mdi:flower
                            - entity: binary_sensor.192_168_100_142
                              name: Jardim
                              icon: mdi:flower
                            - entity: binary_sensor.192_168_100_146
                              name: LG CABO
                              icon: mdi:television
                            - entity: binary_sensor.192_168_100_137
                              name: TV Samsung
                              icon: mdi:television
                            - entity: binary_sensor.192_168_100_158
                              name: Santa
                              icon: mdi:church
                            - entity: binary_sensor.192_168_100_163
                              name: Câmera Pátio
                              icon: mdi:cctv
                            - entity: binary_sensor.192_168_100_164
                              name: Bomba Piscina
                              icon: mdi:water-pump
                            - entity: binary_sensor.192_168_100_166
                              name: Canil
                              icon: mdi:dog
                            - entity: binary_sensor.192_168_100_167
                              name: Porta Garagem
                              icon: mdi:garage-alert
                            - entity: binary_sensor.192_168_100_169
                              name: Consumo de Água
                              icon: mdi:water
                            - entity: binary_sensor.192_168_100_185
                              name: TP-Link Cobertura
                              icon: mdi:router-wireless
                            - entity: binary_sensor.192_168_100_191
                              name: Câmera Garagem
                              icon: mdi:cctv
                            - entity: binary_sensor.192_168_100_195
                              name: Câmera Garagem
                              icon: mdi:cctv
                            - entity: binary_sensor.192_168_100_196
                              name: Lavanderia
                              icon: mdi:washing-machine
                            - entity: binary_sensor.192_168_100_197
                              name: Aquecedor
                              icon: mdi:radiator
                            - entity: binary_sensor.192_168_100_199
                              name: Câmera Portaria
                              icon: mdi:cctv
                          state_filter:
                            - 'off'
                          show_empty: false
                          card:
                            type: glance
                            title: null
                            state_color: true
                            show_header_toggle: false
              card_mod:
                style: |
                  ha-card {
                    background-color: transparent;
                    box-shadow: none;
                  }
            badge_icon: mdi:lan-disconnect
            badge_color: |-
              {% set offline =
                [states('binary_sensor.192_168_100_102'),
                 states('binary_sensor.192_168_100_103'),
                 states('binary_sensor.192_168_100_104'),
                 states('binary_sensor.192_168_100_108'),
                 states('binary_sensor.192_168_100_110'),
                 states('binary_sensor.192_168_100_111'),
                 states('binary_sensor.192_168_100_112'),
                 states('binary_sensor.192_168_100_120'),
                 states('binary_sensor.192_168_100_121'),
                 states('binary_sensor.192_168_100_122'),
                 states('binary_sensor.192_168_100_123'),
                 states('binary_sensor.192_168_100_126'),
                 states('binary_sensor.192_168_100_127'),
                 states('binary_sensor.192_168_100_131'),
                 states('binary_sensor.192_168_100_136'),
                 states('binary_sensor.192_168_100_138'),
                 states('binary_sensor.192_168_100_142'),
                 states('binary_sensor.192_168_100_146'),
                 states('binary_sensor.192_168_100_137'),
                 states('binary_sensor.192_168_100_158'),
                 states('binary_sensor.192_168_100_163'),
                 states('binary_sensor.192_168_100_164'),
                 states('binary_sensor.192_168_100_166'),
                 states('binary_sensor.192_168_100_167'),
                 states('binary_sensor.192_168_100_169'),
                 states('binary_sensor.192_168_100_185'),
                 states('binary_sensor.192_168_100_191'),
                 states('binary_sensor.192_168_100_196'),
                 states('binary_sensor.192_168_100_195'),     
                 states('binary_sensor.192_168_100_197'),
                 states('binary_sensor.192_168_100_199')]
                | select('eq','off') | list | count %}
              {{ 'orange' if offline > 10 else 'blue' }}
            card_mod:
              style: |
                ha-card {
                  background: transparent !important;
                  box-shadow: none !important;
                  --ha-card-background: transparent !important;
                }
          - type: custom:mushroom-template-card
            primary: >
              Consumo Água: {{ '%.2f' |
              format(states('sensor.cons_agua_mes_casa_round') | float) |
              replace('.', ',') }} Lts.
            secondary: >
              Consumo Instantâneo: {{ '%.2f' |
              format(states('sensor.consumo_agua_fluxo_de_consumo_de_gua') |
              float) | replace('.', ',') }} L/s
            icon: mdi:water
            icon_color: blue
            badge_icon: mdi:water-check-outline
            badge_color: blue
            tap_action:
              action: fire-dom-event
              browser_mod:
                service: browser_mod.sequence
                data:
                  sequence:
                    - service: script.pc_click
                    - service: browser_mod.popup
                      data:
                        title: Monitoramento de Consumo e Custo de Água 💧
                        content:
                          type: custom:mod-card
                          style: |
                            ha-card {
                              background: linear-gradient(
                                rgba(0,0,0,0.4),
                                rgba(0,0,0,0.4)
                              ), url("/local/consumo5.jpg") center/cover no-repeat;
                              background-size: cover;
                              background-position: center;
                              background-repeat: no-repeat;
                              box-shadow: none;
                              border: none;
                            }
                          card:
                            type: vertical-stack
                            cards:
                              - type: horizontal-stack
                                cards:
                                  - type: entities
                                    title: Consumo de Água
                                    card_mod:
                                      style: |
                                        ha-card {
                                          background-color: rgba(0,0,0,0.4);
                                          border: none;
                                          box-shadow: none;
                                          color: white;
                                        }
                                    entities:
                                      - entity: >-
                                          sensor.consumo_agua_consumo_de_gua_total_l
                                        name: Consumo Total
                                      - entity: sensor.cons_agua_hora_casa_round
                                        name: Hora Atual
                                      - entity: sensor.cons_agua_hora_casa_anterior
                                        name: Hora Anterior
                                      - entity: sensor.cons_agua_dia_casa_round
                                        name: Dia Atual
                                      - entity: sensor.cons_agua_dia_casa_anterior
                                        name: Dia Anterior
                                      - entity: sensor.cons_agua_semana_casa_round
                                        name: Semana Atual
                                      - entity: sensor.cons_agua_semana_casa_anterior
                                        name: Semana Anterior
                                      - entity: sensor.cons_agua_mes_casa_round
                                        name: Mês Atual
                                      - entity: sensor.cons_agua_mes_casa_anterior
                                        name: Mês Anterior
                                      - entity: sensor.cons_agua_ano_casa_round
                                        name: Ano Atual
                                      - entity: >-
                                          sensor.consumo_agua_fluxo_de_consumo_de_gua
                                        name: Vazão
                                        icon: mdi:water-circle
                                  - type: entities
                                    title: Custo de Água
                                    card_mod:
                                      style: |
                                        ha-card {
                                          background-color: rgba(0,0,0,0.4);
                                          border: none;
                                          box-shadow: none;
                                          color: white;
                                        }
                                    entities:
                                      - entity: sensor.custo_agua_total
                                        name: Total
                                      - entity: sensor.custo_agua_hora_atual
                                        name: Hora Atual
                                      - entity: sensor.custo_agua_hora_anterior
                                        name: Hora Anterior
                                      - entity: sensor.custo_agua_dia_atual
                                        name: Dia Atual
                                      - entity: sensor.custo_agua_dia_anterior
                                        name: Dia Anterior
                                      - entity: sensor.custo_agua_semana_atual
                                        name: Semana Atual
                                      - entity: sensor.custo_agua_semana_anterior
                                        name: Semana Anterior
                                      - entity: sensor.custo_agua_mes_atual
                                        name: Mês Atual
                                      - entity: sensor.custo_agua_mes_anterior
                                        name: Mês Anterior
                                      - entity: sensor.custo_agua_ano_atual
                                        name: Ano Atual
                                      - entity: sensor.custo_agua_min
                                        name: Valor Mínimo
            card_mod:
              style: |
                ha-card {
                  background: transparent !important;
                  box-shadow: none !important;
                  --ha-card-background: transparent !important;
                }
          - type: custom:mushroom-template-card
            primary: >-
              Produção Solar: {{ states("sensor.sonoff_1000916c58_power") |
              float | round(2) }} Kwh
            secondary: >-
              Dia: {{ states("sensor.sonoff_1000916c58_energy") | float |
              round(2) }} Kwh | Mês: {{ states("sensor.producao_solar_mensal") |
              float | round(2) }} Kw 
            icon: mdi:solar-panel
            icon_color: green
            badge_icon: mdi:solar-power-variant-outline
            badge_color: green
            tap_action:
              action: call-service
              service: script.select_option_click
              data:
                alvo: input_select.temporario_slideshow_tablet
                opcao: Painel
            card_mod:
              style: |
                ha-card {
                  background-color: transparent;
                }
          - type: custom:mushroom-template-card
            primary: >-
              Sonoff DW2: {{ states('sensor.sonoff_10024820aa_battery') | float
              }} %
            secondary: >-
              Sensor Inundação: {{
              states('sensor.shui_jin_chuan_gan_qi_bateria') | float }} %
            icon: mdi:battery
            icon_color: blue
            badge_icon: mdi:battery
            badge_color: blue
            card_mod:
              style: |
                ha-card {
                  background-color: transparent;
                }
          - type: custom:mushroom-template-card
            entity: null
            primary: E-mails não lidos
            secondary: >-
              {{ states('sensor.imap_viniciusmbs_gmail_com') }} E-mails não
              lidos
            icon: mdi:email
            icon_color: blue
            tap_action:
              action: url
              url_path: https://mail.google.com/
            card_mod:
              style: |
                ha-card {
                      background-color: transparent;
                      border-radius: 10px;
                      box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1);
                      margin-bottom: 8px;  /* pequeno espaço antes da temperatura */
                    }
          - show_current: true
            show_forecast: true
            type: weather-forecast
            entity: weather.forecast_rua_pedro_celeste
            forecast_type: hourly
            forecast_slots: 5
            card_mod:
              style: |
                ha-card {
                  background: transparent;
                  box-shadow: none;
                  border: none;
                }
        card_mod:
          style: |
            ha-card {
              background: transparent !important;
              box-shadow: none !important;
            }
        view_layout:
          grid-area: sidebar
      - type: horizontal-stack
        cards:
          - type: custom:button-card
            entity: binary_sensor.8_8_8_8
            layout: icon_name
            name: |
              [[[ 
                return states['binary_sensor.8_8_8_8'].state === 'on' 
                  ? 'CONECTADA ' 
                  : 'Sem Conexão'; 
              ]]]
            size: 20pt
            icon: |
              [[[ 
                return states['binary_sensor.8_8_8_8'].state === 'on' 
                  ? 'mdi:wifi-arrow-down' 
                  : 'mdi:wifi-cancel'; 
              ]]]
            styles:
              card:
                - border-radius: 10px
              name:
                - margin-left: '-26%'
                - font-size: 14px
                - color: |
                    [[[ 
                      return states['binary_sensor.8_8_8_8'].state === 'on' 
                        ? 'green' 
                        : 'red'; 
                    ]]]
              icon:
                - color: |
                    [[[ 
                      return states['binary_sensor.8_8_8_8'].state === 'on' 
                        ? 'green' 
                        : 'red'; 
                    ]]]
            tap_action:
              action: none
          - type: custom:button-card
            entity: button.home_pc_ligarnot
            layout: icon_name
            name: NOTEBOOK
            size: 20pt
            icon: |
              [[[
                const liga = states['button.home_pc_ligarnot'];
                const desliga = states['button.home_pc_desligarnot1'];

                if (!liga || !desliga) return 'mdi:monitor';

                return liga.last_changed < desliga.last_changed
                  ? 'mdi:monitor-off'
                  : 'mdi:monitor';
              ]]]
            styles:
              card:
                - border-radius: 10px
              name:
                - margin-left: '-26%'
                - font-size: 14px
              icon:
                - color: '#bdbbbb'
            tap_action:
              action: fire-dom-event
              browser_mod:
                service: browser_mod.sequence
                data:
                  sequence:
                    - service: script.pc_click
                    - service: button.press
                      data:
                        entity_id: |
                          [[[
                            const liga = states['button.home_pc_ligarnot'];
                            const desliga = states['button.home_pc_desligarnot1'];

                            return liga.last_changed < desliga.last_changed
                              ? 'button.home_pc_ligarnot'
                              : 'button.home_pc_desligarnot1';
                          ]]]
              haptic: medium
          - type: custom:button-card
            layout: icon_name
            icon: mdi:bus-clock
            size: 20pt
            name: ÔNIBUS
            styles:
              card:
                - border-radius: 10px
              name:
                - margin-left: '-26%'
                - font-size: 14px
              icon:
                - color: '#bdbbbb'
            tap_action:
              action: fire-dom-event
              browser_mod:
                service: browser_mod.sequence
                data:
                  sequence:
                    - service: script.pc_click
                    - service: browser_mod.popup
                      data:
                        content:
                          type: custom:mod-card
                          style: |
                            ha-card {
                              background: linear-gradient(
                                rgba(0,0,0,0.7), 
                                rgba(0,0,0,0.7)
                              ), url("/local/onibus/bus2.jpg") no-repeat center center;
                              background-size: cover;
                            }
                          card:
                            type: vertical-stack
                            cards:
                              - type: markdown
                                content: '# Horário de Ônibus'
                                card_mod:
                                  style: |
                                    ha-card {
                                      text-align: center;
                                      font-size: 20px;
                                      font-weight: bold;
                                      background: transparent;
                                      box-shadow: none;
                                      color: white;
                                    }
                              - type: grid
                                square: false
                                columns: 2
                                cards:
                                  - type: custom:mushroom-template-card
                                    primary: 215 - Bairu
                                    secondary: >-
                                      {{
                                      states('sensor.proximo_onibus_215_bairu')
                                      }}
                                    icon: mdi:bus-clock
                                    icon_color: green
                                    card_mod:
                                      style: |
                                        ha-card {
                                          background: transparent;
                                          box-shadow: none;
                                          color: white;
                                        }
                                  - type: custom:mushroom-template-card
                                    primary: 215 - Cruzeiro do Sul
                                    secondary: >-
                                      {{
                                      states('sensor.proximo_onibus_215_cruzeiro')
                                      }}
                                    icon: mdi:bus-clock
                                    icon_color: green
                                    card_mod:
                                      style: |
                                        ha-card {
                                          background: transparent;
                                          box-shadow: none;
                                          color: white;
                                        }
                                  - type: custom:mushroom-template-card
                                    primary: 213 - Bairu
                                    secondary: >-
                                      {{
                                      states('sensor.proximo_onibus_213_bairu')
                                      }}
                                    icon: mdi:bus-clock
                                    icon_color: green
                                    card_mod:
                                      style: |
                                        ha-card {
                                          background: transparent;
                                          box-shadow: none;
                                          color: white;
                                        }
                                  - type: custom:mushroom-template-card
                                    primary: 213 - Cruzeiro do Sul
                                    secondary: >-
                                      {{
                                      states('sensor.proximo_onibus_213_cruzeiro')
                                      }}
                                    icon: mdi:bus-clock
                                    icon_color: green
                                    card_mod:
                                      style: |
                                        ha-card {
                                          background: transparent;
                                          box-shadow: none;
                                          color: white;
                                        }
                                  - type: custom:mushroom-template-card
                                    primary: 299 - Alto Bairu
                                    secondary: >-
                                      {{
                                      states('sensor.proximo_onibus_299_bairu')
                                      }}
                                    icon: mdi:bus-clock
                                    icon_color: green
                                    card_mod:
                                      style: |
                                        ha-card {
                                          background: transparent;
                                          box-shadow: none;
                                          color: white;
                                        }
                                  - type: custom:mushroom-template-card
                                    primary: 299 - Cruzeiro do Sul
                                    secondary: >-
                                      {{
                                      states('sensor.proximo_onibus_299_cruzeiro')
                                      }}
                                    icon: mdi:bus-clock
                                    icon_color: green
                                    card_mod:
                                      style: |
                                        ha-card {
                                          background: transparent;
                                          box-shadow: none;
                                          color: white;
                                        }
              haptic: medium
          - type: custom:button-card
            icon: mdi:radio
            name: MÚSICA
            layout: icon_name
            size: 24px
            tap_action:
              action: fire-dom-event
              browser_mod:
                service: browser_mod.sequence
                data:
                  sequence:
                    - service: script.pc_click
                    - service: browser_mod.popup
                      data:
                        title: 🎵 Rádios Online
                        content:
                          type: custom:mod-card
                          style: |
                            :host ha-card {
                              background: url("/local/radio/radio6.jpg") no-repeat center center !important;
                              background-size: cover !important;
                              border-radius: 15px !important;
                              padding: 16px !important;
                            }
                          card:
                            type: vertical-stack
                            cards:
                              - type: custom:mushroom-media-player-card
                                entity: media_player.browser_mod_956b8792_1f04bcf2
                                name: Reprodutor
                                show_volume_level: false
                                volume_controls:
                                  - volume_set
                                  - volume_mute
                                collapsible_controls: true
                                use_media_info: true
                                icon: mdi:music
                                card_mod:
                                  style: |
                                    ha-card {
                                      background: transparent;
                                      box-shadow: none;
                                      border: none;
                                    }
                              - type: grid
                                columns: 8
                                square: false
                                cards:
                                  - type: custom:button-card
                                    aspect_ratio: 1/1
                                    show_icon: false
                                    styles:
                                      card:
                                        - border-radius: 15px
                                        - background-image: url("/local/radio/Cidde.png")
                                        - background-size: cover
                                        - background-position: center
                                    tap_action:
                                      action: call-service
                                      service: media_player.play_media
                                      target:
                                        entity_id: >-
                                          media_player.browser_mod_956b8792_1f04bcf2
                                      data:
                                        media_content_type: music
                                        media_content_id: >-
                                          https://26643.live.streamtheworld.com/RADIOCIDADE.mp3
                                    style: |
                                      ha-card {
                                        background: transparent;
                                        box-shadow: none;
                                        border: none;
                                      }              
                                  - type: custom:button-card
                                    aspect_ratio: 1/1
                                    show_name: true
                                    show_icon: false
                                    styles:
                                      card:
                                        - padding: 0
                                        - border-radius: 15px
                                        - background-image: url("/local/radio/89FM.png")
                                        - background-size: cover
                                        - background-position: center
                                    tap_action:
                                      action: call-service
                                      service: media_player.play_media
                                      target:
                                        entity_id: >-
                                          media_player.browser_mod_956b8792_1f04bcf2
                                      data:
                                        media_content_type: music
                                        media_content_id: >-
                                          https://27583.live.streamtheworld.com/RADIO_89FM.mp3
                                    style: |
                                      ha-card {
                                        background: transparent;
                                        box-shadow: none;
                                        border: none;
                                      }                   
                                  - type: custom:button-card
                                    aspect_ratio: 1/1
                                    show_icon: false
                                    styles:
                                      card:
                                        - border-radius: 15px
                                        - background-image: url("/local/radio/KissFM.png")
                                        - background-size: cover
                                        - background-position: center
                                    tap_action:
                                      action: call-service
                                      service: media_player.play_media
                                      target:
                                        entity_id: >-
                                          media_player.browser_mod_956b8792_1f04bcf2
                                      data:
                                        media_content_type: music
                                        media_content_id: https://streaming.fox.srv.br:8054/stream
                                    style: |
                                      ha-card {
                                        background: transparent;
                                        box-shadow: none;
                                        border: none;
                                      }     
                                  - type: custom:button-card
                                    aspect_ratio: 1/1
                                    show_icon: false
                                    styles:
                                      card:
                                        - border-radius: 15px
                                        - background-image: url("/local/radio/Metropilitana.png")
                                        - background-size: contain
                                        - background-repeat: no-repeat
                                        - background-position: center
                                    tap_action:
                                      action: call-service
                                      service: media_player.play_media
                                      target:
                                        entity_id: >-
                                          media_player.browser_mod_956b8792_1f04bcf2
                                      data:
                                        media_content_type: music
                                        media_content_id: >-
                                          https://stm01.virtualcast.com.br:8024/metropolitanalitoralsp
                                    style: |
                                      ha-card {
                                        background: transparent;
                                        box-shadow: none;
                                        border: none;
                                      }     
                                  - type: custom:button-card
                                    aspect_ratio: 1/1
                                    show_icon: false
                                    styles:
                                      card:
                                        - border-radius: 15px
                                        - background-image: url("/local/radio/Antena1.png")
                                        - background-size: contain
                                        - background-repeat: no-repeat
                                        - background-position: center
                                    tap_action:
                                      action: call-service
                                      service: media_player.play_media
                                      target:
                                        entity_id: >-
                                          media_player.browser_mod_956b8792_1f04bcf2
                                      data:
                                        media_content_type: music
                                        media_content_id: >-
                                          https://antena1campanha.crossradio.com.br:29090/camp3
                                    style: |
                                      ha-card {
                                        background: transparent;
                                        box-shadow: none;
                                        border: none;
                                      }     
                                  - type: custom:button-card
                                    aspect_ratio: 1/1
                                    show_icon: false
                                    styles:
                                      card:
                                        - border-radius: 15px
                                        - background-image: url("/local/radio/jp.png")
                                        - background-size: cover
                                        - background-position: center
                                    tap_action:
                                      action: call-service
                                      service: media_player.play_media
                                      target:
                                        entity_id: >-
                                          media_player.browser_mod_956b8792_1f04bcf2
                                      data:
                                        media_content_type: music
                                        media_content_id: >-
                                          https://8062.brasilstream.com.br/stream?origem=tunein
                                    style: |
                                      ha-card {
                                        background: transparent;
                                        box-shadow: none;
                                        border: none;
                                      }     
                                  - type: custom:button-card
                                    aspect_ratio: 1/1
                                    show_icon: false
                                    styles:
                                      card:
                                        - border-radius: 15px
                                        - background-image: url("/local/radio/t.png")
                                        - background-size: cover
                                        - background-position: center
                                    tap_action:
                                      action: call-service
                                      service: media_player.play_media
                                      target:
                                        entity_id: >-
                                          media_player.browser_mod_956b8792_1f04bcf2
                                      data:
                                        media_content_type: music
                                        media_content_id: >-
                                          https://api.spreaker.com/download/episode/14134104/programa_o.mp3
                                    style: |
                                      ha-card {
                                        background: transparent;
                                        box-shadow: none;
                                        border: none;
                                      }     
                                  - type: custom:button-card
                                    aspect_ratio: 1/1
                                    show_icon: false
                                    styles:
                                      card:
                                        - border-radius: 15px
                                        - background-image: url("/local/radio/MPB.png")
                                        - background-size: cover
                                        - background-position: center
                                    tap_action:
                                      action: call-service
                                      service: media_player.play_media
                                      target:
                                        entity_id: >-
                                          media_player.browser_mod_956b8792_1f04bcf2
                                      data:
                                        media_content_type: music
                                        media_content_id: https://srv1.braudio.com.br/sc/7008
                                    style: |
                                      ha-card {
                                        background: transparent;
                                        box-shadow: none;
                                        border: none;
                                      }     
                              - type: grid
                                columns: 4
                                square: false
                                cards:
                                  - type: custom:button-card
                                    show_icon: false
                                    show_name: false
                                    aspect_ratio: 1/1
                                    styles:
                                      card:
                                        - background-color: rgba(0,0,0,0.4)
                                        - border-radius: 15px
                                        - padding: 12px
                                        - background-image: url("/local/play/BtPause1.png")
                                        - background-size: 65%
                                        - background-repeat: no-repeat
                                        - background-position: center
                                    tap_action:
                                      action: fire-dom-event
                                      browser_mod:
                                        service: browser_mod.sequence
                                        data:
                                          sequence:
                                            - service: media_player.media_pause
                                              target:
                                                entity_id: >-
                                                  media_player.browser_mod_956b8792_1f04bcf2
                                            - service: script.pc_click
                                    style: |
                                      ha-card {
                                        background: transparent !important;
                                        box-shadow: none !important;
                                        border: none !important;
                                        transition: transform 0.1s, filter 0.1s;
                                      }
                                      ha-card:active {
                                        transform: scale(0.92);
                                        filter: brightness(1.3);
                                      }
                                  - type: custom:button-card
                                    show_icon: false
                                    show_name: false
                                    aspect_ratio: 1/1
                                    styles:
                                      card:
                                        - background-color: rgba(0,0,0,0.4)
                                        - border-radius: 15px
                                        - padding: 12px
                                        - background-image: url("/local/play/BtPlay1.png")
                                        - background-size: 65%
                                        - background-repeat: no-repeat
                                        - background-position: center
                                    tap_action:
                                      action: fire-dom-event
                                      browser_mod:
                                        service: browser_mod.sequence
                                        data:
                                          sequence:
                                            - service: media_player.media_play
                                              target:
                                                entity_id: >-
                                                  media_player.browser_mod_956b8792_1f04bcf2
                                            - service: script.pc_click
                                    style: |
                                      ha-card {
                                        background: transparent !important;
                                        box-shadow: none !important;
                                        border: none !important;
                                        transition: transform 0.1s, filter 0.1s;
                                      }
                                      ha-card:active {
                                        transform: scale(0.92);
                                        filter: brightness(1.3);
                                      }
                                  - type: custom:button-card
                                    show_icon: false
                                    show_name: false
                                    aspect_ratio: 1/1
                                    styles:
                                      card:
                                        - background-color: rgba(0,0,0,0.4)
                                        - border-radius: 15px
                                        - padding: 12px
                                        - background-image: url("/local/play/BtVolUp1.png")
                                        - background-size: 65%
                                        - background-repeat: no-repeat
                                        - background-position: center
                                    tap_action:
                                      action: fire-dom-event
                                      browser_mod:
                                        service: browser_mod.sequence
                                        data:
                                          sequence:
                                            - service: media_player.volume_up
                                              target:
                                                entity_id: >-
                                                  media_player.browser_mod_956b8792_1f04bcf2
                                            - service: script.pc_click
                                    style: |
                                      ha-card {
                                        background: transparent !important;
                                        box-shadow: none !important;
                                        border: none !important;
                                        transition: transform 0.1s, filter 0.1s;
                                      }
                                      ha-card:active {
                                        transform: scale(0.92);
                                        filter: brightness(1.3);
                                      }
                                  - type: custom:button-card
                                    show_icon: false
                                    show_name: false
                                    aspect_ratio: 1/1
                                    styles:
                                      card:
                                        - background-color: rgba(0,0,0,0.4)
                                        - border-radius: 15px
                                        - padding: 12px
                                        - background-image: url("/local/play/BtVolDu1.png")
                                        - background-size: 65%
                                        - background-repeat: no-repeat
                                        - background-position: center
                                    tap_action:
                                      action: fire-dom-event
                                      browser_mod:
                                        service: browser_mod.sequence
                                        data:
                                          sequence:
                                            - service: media_player.volume_down
                                              target:
                                                entity_id: >-
                                                  media_player.browser_mod_956b8792_1f04bcf2
                                            - service: script.pc_click
                                    style: |
                                      ha-card {
                                        background: transparent !important;
                                        box-shadow: none !important;
                                        border: none !important;
                                        transition: transform 0.1s, filter 0.1s;
                                      }
                                      ha-card:active {
                                        transform: scale(0.92);
                                        filter: brightness(1.3);
                                      }
                              - type: horizontal-stack
                                cards:
                                  - type: custom:button-card
                                    layout: icon_name
                                    icon: mdi:speaker-wireless
                                    size: 20pt
                                    name: CAIXA PÁTIO
                                    entity: switch.tomada_bluetooth_interruptor_1
                                    styles:
                                      card:
                                        - border-radius: 10px
                                      name:
                                        - margin-left: '-26%'
                                        - font-size: 11px
                                    state:
                                      - value: 'on'
                                        styles:
                                          icon:
                                            - color: '#adb31b'
                                      - value: 'off'
                                        styles:
                                          icon:
                                            - color: '#bdbbbb'
                                    tap_action:
                                      action: fire-dom-event
                                      browser_mod:
                                        service: browser_mod.sequence
                                        data:
                                          sequence:
                                            - service: script.pc_click
                                            - service: switch.toggle
                                              data:
                                                entity_id: switch.tomada_bluetooth_interruptor_1
                                    double_tap_action:
                                      action: more-info
                                    hold_action:
                                      action: fire-dom-event
                                      browser_mod:
                                        service: browser_mod.sequence
                                        data:
                                          sequence:
                                            - service: script.pc_click
                                            - service: switch.turn_off
                                              data:
                                                entity_id: switch.tomada_bluetooth_interruptor_1
                                    haptic: medium
                                  - type: custom:button-card
                                    layout: icon_name
                                    icon: null
                                    size: 20pt
                                    name: null
                                    styles:
                                      card:
                                        - border-radius: 10px
                                      name:
                                        - margin-left: ''
                                        - font-size: 14px
                                    tap_action:
                                      action: fire-dom-event
                                      browser_mod:
                                        service: browser_mod.sequence
                                        data:
                                          sequence:
                                            - service: script.pc_click_2
                                            - service: scene.turn_on
                                              data:
                                                entity_id: button.home_pc_desligavm1
                                      haptic: medium
                                  - type: custom:button-card
                                    layout: icon_name
                                    icon: null
                                    size: null
                                    name: null
                                    styles:
                                      card:
                                        - border-radius: 10px
                                      name:
                                        - margin-left: ''
                                        - font-size: 14px
                                    tap_action:
                                      action: fire-dom-event
                                      browser_mod:
                                        service: browser_mod.sequence
                                        data:
                                          sequence:
                                            - service: script.pc_click_2
                                            - service: scene.turn_on
                                              data:
                                                entity_id: button.home_pc_desligavm1
                                      haptic: medium
                                  - type: custom:button-card
                                    layout: icon_name
                                    icon: mdi:bluetooth
                                    size: 20pt
                                    name: BRRA
                                    styles:
                                      card:
                                        - border-radius: 10px
                                      name:
                                        - margin-left: '-26%'
                                        - font-size: 14px
                                      icon:
                                        - color: '#bdbbbb'
                                    tap_action:
                                      action: fire-dom-event
                                      browser_mod:
                                        service: browser_mod.sequence
                                        data:
                                          sequence:
                                            - service: script.pc_click
                                            - service: browser_mod.popup
                                              data:
                                                title: Horário de Ônibus
                                                content:
                                                  type: vertical-stack
                                                  cards:
                                                    - type: markdown
                                                      content: '# Horário de Ônibus'
                                                      style: |
                                                        ha-card {
                                                          text-align: center;
                                                          font-size: 20px;
                                                          font-weight: bold;
                                                        }
                                                    - type: grid
                                                      square: false
                                                      columns: 2
                                                      cards:
                                                        - type: custom:mushroom-template-card
                                                          primary: 215 - Bairu
                                                          secondary: >-
                                                            {{
                                                            states('sensor.proximo_onibus_215_bairu')
                                                            }}
                                                          icon: mdi:bus-clock
                                                          icon_color: green
                                                        - type: custom:mushroom-template-card
                                                          primary: 215 - Cruzeiro do Sul
                                                          secondary: >-
                                                            {{
                                                            states('sensor.proximo_onibus_215_cruzeiro')
                                                            }}
                                                          icon: mdi:bus-clock
                                                          icon_color: green
                                                        - type: custom:mushroom-template-card
                                                          primary: 213 - Bairu
                                                          secondary: >-
                                                            {{
                                                            states('sensor.proximo_onibus_213_bairu')
                                                            }}
                                                          icon: mdi:bus-clock
                                                          icon_color: green
                                                        - type: custom:mushroom-template-card
                                                          primary: 213 - Cruzeiro do Sul
                                                          secondary: >-
                                                            {{
                                                            states('sensor.proximo_onibus_213_cruzeiro')
                                                            }}
                                                          icon: mdi:bus-clock
                                                          icon_color: green
                                                        - type: custom:mushroom-template-card
                                                          primary: 299 - Alto Bairu
                                                          secondary: >-
                                                            {{
                                                            states('sensor.proximo_onibus_299_bairu')
                                                            }}
                                                          icon: mdi:bus-clock
                                                          icon_color: green
                                                        - type: custom:mushroom-template-card
                                                          primary: 299 - Cruzeiro do Sul
                                                          secondary: >-
                                                            {{
                                                            states('sensor.proximo_onibus_299_cruzeiro')
                                                            }}
                                                          icon: mdi:bus-clock
                                                          icon_color: green
                                    haptic: medium
          - type: custom:button-card
            layout: icon_name
            icon: mdi:cog-outline
            size: 20pt
            name: CONFIGURAÇÃO
            styles:
              card:
                - border-radius: 10px
              name:
                - margin-left: '-26%'
                - font-size: 14px
            tap_action:
              action: fire-dom-event
              browser_mod:
                service: browser_mod.sequence
                data:
                  sequence:
                    - service: script.pc_click
                    - service: browser_mod.navigate
                      data:
                        path: /config
              haptic: medium
          - type: custom:button-card
            layout: icon_name
            icon: mdi:restart
            size: 20pt
            name: REINICIAR
            styles:
              card:
                - border-radius: 10px
              name:
                - margin-left: '-26%'
                - font-size: 14px
            tap_action:
              action: fire-dom-event
              browser_mod:
                service: browser_mod.sequence
                data:
                  sequence:
                    - service: script.pc_click_2
                    - service: browser_mod.navigate
                      data:
                        path: /developer-tools/yaml
              haptic: medium
          - type: custom:button-card
            layout: icon_name
            icon: mdi:power
            size: 20pt
            name: POWER OFF
            styles:
              card:
                - border-radius: 10px
              name:
                - margin-left: '-26%'
                - font-size: 14px
            tap_action:
              action: fire-dom-event
              browser_mod:
                service: browser_mod.sequence
                data:
                  sequence:
                    - service: script.pc_click_2
                    - service: scene.turn_on
                      data:
                        entity_id: button.home_pc_desligavm1
              haptic: medium
        view_layout:
          grid-area: footer
      - square: false
        type: grid
        cards:
          - type: custom:state-switch
            entity: input_select.temporario_slideshow_tablet
            default: Coberturageral
            transition: flip-x
            transition_time: 600
            card_mod:
              style: |
                ha-card {
                  width: 50%;  # Ajusta a largura do card externo
                  height: auto;  # Ajusta a altura automaticamente para o conteúdo
                  box-shadow: none;  # Remove sombra para um visual mais limpo (opcional)
                  padding: 0;  # Remove o padding do card externo
                  margin: 0;  # Remove margens do card externo
                }
            states:
              Cobertura:
                square: false
                type: grid
                cards:
                  - type: vertical-stack
                    cards:
                      - type: picture-elements
                        image: >-
                          /api/image/serve/1081ab03c2394f29acc0e4bf83fec46c/512x512
                        elements:
                          - type: icon
                            icon: mdi:battery-30
                            style:
                              top: 9%
                              left: 5%
                              color: '#adadad'
                              transform: scale(0.7)
                          - type: state-label
                            entity: sensor.sm_a225m_battery_level
                            style:
                              top: 13%
                              left: 19%
                              color: '#adadad'
                              font-size: 10px
                          - type: icon
                            icon: mdi:map-marker
                            style:
                              top: 85%
                              left: 5%
                              color: '#adadad'
                              transform: scale(0.7)
                          - type: state-label
                            entity: sensor.sm_a225m_geocoded_location
                            style:
                              top: 89%
                              left: 95%
                              color: '#adadad'
                              font-size: 10px
                          - type: icon
                            icon: mdi:wifi
                            style:
                              top: 17%
                              left: 5%
                              color: '#adadad'
                              transform: scale(0.7)
                          - type: state-label
                            entity: sensor.sm_a225m_wifi_connection
                            style:
                              top: 21%
                              left: 42%
                              color: '#adadad'
                              font-size: 10px
                  - type: picture-elements
                    image: /api/image/serve/c37b07bdbe4b095470ee0d397693735d/512x512
                    elements:
                      - type: icon
                        icon: mdi:battery-30
                        style:
                          top: 9%
                          left: 5%
                          color: '#adadad'
                          transform: scale(0.7)
                      - type: state-label
                        entity: sensor.sm_g990e_battery_level
                        style:
                          top: 13%
                          left: 19%
                          color: '#adadad'
                          font-size: 10px
                      - type: icon
                        icon: mdi:map-marker
                        style:
                          top: 85%
                          left: 5%
                          color: '#adadad'
                          transform: scale(0.7)
                      - type: state-label
                        entity: sensor.sm_g990e_geocoded_location
                        style:
                          top: 89%
                          left: 99%
                          color: '#adadad'
                          font-size: 10px
                      - type: icon
                        icon: mdi:wifi
                        style:
                          top: 17%
                          left: 5%
                          color: '#adadad'
                          transform: scale(0.7)
                      - type: state-label
                        entity: sensor.sm_g990e_wi_fi_connection
                        style:
                          top: 21%
                          left: 29%
                          color: '#adadad'
                          font-size: 10px
                  - type: grid
                    square: true
                    columns: 3
                    cards:
                      - type: custom:button-card
                        template:
                          - base
                        entity: switch.sonoff_10022ceb28_1
                        name: Portão
                        icon: mdi:lock
                        size: 129%
                        show_state: false
                        aspect_ratio: 2/2
                        double_tap_action:
                          action: more-info
                        styles:
                          card:
                            - background-color: rgba(60, 60, 60, 0.3)
                            - border: '0.5px solid #5c5b5b'
                          name:
                            - font-size: 13px
                        state:
                          - value: 'on'
                            styles:
                              icon:
                                - color: '#cccc18'
                              name:
                                - color: '#cccc18'
                          - value: 'off'
                            styles:
                              icon:
                                - color: '#adadad'
                              name:
                                - color: '#adadad'
                      - type: custom:button-card
                        template:
                          - base
                        entity: switch.sonoff_10024422f7_1
                        name: Garagem
                        icon: mdi:garage
                        size: 129%
                        show_state: false
                        aspect_ratio: 1/1
                        tap_action:
                          action: fire-dom-event
                          browser_mod:
                            service: browser_mod.sequence
                            data:
                              sequence:
                                - service: script.pc_click
                                - service: switch.toggle
                                  data:
                                    entity_id: switch.sonoff_10024422f7_1
                        double_tap_action:
                          action: more-info
                        styles:
                          card:
                            - background-color: rgba(60, 60, 60, 0.3)
                            - border: '0.5px solid #5c5b5b'
                          name:
                            - font-size: 13px
                        state:
                          - value: 'on'
                            styles:
                              icon:
                                - color: '#cccc18'
                              name:
                                - color: '#cccc18'
                          - value: 'off'
                            styles:
                              icon:
                                - color: '#adadad'
                              name:
                                - color: '#adadad'
                      - type: custom:button-card
                        template:
                          - base
                        entity: switch.cobertura_switch_1
                        name: Cober
                        icon: mdi:lightbulb
                        size: 129%
                        show_state: false
                        aspect_ratio: 1/1
                        tap_action:
                          action: fire-dom-event
                          browser_mod:
                            service: browser_mod.sequence
                            data:
                              sequence:
                                - service: script.pc_click
                                - service: switch.toggle
                                  data:
                                    entity_id: switch.cobertura_switch_1
                        double_tap_action:
                          action: more-info
                        styles:
                          card:
                            - background-color: rgba(60, 60, 60, 0.3)
                            - border: '0.5px solid #5c5b5b'
                          name:
                            - font-size: 13px
                        state:
                          - value: 'on'
                            styles:
                              icon:
                                - color: '#cccc18'
                              name:
                                - color: '#cccc18'
                          - value: 'off'
                            styles:
                              icon:
                                - color: '#adadad'
                              name:
                                - color: '#adadad'
                      - type: custom:button-card
                        template:
                          - base
                        entity: switch.sonoff_10024c232d_1
                        name: Canil
                        icon: mdi:dog
                        size: 129%
                        show_state: false
                        aspect_ratio: 1/1
                        tap_action:
                          action: fire-dom-event
                          browser_mod:
                            service: browser_mod.sequence
                            data:
                              sequence:
                                - service: script.pc_click
                                - service: switch.toggle
                                  data:
                                    entity_id: switch.sonoff_10024c232d_1
                        double_tap_action:
                          action: more-info
                        styles:
                          card:
                            - background-color: rgba(60, 60, 60, 0.3)
                            - border: '0.5px solid #5c5b5b'
                          name:
                            - font-size: 13px
                        state:
                          - value: 'on'
                            styles:
                              icon:
                                - color: '#cccc18'
                              name:
                                - color: '#cccc18'
                          - value: 'off'
                            styles:
                              icon:
                                - color: '#adadad'
                              name:
                                - color: '#adadad'
                      - type: custom:button-card
                        template:
                          - base
                        entity: switch.sonoff_1001465426
                        name: Entrada
                        icon: mdi:lightbulb
                        size: 129%
                        show_state: false
                        aspect_ratio: 1/1
                        tap_action:
                          action: fire-dom-event
                          browser_mod:
                            service: browser_mod.sequence
                            data:
                              sequence:
                                - service: script.pc_click
                                - service: switch.toggle
                                  data:
                                    entity_id: switch.sonoff_1001465426
                        double_tap_action:
                          action: more-info
                        styles:
                          card:
                            - background-color: rgba(60, 60, 60, 0.3)
                            - border: '0.5px solid #5c5b5b'
                          name:
                            - font-size: 13px
                        state:
                          - value: 'on'
                            styles:
                              icon:
                                - color: '#cccc18'
                              name:
                                - color: '#cccc18'
                          - value: 'off'
                            styles:
                              icon:
                                - color: '#adadad'
                              name:
                                - color: '#adadad'
                      - type: custom:button-card
                        template:
                          - base
                        entity: switch.lavanderia_tomada_1
                        name: Lavand
                        icon: mdi:lightbulb
                        size: 129%
                        show_state: false
                        aspect_ratio: 1/1
                        tap_action:
                          action: fire-dom-event
                          browser_mod:
                            service: browser_mod.sequence
                            data:
                              sequence:
                                - service: script.pc_click
                                - service: switch.toggle
                                  data:
                                    entity_id: switch.lavanderia_tomada_1
                        double_tap_action:
                          action: more-info
                        styles:
                          card:
                            - background-color: rgba(60, 60, 60, 0.3)
                            - border: '0.5px solid #5c5b5b'
                          name:
                            - font-size: 13px
                        state:
                          - value: 'on'
                            styles:
                              icon:
                                - color: '#cccc18'
                              name:
                                - color: '#cccc18'
                          - value: 'off'
                            styles:
                              icon:
                                - color: '#adadad'
                              name:
                                - color: '#adadad'
                      - type: custom:button-card
                        template:
                          - base
                        entity: switch.sonoff_1000916c58
                        name: Produção
                        icon: mdi:solar-power-variant
                        size: 129%
                        show_state: false
                        aspect_ratio: 1/1
                        tap_action:
                          action: fire-dom-event
                          browser_mod:
                            service: browser_mod.sequence
                            data:
                              sequence:
                                - service: script.pc_click
                                - service: switch.toggle
                                  data:
                                    entity_id: switch.sonoff_1000916c58
                        double_tap_action:
                          action: more-info
                        styles:
                          card:
                            - background-color: rgba(60, 60, 60, 0.3)
                            - border: '0.5px solid #5c5b5b'
                          name:
                            - font-size: 13px
                        state:
                          - value: 'on'
                            styles:
                              icon:
                                - color: '#cccc18'
                              name:
                                - color: '#cccc18'
                          - value: 'off'
                            styles:
                              icon:
                                - color: '#adadad'
                              name:
                                - color: '#adadad'
                      - type: custom:button-card
                        template:
                          - base
                        entity: switch.santa_switch_1
                        name: Santa
                        icon: mdi:church
                        size: 129%
                        show_state: false
                        aspect_ratio: 1/1
                        tap_action:
                          action: fire-dom-event
                          browser_mod:
                            service: browser_mod.sequence
                            data:
                              sequence:
                                - service: script.pc_click
                                - service: switch.toggle
                                  data:
                                    entity_id: switch.santa_switch_1
                        double_tap_action:
                          action: more-info
                        styles:
                          card:
                            - background-color: rgba(60, 60, 60, 0.3)
                            - border: '0.5px solid #5c5b5b'
                          name:
                            - font-size: 13px
                        state:
                          - value: 'on'
                            styles:
                              icon:
                                - color: '#cccc18'
                              name:
                                - color: '#cccc18'
                          - value: 'off'
                            styles:
                              icon:
                                - color: '#adadad'
                              name:
                                - color: '#adadad'
                      - type: custom:button-card
                        template:
                          - base
                        entity: script.toggle_all_lights_cobertura
                        name: Geral
                        icon: mdi:alpha-g-box
                        size: 129%
                        show_state: false
                        aspect_ratio: 1/1
                        tap_action:
                          action: fire-dom-event
                          browser_mod:
                            service: browser_mod.sequence
                            data:
                              sequence:
                                - service: script.pc_click
                                - service: switch.toggle
                                  data:
                                    entity_id: script.toggle_all_lights_cobertura
                        double_tap_action:
                          action: more-info
                        styles:
                          card:
                            - background-color: rgba(60, 60, 60, 0.3)
                            - border: '0.5px solid #5c5b5b'
                          name:
                            - font-size: 13px
                        state:
                          - value: 'on'
                            styles:
                              icon:
                                - color: '#cccc18'
                              name:
                                - color: '#cccc18'
                          - value: 'off'
                            styles:
                              icon:
                                - color: '#adadad'
                              name:
                                - color: '#adadad'
              Pátio:
                type: vertical-stack
                cards:
                  - type: grid
                    square: true
                    columns: 8
                    title: Pátio
                    cards:
                      - type: custom:button-card
                        template:
                          - base
                        entity: switch.agua_switch_1
                        name: Água
                        icon: mdi:water
                        size: 129%
                        show_state: false
                        aspect_ratio: 1/1
                        tap_action:
                          action: fire-dom-event
                          browser_mod:
                            service: browser_mod.sequence
                            data:
                              sequence:
                                - service: script.pc_click
                                - service: switch.toggle
                                  data:
                                    entity_id: switch.agua_switch_1
                        double_tap_action:
                          action: more-info
                        styles:
                          card:
                            - background-color: rgba(60, 60, 60, 0.3)
                            - border: '0.5px solid #5c5b5b'
                          name:
                            - font-size: 13px
                        state:
                          - value: 'on'
                            styles:
                              icon:
                                - color: '#cccc18'
                              name:
                                - color: '#cccc18'
                          - value: 'off'
                            styles:
                              icon:
                                - color: '#adadad'
                              name:
                                - color: '#adadad'
                      - type: custom:button-card
                        template:
                          - base
                        entity: switch.aubess_smart_switch_1_gang_10_switch_1
                        name: Irrigação
                        icon: mdi:watering-can
                        size: 129%
                        show_state: false
                        aspect_ratio: 1/1
                        tap_action:
                          action: fire-dom-event
                          browser_mod:
                            service: browser_mod.sequence
                            data:
                              sequence:
                                - service: script.pc_click
                                - service: switch.toggle
                                  data:
                                    entity_id: >-
                                      switch.aubess_smart_switch_1_gang_10_switch_1
                        double_tap_action:
                          action: more-info
                        styles:
                          card:
                            - background-color: rgba(60, 60, 60, 0.3)
                            - border: '0.5px solid #5c5b5b'
                          name:
                            - font-size: 9px
                        state:
                          - value: 'on'
                            styles:
                              icon:
                                - color: '#cccc18'
                              name:
                                - color: '#cccc18'
                          - value: 'off'
                            styles:
                              icon:
                                - color: '#adadad'
                              name:
                                - color: '#adadad'
                      - type: custom:button-card
                        template:
                          - base
                        entity: switch.sonoff_10024c29a2_1
                        name: Bomba
                        icon: mdi:engine
                        size: 132%
                        show_state: false
                        aspect_ratio: 1/1
                        tap_action:
                          action: fire-dom-event
                          browser_mod:
                            service: browser_mod.sequence
                            data:
                              sequence:
                                - service: script.pc_click
                                - service: switch.toggle
                                  data:
                                    entity_id: switch.sonoff_10024c29a2_1
                        double_tap_action:
                          action: more-info
                        styles:
                          card:
                            - background-color: rgba(60, 60, 60, 0.3)
                            - border: '0.5px solid #5c5b5b'
                          name:
                            - font-size: 11px
                        state:
                          - value: 'on'
                            styles:
                              icon:
                                - color: '#cccc18'
                              name:
                                - color: '#cccc18'
                          - value: 'off'
                            styles:
                              icon:
                                - color: '#adadad'
                              name:
                                - color: '#adadad'
                      - type: custom:button-card
                        template:
                          - base
                        entity: switch.light_switch_socket_1
                        name: Cozinha
                        icon: mdi:lightbulb
                        size: 129%
                        show_state: false
                        aspect_ratio: 1/1
                        tap_action:
                          action: fire-dom-event
                          browser_mod:
                            service: browser_mod.sequence
                            data:
                              sequence:
                                - service: script.pc_click
                                - service: switch.toggle
                                  data:
                                    entity_id: switch.light_switch_socket_1
                        double_tap_action:
                          action: more-info
                        styles:
                          card:
                            - background-color: rgba(60, 60, 60, 0.3)
                            - border: '0.5px solid #5c5b5b'
                          name:
                            - font-size: 9px
                        state:
                          - value: 'on'
                            styles:
                              icon:
                                - color: '#cccc18'
                              name:
                                - color: '#cccc18'
                          - value: 'off'
                            styles:
                              icon:
                                - color: '#adadad'
                              name:
                                - color: '#adadad'
                      - type: custom:button-card
                        template:
                          - base
                        entity: switch.light_switch_socket_3
                        name: Pátio
                        icon: mdi:spotlight
                        size: 129%
                        show_state: false
                        aspect_ratio: 1/1
                        tap_action:
                          action: fire-dom-event
                          browser_mod:
                            service: browser_mod.sequence
                            data:
                              sequence:
                                - service: script.pc_click
                                - service: switch.toggle
                                  data:
                                    entity_id: switch.light_switch_socket_3
                        double_tap_action:
                          action: more-info
                        styles:
                          card:
                            - background-color: rgba(60, 60, 60, 0.3)
                            - border: '0.5px solid #5c5b5b'
                          name:
                            - font-size: 13px
                        state:
                          - value: 'on'
                            styles:
                              icon:
                                - color: '#cccc18'
                              name:
                                - color: '#cccc18'
                          - value: 'off'
                            styles:
                              icon:
                                - color: '#adadad'
                              name:
                                - color: '#adadad'
                      - type: custom:button-card
                        template:
                          - base
                        entity: switch.light_switch_socket_6
                        name: Holofote
                        icon: mdi:spotlight
                        size: 129%
                        show_state: false
                        aspect_ratio: 1/1
                        tap_action:
                          action: fire-dom-event
                          browser_mod:
                            service: browser_mod.sequence
                            data:
                              sequence:
                                - service: script.pc_click
                                - service: switch.toggle
                                  data:
                                    entity_id: switch.light_switch_socket_6
                        double_tap_action:
                          action: more-info
                        styles:
                          card:
                            - background-color: rgba(60, 60, 60, 0.3)
                            - border: '0.5px solid #5c5b5b'
                          name:
                            - font-size: 9px
                        state:
                          - value: 'on'
                            styles:
                              icon:
                                - color: '#cccc18'
                              name:
                                - color: '#cccc18'
                          - value: 'off'
                            styles:
                              icon:
                                - color: '#adadad'
                              name:
                                - color: '#adadad'
                      - type: custom:button-card
                        template:
                          - base
                        entity: switch.min_switch_3_switch_1
                        name: Vaso
                        icon: mdi:flower-tulip
                        size: 129%
                        show_state: false
                        aspect_ratio: 1/1
                        tap_action:
                          action: fire-dom-event
                          browser_mod:
                            service: browser_mod.sequence
                            data:
                              sequence:
                                - service: script.pc_click
                                - service: switch.toggle
                                  data:
                                    entity_id: switch.min_switch_3_switch_1
                        double_tap_action:
                          action: more-info
                        styles:
                          card:
                            - background-color: rgba(60, 60, 60, 0.3)
                            - border: '0.5px solid #5c5b5b'
                          name:
                            - font-size: 13px
                        state:
                          - value: 'on'
                            styles:
                              icon:
                                - color: '#cccc18'
                              name:
                                - color: '#cccc18'
                          - value: 'off'
                            styles:
                              icon:
                                - color: '#adadad'
                              name:
                                - color: '#adadad'
                      - type: custom:button-card
                        template:
                          - base
                        entity: switch.aubess_smart_switch_1_gang_9_switch_1
                        name: Jardim
                        icon: mdi:flower-tulip-outline
                        size: 129%
                        show_state: false
                        aspect_ratio: 1/1
                        tap_action:
                          action: fire-dom-event
                          browser_mod:
                            service: browser_mod.sequence
                            data:
                              sequence:
                                - service: script.pc_click
                                - service: switch.toggle
                                  data:
                                    entity_id: >-
                                      switch.aubess_smart_switch_1_gang_9_switch_1
                        double_tap_action:
                          action: more-info
                        styles:
                          card:
                            - background-color: rgba(60, 60, 60, 0.3)
                            - border: '0.5px solid #5c5b5b'
                          name:
                            - font-size: 11px
                        state:
                          - value: 'on'
                            styles:
                              icon:
                                - color: '#cccc18'
                              name:
                                - color: '#cccc18'
                          - value: 'off'
                            styles:
                              icon:
                                - color: '#adadad'
                              name:
                                - color: '#adadad'
                  - type: custom:button-card
                    entity: sensor.shui_jin_chuan_gan_qi_bateria
                    name: Bateria Sensor de Inundação
                    show_state: true
                    icon: |
                      [[[
                        const sensor = states['sensor.shui_jin_chuan_gan_qi_bateria'];
                        const batteryLevel = sensor ? parseFloat(sensor.state) : 0;
                        if (batteryLevel > 75) return 'mdi:battery-charging-high';
                        if (batteryLevel > 50) return 'mdi:battery-charging-medium';
                        if (batteryLevel > 25) return 'mdi:battery-charging-low';
                        return 'mdi:battery-20';
                      ]]]
                    styles:
                      card:
                        - background-image: url('/local/Sen1.jpg')
                        - background-size: cover
                        - background-position: left
                        - border-radius: 0px
                        - padding: 0px
                        - height: 80px
                        - width: 430px
                        - display: flex
                        - justify-content: flex-end
                        - align-items: center
                      icon:
                        - width: 60px
                        - height: 60px
                        - margin-left: 300px
                        - color: |
                            [[[
                              const sensor = states['sensor.shui_jin_chuan_gan_qi_bateria'];
                              const batteryLevel = sensor ? parseFloat(sensor.state) : 0;
                              if (batteryLevel > 75) return '#407d3e';
                              if (batteryLevel > 50) return '#abad39';
                              if (batteryLevel > 25) return '#b34732';
                              return 'red';
                            ]]]
                      name:
                        - color: '#6295c3'
                        - font-size: 0px
                        - font-weight: bold
                      state:
                        - color: |
                            [[[
                              const sensor = states['sensor.shui_jin_chuan_gan_qi_bateria'];
                              const batteryLevel = sensor ? parseFloat(sensor.state) : 0;
                              if (batteryLevel > 75) return '#407d3e';
                              if (batteryLevel > 50) return '#abad39';
                              if (batteryLevel > 25) return '#b34732';
                              return 'red';
                            ]]]
                        - font-size: 16px
                        - margin-left: 295px
                  - type: custom:button-card
                    entity: binary_sensor.shui_jin_chuan_gan_qi_umidade
                    name: Sensor de Umidade
                    icon: mdi:water
                    show_state: true
                    styles:
                      card:
                        - background-image: url('/local/Inu2.png')
                        - background-size: cover
                        - background-position: center
                        - border-radius: 0px
                        - padding: 0px
                        - height: 80px
                        - width: 431px
                        - display: flex
                        - justify-content: flex-end
                        - align-items: center
                      icon:
                        - width: 60px
                        - height: 60px
                        - margin-left: 290px
                        - color: |
                            [[[
                              if (states['binary_sensor.shui_jin_chuan_gan_qi_umidade'] && states['binary_sensor.shui_jin_chuan_gan_qi_umidade'].state === 'on') return '#d62f0f';
                              return 'green';
                            ]]]
                      name:
                        - color: '#6295c3'
                        - font-size: 0px
                        - font-weight: bold
                      state:
                        - color: |
                            [[[
                              if (states['binary_sensor.shui_jin_chuan_gan_qi_umidade'] && states['binary_sensor.shui_jin_chuan_gan_qi_umidade'].state === 'on') return '#d62f0f';
                              return 'green';
                            ]]]
                        - font-size: 16px
                        - margin-left: 290px
              Sala:
                type: vertical-stack
                title: Sala
                cards:
                  - type: picture-entity
                    entity: sensor.sensor_ir_temperatura_temperatura
                    image: /local/temperatura.jpg
                    show_state: true
                    show_name: true
                    camera_view: auto
                    style:
                      width: 30%
                      height: auto
                      object-fit: contain
                      aspect_ratio: '0'
                  - type: grid
                    square: false
                    columns: 8
                    cards:
                      - type: custom:button-card
                        template:
                          - base
                        entity: switch.light_switch_socket_1
                        name: Cozinha
                        icon: mdi:lightbulb
                        size: 129%
                        show_state: false
                        aspect_ratio: 1/1
                        tap_action:
                          action: fire-dom-event
                          browser_mod:
                            service: browser_mod.sequence
                            data:
                              sequence:
                                - service: script.pc_click
                                - service: switch.toggle
                                  data:
                                    entity_id: switch.light_switch_socket_1
                        double_tap_action:
                          action: more-info
                        styles:
                          card:
                            - background-color: rgba(60, 60, 60, 0.3)
                            - border: '0.5px solid #5c5b5b'
                          name:
                            - font-size: 13px
                        state:
                          - value: 'on'
                            styles:
                              icon:
                                - color: '#cccc18'
                              name:
                                - color: '#cccc18'
                          - value: 'off'
                            styles:
                              icon:
                                - color: '#adadad'
                              name:
                                - color: '#adadad'
                      - type: custom:button-card
                        template:
                          - base
                        entity: switch.light_switch_socket_2
                        name: Copa
                        icon: mdi:lightbulb
                        size: 129%
                        show_state: false
                        aspect_ratio: 1/1
                        tap_action:
                          action: fire-dom-event
                          browser_mod:
                            service: browser_mod.sequence
                            data:
                              sequence:
                                - service: script.pc_click
                                - service: switch.toggle
                                  data:
                                    entity_id: switch.light_switch_socket_2
                        double_tap_action:
                          action: more-info
                        styles:
                          card:
                            - background-color: rgba(60, 60, 60, 0.3)
                            - border: '0.5px solid #5c5b5b'
                          name:
                            - font-size: 13px
                        state:
                          - value: 'on'
                            styles:
                              icon:
                                - color: '#cccc18'
                              name:
                                - color: '#cccc18'
                          - value: 'off'
                            styles:
                              icon:
                                - color: '#adadad'
                              name:
                                - color: '#adadad'
                      - type: custom:button-card
                        template:
                          - base
                        entity: switch.light_switch_socket_4
                        name: Spot
                        icon: mdi:lightbulb
                        size: 132%
                        show_state: false
                        aspect_ratio: 1/1
                        tap_action:
                          action: fire-dom-event
                          browser_mod:
                            service: browser_mod.sequence
                            data:
                              sequence:
                                - service: script.pc_click
                                - service: switch.toggle
                                  data:
                                    entity_id: switch.light_switch_socket_4
                        double_tap_action:
                          action: more-info
                        styles:
                          card:
                            - background-color: rgba(60, 60, 60, 0.3)
                            - border: '0.5px solid #5c5b5b'
                          name:
                            - font-size: 13px
                        state:
                          - value: 'on'
                            styles:
                              icon:
                                - color: '#cccc18'
                              name:
                                - color: '#cccc18'
                          - value: 'off'
                            styles:
                              icon:
                                - color: '#adadad'
                              name:
                                - color: '#adadad'
                      - type: custom:button-card
                        template:
                          - base
                        entity: switch.light_switch_socket_5
                        name: Sala
                        icon: mdi:lightbulb
                        size: 129%
                        show_state: false
                        aspect_ratio: 1/1
                        tap_action:
                          action: fire-dom-event
                          browser_mod:
                            service: browser_mod.sequence
                            data:
                              sequence:
                                - service: script.pc_click
                                - service: switch.toggle
                                  data:
                                    entity_id: switch.light_switch_socket_5
                        double_tap_action:
                          action: more-info
                        styles:
                          card:
                            - background-color: rgba(60, 60, 60, 0.3)
                            - border: '0.5px solid #5c5b5b'
                          name:
                            - font-size: 13px
                        state:
                          - value: 'on'
                            styles:
                              icon:
                                - color: '#cccc18'
                              name:
                                - color: '#cccc18'
                          - value: 'off'
                            styles:
                              icon:
                                - color: '#adadad'
                              name:
                                - color: '#adadad'
                      - type: custom:button-card
                        template:
                          - base
                        entity: switch.smart_switch_03c3
                        name: Abajuer
                        icon: mdi:floor-lamp-torchiere-variant-outline
                        size: 129%
                        show_state: false
                        aspect_ratio: 1/1
                        tap_action:
                          action: fire-dom-event
                          browser_mod:
                            service: browser_mod.sequence
                            data:
                              sequence:
                                - service: script.pc_click
                                - service: switch.toggle
                                  data:
                                    entity_id: switch.smart_switch_03c3
                        double_tap_action:
                          action: more-info
                        styles:
                          card:
                            - background-color: rgba(60, 60, 60, 0.3)
                            - border: '0.5px solid #5c5b5b'
                          name:
                            - font-size: 13px
                        state:
                          - value: 'on'
                            styles:
                              icon:
                                - color: '#cccc18'
                              name:
                                - color: '#cccc18'
                          - value: 'off'
                            styles:
                              icon:
                                - color: '#adadad'
                              name:
                                - color: '#adadad'
                      - type: custom:button-card
                        template:
                          - base
                        entity: switch.smart_switch_9140
                        name: Vento
                        icon: mdi:fan
                        size: 129%
                        show_state: false
                        aspect_ratio: 1/1
                        tap_action:
                          action: fire-dom-event
                          browser_mod:
                            service: browser_mod.sequence
                            data:
                              sequence:
                                - service: script.pc_click
                                - service: switch.toggle
                                  data:
                                    entity_id: switch.smart_switch_9140
                        double_tap_action:
                          action: more-info
                        styles:
                          card:
                            - background-color: rgba(60, 60, 60, 0.3)
                            - border: '0.5px solid #5c5b5b'
                          name:
                            - font-size: 13px
                        state:
                          - value: 'on'
                            styles:
                              icon:
                                - color: '#cccc18'
                              name:
                                - color: '#cccc18'
                          - value: 'off'
                            styles:
                              icon:
                                - color: '#adadad'
                              name:
                                - color: '#adadad'
                      - type: custom:button-card
                        template:
                          - base
                        entity: scene.ligar_barra
                        name: Caixa
                        icon: mdi:speaker-bluetooth
                        size: 129%
                        show_state: false
                        aspect_ratio: 1/1
                        tap_action:
                          action: fire-dom-event
                          browser_mod:
                            service: browser_mod.sequence
                            data:
                              sequence:
                                - service: script.pc_click
                                - service: switch.toggle
                                  data:
                                    entity_id: scene.ligar_barra
                        double_tap_action:
                          action: more-info
                        styles:
                          card:
                            - background-color: rgba(60, 60, 60, 0.3)
                            - border: '0.5px solid #5c5b5b'
                          name:
                            - font-size: 13px
                        state:
                          - value: 'on'
                            styles:
                              icon:
                                - color: '#cccc18'
                              name:
                                - color: '#cccc18'
                          - value: 'off'
                            styles:
                              icon:
                                - color: '#adadad'
                              name:
                                - color: '#adadad'
                      - type: custom:button-card
                        template:
                          - base
                        entity: switch.sonoff_10022ceb28_1
                        name: Porta
                        icon: mdi:lock
                        size: 129%
                        show_state: false
                        aspect_ratio: 1/1
                        tap_action:
                          action: fire-dom-event
                          browser_mod:
                            service: browser_mod.sequence
                            data:
                              sequence:
                                - service: script.pc_click
                                - service: switch.toggle
                                  data:
                                    entity_id: switch.sonoff_10022ceb28_1
                        double_tap_action:
                          action: more-info
                        styles:
                          card:
                            - background-color: rgba(60, 60, 60, 0.3)
                            - border: '0.5px solid #5c5b5b'
                          name:
                            - font-size: 13px
                        state:
                          - value: 'on'
                            styles:
                              icon:
                                - color: '#cccc18'
                              name:
                                - color: '#cccc18'
                          - value: 'off'
                            styles:
                              icon:
                                - color: '#adadad'
                              name:
                                - color: '#adadad'
                  - type: media-control
                    entity: media_player.tv_tv
                    show_name: true
                    show_icon: true
                    tap_action:
                      action: toggle
                  - type: custom:mushroom-chips-card
                    alignment: start
                    chips:
                      - type: template
                        picture: /local/Pc1.png
                        entity: scene.lg_05_globo
                        tap_action:
                          action: fire-dom-event
                          browser_mod:
                            service: browser_mod.sequence
                            data:
                              sequence:
                                - service: script.pc_click
                                - service: scene.turn_on
                                  data:
                                    entity_id: scene.lg_05_globo
                      - type: template
                        picture: /local/Xbox.png
                        entity: scene.lg_05_globo
                        tap_action:
                          action: fire-dom-event
                          browser_mod:
                            service: browser_mod.sequence
                            data:
                              sequence:
                                - service: script.pc_click
                                - service: scene.turn_on
                                  data:
                                    entity_id: scene.lg_05_globo
                      - type: template
                        picture: /local/Sat.png
                        entity: scene.lg_05_globo
                        tap_action:
                          action: fire-dom-event
                          browser_mod:
                            service: browser_mod.sequence
                            data:
                              sequence:
                                - service: script.pc_click
                                - service: scene.turn_on
                                  data:
                                    entity_id: scene.lg_05_globo
                      - type: template
                        picture: /local/Net1.png
                        entity: scene.lg_05_globo
                        tap_action:
                          action: fire-dom-event
                          browser_mod:
                            service: browser_mod.sequence
                            data:
                              sequence:
                                - service: script.pc_click
                                - service: scene.turn_on
                                  data:
                                    entity_id: scene.lg_05_globo
                      - type: template
                        picture: /local/Glo1.png
                        entity: scene.lg_05_globo
                        tap_action:
                          action: fire-dom-event
                          browser_mod:
                            service: browser_mod.sequence
                            data:
                              sequence:
                                - service: script.pc_click
                                - service: scene.turn_on
                                  data:
                                    entity_id: scene.lg_05_globo
                      - type: template
                        picture: /local/Pri1.png
                        entity: scene.lg_05_globo
                        tap_action:
                          action: fire-dom-event
                          browser_mod:
                            service: browser_mod.sequence
                            data:
                              sequence:
                                - service: script.pc_click
                                - service: scene.turn_on
                                  data:
                                    entity_id: scene.lg_05_globo
                      - type: template
                        picture: /local/Dis1.png
                        entity: scene.lg_05_globo
                        tap_action:
                          action: fire-dom-event
                          browser_mod:
                            service: browser_mod.sequence
                            data:
                              sequence:
                                - service: script.pc_click
                                - service: scene.turn_on
                                  data:
                                    entity_id: scene.lg_05_globo
                      - type: template
                        picture: /local/Hb1.jpg
                        entity: scene.lg_05_globo
                        tap_action:
                          action: fire-dom-event
                          browser_mod:
                            service: browser_mod.sequence
                            data:
                              sequence:
                                - service: script.pc_click
                                - service: scene.turn_on
                                  data:
                                    entity_id: scene.lg_05_globo
                      - type: template
                        picture: /local/Plu.png
                        entity: scene.lg_05_globo
                        tap_action:
                          action: fire-dom-event
                          browser_mod:
                            service: browser_mod.sequence
                            data:
                              sequence:
                                - service: script.pc_click
                                - service: scene.turn_on
                                  data:
                                    entity_id: scene.lg_05_globo
                      - type: template
                        picture: /local/Tv2.png
                        entity: scene.tv_canais
                        tap_action:
                          action: fire-dom-event
                          browser_mod:
                            service: browser_mod.sequence
                            data:
                              sequence:
                                - service: script.pc_click
                                - service: scene.turn_on
                                  data:
                                    entity_id: scene.tv_canais
              Quarto:
                type: vertical-stack
                title: Quarto
                cards:
                  - type: grid
                    square: false
                    columns: 6
                    cards:
                      - type: custom:button-card
                        template:
                          - base
                        entity: switch.sonoff_10014af341
                        name: Quarto
                        icon: mdi:lightbulb
                        size: 129%
                        show_state: false
                        aspect_ratio: 1/1
                        tap_action:
                          action: fire-dom-event
                          browser_mod:
                            service: browser_mod.sequence
                            data:
                              sequence:
                                - service: script.pc_click
                                - service: switch.toggle
                                  data:
                                    entity_id: switch.sonoff_10014af341
                        double_tap_action:
                          action: more-info
                        styles:
                          card:
                            - background-color: rgba(60, 60, 60, 0.3)
                            - border: '0.5px solid #5c5b5b'
                          name:
                            - font-size: 13px
                        state:
                          - value: 'on'
                            styles:
                              icon:
                                - color: '#cccc18'
                              name:
                                - color: '#cccc18'
                          - value: 'off'
                            styles:
                              icon:
                                - color: '#adadad'
                              name:
                                - color: '#adadad'
                      - type: custom:button-card
                        template:
                          - base
                        entity: switch.banheiro_interruptor_1
                        name: Banheiro
                        icon: mdi:toilet
                        size: 129%
                        show_state: false
                        aspect_ratio: 1/1
                        tap_action:
                          action: fire-dom-event
                          browser_mod:
                            service: browser_mod.sequence
                            data:
                              sequence:
                                - service: script.pc_click
                                - service: switch.toggle
                                  data:
                                    entity_id: switch.banheiro_interruptor_1
                        double_tap_action:
                          action: more-info
                        styles:
                          card:
                            - background-color: rgba(60, 60, 60, 0.3)
                            - border: '0.5px solid #5c5b5b'
                          name:
                            - font-size: 13px
                        state:
                          - value: 'on'
                            styles:
                              icon:
                                - color: '#cccc18'
                              name:
                                - color: '#cccc18'
                          - value: 'off'
                            styles:
                              icon:
                                - color: '#adadad'
                              name:
                                - color: '#adadad'
                      - type: custom:button-card
                        template:
                          - base
                        entity: media_player.lg_tv_remote
                        name: LG
                        icon: mdi:television
                        size: 129%
                        show_state: false
                        aspect_ratio: 1/1
                        tap_action:
                          action: fire-dom-event
                          browser_mod:
                            service: browser_mod.sequence
                            data:
                              sequence:
                                - service: script.pc_click
                                - service: scene.turn_on
                                  data:
                                    entity_id: scene.lg2_lig_des
                        double_tap_action:
                          action: more-info
                        styles:
                          card:
                            - background-color: rgba(60, 60, 60, 0.3)
                            - border: '0.5px solid #5c5b5b'
                          name:
                            - font-size: 12px
                        state:
                          - value: 'on'
                            styles:
                              icon:
                                - color: '#cccc18'
                              name:
                                - color: '#cccc18'
                          - value: 'off'
                            styles:
                              icon:
                                - color: '#adadad'
                              name:
                                - color: '#adadad'
                      - type: custom:button-card
                        template:
                          - base
                        entity: switch.sonoff_10024c2380_1
                        name: Ferro
                        icon: mdi:iron-outline
                        size: 129%
                        show_state: false
                        aspect_ratio: 1/1
                        tap_action:
                          action: fire-dom-event
                          browser_mod:
                            service: browser_mod.sequence
                            data:
                              sequence:
                                - service: script.pc_click
                                - service: switch.toggle
                                  data:
                                    entity_id: switch.sonoff_10024c2380_1
                        double_tap_action:
                          action: more-info
                        styles:
                          card:
                            - background-color: rgba(60, 60, 60, 0.3)
                            - border: '0.5px solid #5c5b5b'
                          name:
                            - font-size: 13px
                        state:
                          - value: 'on'
                            styles:
                              icon:
                                - color: '#cccc18'
                              name:
                                - color: '#cccc18'
                          - value: 'off'
                            styles:
                              icon:
                                - color: '#adadad'
                              name:
                                - color: '#adadad'
                      - type: custom:button-card
                        template:
                          - base
                        name: Fire TV
                        icon: mdi:remote
                        size: 100%
                        show_state: false
                        styles:
                          card:
                            - background-color: rgba(60, 60, 60, 0.3)
                            - border: '0.5px solid #5c5b5b'
                          name:
                            - font-size: 13px
                        state:
                          - value: 'on'
                            styles:
                              icon:
                                - color: '#cccc18'
                              name:
                                - color: '#cccc18'
                          - value: 'off'
                            styles:
                              icon:
                                - color: '#adadad'
                              name:
                                - color: '#adadad'
                        tap_action:
                          action: fire-dom-event
                          browser_mod:
                            service: browser_mod.sequence
                            data:
                              sequence:
                                - service: script.pc_click
                                - service: browser_mod.popup
                                  data:
                                    title: Controle Fire TV
                                    content:
                                      type: custom:mod-card
                                      style: |
                                        ha-card {
                                          background: linear-gradient(
                                            rgba(0,0,0,0.6),
                                            rgba(0,0,0,0.6)
                                          ), url("/local/firetv3.jpg") center/cover no-repeat;
                                          background-size: cover;
                                          background-position: center;
                                          background-repeat: no-repeat;
                                          box-shadow: none;
                                          border: none;
                                        }
                                      card:
                                        type: custom:firemote-card
                                        entity: media_player.fire_tv
                                        device_family: amazon-fire
                                        device_type: fire_tv_stick_4k_max_second_gen
                                        compatibility_mode: default
                                        scale: '66'
                                        defaultRemoteStyle_override: AF4
                                        name_position: hidden
                                        visible_name_text: Fire TV
                                        app_launch_1: claro-tv-plus
                                        app_launch_2: youtube
                                        app_launch_3: disney-plus
                                        app_launch_4: netflix
                                        app_launch_5: function-reboot
                                        app_launch_6: ''
                                        app_launch_7: tuner_input
                                        app_launch_8: reboot
                                        visible_name_text_color: '#080707'
                                        card_mod:
                                          style: |
                                            ha-card {
                                              background-color: rgba(0,0,0,0.4);  # ajuste aqui a opacidade
                                              box-shadow: none;
                                              border: none;
                                            }
                      - type: custom:button-card
                        template:
                          - base
                        entity: scene.ar_ventilador
                        name: AR
                        icon: mdi:air-filter
                        size: 100%
                        show_state: false
                        styles:
                          card:
                            - background-color: rgba(60, 60, 60, 0.3)
                            - border: '0.5px solid #5c5b5b'
                          name:
                            - font-size: 13px
                        state:
                          - value: 'on'
                            styles:
                              icon:
                                - color: '#cccc18'
                              name:
                                - color: '#cccc18'
                          - value: 'off'
                            styles:
                              icon:
                                - color: '#adadad'
                              name:
                                - color: '#adadad'
                        tap_action:
                          action: fire-dom-event
                          browser_mod:
                            service: browser_mod.popup
                            data:
                              content:
                                type: custom:vertical-stack-in-card
                                cards:
                                  - type: thermostat
                                    entity: climate.komeko
                                    features:
                                      - type: climate-hvac-modes
                                        hvac_modes:
                                          - auto
                                          - cool
                                          - heat
                                          - dry
                                          - fan_only
                                          - 'off'
                                    card_mod:
                                      style: |
                                        ha-card {
                                          background: rgba(0,0,0,0.1) !important;
                                          box-shadow: none !important;
                                          border: none !important;
                                          color: white;
                                        }
                                  - type: grid
                                    square: false
                                    columns: 6
                                    cards:
                                      - type: custom:button-card
                                        entity: scene.ar_ventilador
                                        name: Vento
                                        icon: mdi:fan
                                        size: 40%
                                        show_state: false
                                        aspect_ratio: 1/1
                                        tap_action:
                                          action: fire-dom-event
                                          browser_mod:
                                            service: browser_mod.sequence
                                            data:
                                              sequence:
                                                - service: script.pc_click
                                                - service: scene.turn_on
                                                  data:
                                                    entity_id: scene.ar_ventilador
                                        styles:
                                          card:
                                            - background-color: rgba(60, 60, 60, 0.3)
                                            - border: '0.5px solid #5c5b5b'
                                          name:
                                            - font-size: 12px
                                          icon:
                                            - color: '#adadad'
                                        state:
                                          - value: 'on'
                                            styles:
                                              icon:
                                                - color: '#cccc18'
                                              name:
                                                - color: '#cccc18'
                                      - type: custom:button-card
                                        entity: scene.ar_desligar
                                        name: Desliga
                                        icon: mdi:power
                                        size: 40%
                                        show_state: false
                                        aspect_ratio: 1/1
                                        tap_action:
                                          action: fire-dom-event
                                          browser_mod:
                                            service: browser_mod.sequence
                                            data:
                                              sequence:
                                                - service: script.pc_click
                                                - service: scene.turn_on
                                                  data:
                                                    entity_id: scene.ar_desligar
                                        styles:
                                          card:
                                            - background-color: rgba(60, 60, 60, 0.3)
                                            - border: '0.5px solid #5c5b5b'
                                          name:
                                            - font-size: 12px
                                          icon:
                                            - color: '#adadad'
                                        state:
                                          - value: 'on'
                                            styles:
                                              icon:
                                                - color: '#cccc18'
                                              name:
                                                - color: '#cccc18'
                                      - type: custom:button-card
                                        entity: scene.ar_programado
                                        name: Timer
                                        icon: mdi:clock-time-eight-outline
                                        size: 40%
                                        show_state: false
                                        aspect_ratio: 1/1
                                        tap_action:
                                          action: fire-dom-event
                                          browser_mod:
                                            service: browser_mod.sequence
                                            data:
                                              sequence:
                                                - service: script.pc_click
                                                - service: scene.turn_on
                                                  data:
                                                    entity_id: scene.ar_programado
                                        styles:
                                          card:
                                            - background-color: rgba(60, 60, 60, 0.3)
                                            - border: '0.5px solid #5c5b5b'
                                          name:
                                            - font-size: 12px
                                          icon:
                                            - color: '#adadad'
                                        state:
                                          - value: 'on'
                                            styles:
                                              icon:
                                                - color: '#cccc18'
                                              name:
                                                - color: '#cccc18'
                                      - type: custom:button-card
                                        entity: scene.ar_paleta_sobe
                                        name: Sobe
                                        icon: mdi:fan-chevron-up
                                        size: 40%
                                        show_state: false
                                        aspect_ratio: 1/1
                                        tap_action:
                                          action: fire-dom-event
                                          browser_mod:
                                            service: browser_mod.sequence
                                            data:
                                              sequence:
                                                - service: script.pc_click
                                                - service: scene.turn_on
                                                  data:
                                                    entity_id: scene.ar_paleta_sobe
                                        styles:
                                          card:
                                            - background-color: rgba(60, 60, 60, 0.3)
                                            - border: '0.5px solid #5c5b5b'
                                          name:
                                            - font-size: 12px
                                          icon:
                                            - color: '#adadad'
                                        state:
                                          - value: 'on'
                                            styles:
                                              icon:
                                                - color: '#cccc18'
                                              name:
                                                - color: '#cccc18'
                                      - type: custom:button-card
                                        entity: scene.ar_paleta_desce
                                        name: Descer
                                        icon: mdi:fan-chevron-down
                                        size: 40%
                                        show_state: false
                                        aspect_ratio: 1/1
                                        tap_action:
                                          action: fire-dom-event
                                          browser_mod:
                                            service: browser_mod.sequence
                                            data:
                                              sequence:
                                                - service: script.pc_click
                                                - service: scene.turn_on
                                                  data:
                                                    entity_id: scene.ar_paleta_desce
                                        styles:
                                          card:
                                            - background-color: rgba(60, 60, 60, 0.3)
                                            - border: '0.5px solid #5c5b5b'
                                          name:
                                            - font-size: 12px
                                          icon:
                                            - color: '#adadad'
                                        state:
                                          - value: 'on'
                                            styles:
                                              icon:
                                                - color: '#cccc18'
                                              name:
                                                - color: '#cccc18'
                                      - type: custom:button-card
                                        entity: scene.ar_swing
                                        name: Swing
                                        icon: mdi:air-filter
                                        size: 40%
                                        show_state: false
                                        aspect_ratio: 1/1
                                        tap_action:
                                          action: fire-dom-event
                                          browser_mod:
                                            service: browser_mod.sequence
                                            data:
                                              sequence:
                                                - service: script.pc_click
                                                - service: scene.turn_on
                                                  data:
                                                    entity_id: scene.ar_swing
                                        styles:
                                          card:
                                            - background-color: rgba(60, 60, 60, 0.3)
                                            - border: '0.5px solid #5c5b5b'
                                          name:
                                            - font-size: 12px
                                          icon:
                                            - color: '#adadad'
                                        state:
                                          - value: 'on'
                                            styles:
                                              icon:
                                                - color: '#cccc18'
                                              name:
                                                - color: '#cccc18'
                                card_mod:
                                  style: |
                                    ha-card {
                                      background: linear-gradient(
                                        rgba(0,0,0,0.55),
                                        rgba(0,0,0,0.55)
                                      ), url("/local/ar3.jpg");
                                      background-size: cover;
                                      background-position: center;
                                      border: none !important;
                                      box-shadow: none !important;
                                    }

                                    columns: 6
                                columns: 1
                  - type: media-control
                    entity: media_player.lg_tv_remote
                    show_name: true
                    show_icon: true
                    tap_action:
                      action: toggle
                  - type: custom:mushroom-chips-card
                    alignment: left
                    chips:
                      - type: template
                        picture: /local/AmaEntra.png
                        content: Entrar
                        entity: scene.fire_stick_tv
                        tap_action:
                          action: fire-dom-event
                          browser_mod:
                            service: browser_mod.sequence
                            data:
                              sequence:
                                - service: script.pc_click
                                - service: scene.turn_on
                                  data:
                                    entity_id: scene.fire_stick_tv
                        style:
                          icon:
                            - width: 40px
                            - height: auto
                            - margin: 0
                          name:
                            - font-size: 12px
                            - text-align: center
                            - margin-top: 5px
                      - type: template
                        picture: /local/AY.jpg
                        content: Entrar
                        entity: scene.lg_youtube
                        tap_action:
                          action: fire-dom-event
                          browser_mod:
                            service: browser_mod.sequence
                            data:
                              sequence:
                                - service: script.pc_click
                                - service: scene.turn_on
                                  data:
                                    entity_id: scene.lg_youtube
                        style:
                          icon:
                            - width: 40px
                            - height: auto
                            - margin: 0
                          name:
                            - font-size: 12px
                            - text-align: center
                            - margin-top: 5px
                      - type: template
                        picture: /local/Tv2.png
                        content: TV
                        entity: scene.lg_sair
                        tap_action:
                          action: fire-dom-event
                          browser_mod:
                            service: browser_mod.sequence
                            data:
                              sequence:
                                - service: script.pc_click
                                - service: scene.turn_on
                                  data:
                                    entity_id: scene.lg_sair
                        style:
                          icon:
                            - width: 40px
                            - height: auto
                            - margin: 0
                          name:
                            - font-size: 12px
                            - text-align: left
                            - margin-top: 5px
                  - type: custom:mushroom-chips-card
                    alignment: left
                    chips:
                      - type: template
                        picture: /local/AmaSai.png
                        content: Sair
                        entity: scene.sair_fire_stick_tv
                        tap_action:
                          action: fire-dom-event
                          browser_mod:
                            service: browser_mod.sequence
                            data:
                              sequence:
                                - service: script.pc_click
                                - service: scene.turn_on
                                  data:
                                    entity_id: scene.sair_fire_stick_tv
                        style:
                          icon:
                            - width: 40px
                            - height: auto
                            - margin: 0
                          name:
                            - font-size: 12px
                            - text-align: center
                            - margin-top: 5px
                      - type: template
                        picture: /local/AS.jpg
                        content: Sair
                        entity: scene.lg_sair_forkplayer
                        tap_action:
                          action: fire-dom-event
                          browser_mod:
                            service: browser_mod.sequence
                            data:
                              sequence:
                                - service: script.pc_click
                                - service: scene.turn_on
                                  data:
                                    entity_id: scene.lg_sair_forkplayer
                        style:
                          icon:
                            - width: 40px
                            - height: auto
                            - margin: 0
                          name:
                            - font-size: 12px
                            - text-align: center
                            - margin-top: 5px
                      - type: template
                        picture: /local/AY.jpg
                        content: Sair
                        entity: scene.lg_youtube
                        tap_action:
                          action: fire-dom-event
                          browser_mod:
                            service: browser_mod.sequence
                            data:
                              sequence:
                                - service: script.pc_click
                                - service: scene.turn_on
                                  data:
                                    entity_id: scene.lg_youtube
                        style:
                          icon:
                            - width: 40px
                            - height: auto
                            - margin: 0
                          name:
                            - font-size: 12px
                            - text-align: center
                            - margin-top: 5px
                      - type: template
                        picture: /local/Hen.png
                        content: Henrrique & Luciano
                        entity: scene.lg_assinatura
                        tap_action:
                          action: fire-dom-event
                          browser_mod:
                            service: browser_mod.sequence
                            data:
                              sequence:
                                - service: script.pc_click
                                - service: scene.turn_on
                                  data:
                                    entity_id: scene.lg_assinatura
                        style:
                          icon:
                            - width: 40px
                            - height: auto
                            - margin: 0
                          name:
                            - font-size: 12px
                            - text-align: center
                            - margin-top: 5px
              Câmera:
                type: vertical-stack
                cards:
                  - type: grid
                    square: true
                    columns: 3
                    title: Cameras
                    cards:
                      - type: picture-entity
                        entity: camera.mpt_2023_portaria
                        camera_image: camera.portaria_mainstream
                        name: PORTARIA
                        show_name: true
                        show_state: false
                        camera_view: auto
                      - type: picture-entity
                        entity: camera.mpt_2023_my_camera_3
                        camera_image: camera.garagem_mainstream
                        name: NOVA
                        show_name: true
                        show_state: false
                        camera_view: auto
                      - type: picture-entity
                        entity: camera.mpt_2023_garagem
                        image: https://demo.home-assistant.io/stub_config/bedroom.png
                        name: GARAGEM
                        show_name: true
                        show_state: false
                        camera_view: auto
                        card_mod:
                          style: |
                            ha-card {
                              position: relative;
                            }
                            .name {
                              position: absolute;
                              bottom: 4px;     /* distância da base */
                              right: 8px;      /* distância da direita */
                              color: white;    /* cor do texto */
                              font-size: 14px; /* ajuste o tamanho conforme desejar */
                              background: rgba(0,0,0,0.3); /* opcional, para dar contraste */
                              padding: 2px 4px; /* opcional, deixa o texto mais legível */
                              border-radius: 2px; /* opcional */
                            }
              Painel:
                type: vertical-stack
                title: Produção  Solar
                cards:
                  - type: grid
                    square: true
                    cards:
                      - type: vertical-stack
                        cards:
                          - type: grid
                            columns: 1
                            cards:
                              - type: custom:bar-card
                                entities:
                                  - entity: sensor.sonoff_1000916c58_power
                                    name: Atual
                                    color: rgba(33, 150, 243, 0.6)
                                    max: 3450
                                    show_state: true
                                    show_icon: false
                                  - entity: sensor.sonoff_1000916c58_energy
                                    name: Diária
                                    color: rgba(33, 150, 243, 0.6)
                                    max: 24
                                    show_state: true
                                    show_icon: false
                                  - entity: sensor.producao_solar_mensal
                                    name: Mensal
                                    color: rgba(33, 150, 243, 0.6)
                                    max: 645
                                    show_state: true
                                    show_icon: false
                                direction: up
                                height: 200px
                                stack: horizontal
                                width: 100%
                                style: |
                                  ha-card {
                                    background: none;
                                    border: none;
                                  }
                                card_mod:
                                  style: |
                                    bar-card-backgroundbar {
                                      background-image: url('/local/PainelHoy3.png');
                                      background-size: cover;
                                      background-position: center center;
                                      background-repeat: no-repeat;
                                      border-radius: 0px;
                                    }
                                    bar-card-currentbar {
                                      background: rgba(33, 150, 243, 0.6);
                                      border-radius: 0px;
                                      clip-path: polygon(0 100%, 100% 100%, 100% calc(100% - var(--bar-percent)), 0 calc(100% - var(--bar-percent)));
                                    }
                                    bar-card-name, bar-card-value {
                                      text-shadow: 1px 1px black;
                                    }
                                    bar-card-name {
                                      font-size: 12px; /* Ajuste o tamanho do nome */
                                    }
                                    bar-card-value {
                                      font-size: 14px; /* Ajuste o tamanho do valor */
                                    }
                          - type: grid
                            columns: 4
                            square: false
                            cards:
                              - type: custom:button-card
                                template:
                                  - base
                                entity: switch.sonoff_1001465426
                                name: On/Off
                                icon: mdi:power
                                size: 129%
                                show_state: false
                                aspect_ratio: 1/1
                                tap_action:
                                  action: fire-dom-event
                                  browser_mod:
                                    service: browser_mod.sequence
                                    data:
                                      sequence:
                                        - service: script.pc_click
                                        - service: switch.toggle
                                          data:
                                            entity_id: switch.sonoff_1001465426
                                double_tap_action:
                                  action: more-info
                                styles:
                                  card:
                                    - background-color: rgba(60, 60, 60, 0.3)
                                    - border: '0.5px solid #5c5b5b'
                                  name:
                                    - font-size: 10px
                                state:
                                  - value: 'on'
                                    styles:
                                      icon:
                                        - color: '#cccc18'
                                      name:
                                        - color: '#cccc18'
                                  - value: 'off'
                                    styles:
                                      icon:
                                        - color: '#adadad'
                                      name:
                                        - color: '#adadad'
                              - type: custom:button-card
                                template: base
                                entity: none
                                name: Energy
                                icon: mdi:flash
                                size: 129%
                                show_state: false
                                aspect_ratio: 1/1
                                state:
                                  - value: 'on'
                                    styles:
                                      icon:
                                        - color: rgb(0, 175, 0)
                                tap_action:
                                  action: fire-dom-event
                                  browser_mod:
                                    service: browser_mod.sequence
                                    data:
                                      sequence:
                                        - service: script.pc_click
                                        - service: browser_mod.navigate
                                          data:
                                            path: /energy
                                styles:
                                  card:
                                    - background-color: rgba(60, 60, 60, 0.3)
                                    - border: '0.5px solid #5c5b5b'
                                  name:
                                    - font-size: 10px
                      - type: custom:energy-flow-card-plus
                        title: null
                        columns: 1
                        entities:
                          grid:
                            entity:
                              consumption: sensor.diario
                              production: sensor.sonoff_1000916c58_energy
                          solar:
                            entity: sensor.sonoff_1000916c58_energy
                            display_zero_state: true
                          home:
                            entity: sensor.sm_g990e_energy_usage
                        clickable_entities: true
                        display_zero_lines: true
                        use_new_flow_rate_model: true
                        energy_date_selection: false
                        wh_decimals: 1
                        kwh_decimals: 0
                        min_flow_rate: 1
                        max_flow_rate: 6
                        max_expected_energy: 2000
                        min_expected_energy: 10
                        wh_kwh_threshold: 1000
                        card_mod: null
                        style: |
                          ha-card {
                            background-color: transparent;  /* Torna o fundo transparente */
                            border: none;  /* Remove bordas, se necessário */
                          }
              TV:
                type: vertical-stack
                cards:
                  - type: grid
                    square: false
                    columns: 2
                    title: Multimídia
                    cards:
                      - type: custom:mini-media-player
                        entity: media_player.tv
                        background: /local/sn.png
                        volume_stateless: true
                        group: true
                        artwork: full-cover
                        source: full
                        sound_mode: full
                        name: TV SAMSUNG
                      - type: media-control
                        entity: media_player.lg_tv_remote
                        show_name: true
                        show_icon: true
                        tap_action:
                          action: toggle
                      - type: custom:mini-media-player
                        entity: media_player.vinicius_casa
                        group: true
                        volume_stateless: true
                        toggle_power: true
                        artwork: full-cover
                        source: full
                        info: short
                        max_volume: 100
                        min_volume: 1
                        name: ALEXA CASA
                        background: /local/alexa.jpg
                      - type: custom:mini-media-player
                        entity: media_player.fire_tv
                        group: true
                        volume_stateless: true
                        toggle_power: true
                        artwork: full-cover
                        source: full
                        info: short
                        max_volume: 100
                        min_volume: 1
                        name: FIRE TV
                        background: /local/cardfiretv.jpg
                      - type: custom:mini-media-player
                        entity: media_player.home_pc
                        group: false
                        volume_stateless: false
                        toggle_power: false
                        artwork: cover
              Ligado:
                type: vertical-stack
                cards:
                  - type: grid
                    square: false
                    columns: 1
                    title: Itens Ligados na Casa
                    cards:
                      - type: entity-filter
                        entities:
                          - entity: switch.smart_switch_9140
                            name: Vento
                            icon: mdi:fan
                            tap_action:
                              action: call-service
                              service: switch.turn_off
                              service_data:
                                entity_id: switch.smart_switch_9140
                          - entity: switch.sonoff_10004aff0b
                            name: Aquecedor
                            icon: mdi:light-switch-off
                            tap_action:
                              action: call-service
                              service: switch.turn_off
                              service_data:
                                entity_id: switch.sonoff_10004aff0b
                          - entity: switch.agua_switch_1
                            name: Água Piscina
                            icon: mdi:pipe-valve
                            tap_action:
                              action: call-service
                              service: switch.turn_off
                              service_data:
                                entity_id: switch.agua_switch_1
                          - entity: switch.banheiro_interruptor_1
                            name: Banheiro
                            icon: mdi:bathtub
                            tap_action:
                              action: call-service
                              service: switch.turn_off
                              service_data:
                                entity_id: switch.banheiro_interruptor_1
                          - entity: switch.sonoff_10024c29a2_1
                            name: Bomba
                            icon: mdi:engine-outline
                            tap_action:
                              action: call-service
                              service: switch.turn_off
                              service_data:
                                entity_id: switch.sonoff_10024c29a2_1
                          - entity: switch.cobertura_switch_1
                            name: Cobertura
                            icon: mdi:lightbulb
                            tap_action:
                              action: call-service
                              service: switch.turn_off
                              service_data:
                                entity_id: switch.cobertura_switch_1
                          - entity: switch.light_switch_socket_1
                            name: Cozinha
                            icon: mdi:lightbulb
                            tap_action:
                              action: call-service
                              service: switch.turn_off
                              service_data:
                                entity_id: switch.light_switch_socket_1
                          - entity: switch.light_switch_socket_2
                            name: Copa
                            icon: mdi:lightbulb
                            tap_action:
                              action: call-service
                              service: switch.turn_off
                              service_data:
                                entity_id: switch.light_switch_socket_2
                          - entity: switch.light_switch_socket_3
                            name: Pátio
                            icon: mdi:lightbulb
                            tap_action:
                              action: call-service
                              service: switch.turn_off
                              service_data:
                                entity_id: switch.light_switch_socket_3
                          - entity: switch.light_switch_socket_4
                            name: Spot
                            icon: mdi:lightbulb
                            tap_action:
                              action: call-service
                              service: switch.turn_off
                              service_data:
                                entity_id: switch.light_switch_socket_4
                          - entity: switch.light_switch_socket_5
                            name: Sala
                            icon: mdi:lightbulb
                            tap_action:
                              action: call-service
                              service: switch.turn_off
                              service_data:
                                entity_id: switch.light_switch_socket_5
                          - entity: switch.light_switch_socket_6
                            name: Holofote
                            icon: mdi:lightbulb
                            tap_action:
                              action: call-service
                              service: switch.turn_off
                              service_data:
                                entity_id: switch.light_switch_socket_6
                          - entity: switch.sonoff_1001465426
                            name: Entrada
                            icon: mdi:lightbulb
                            tap_action:
                              action: call-service
                              service: switch.turn_off
                              service_data:
                                entity_id: switch.sonoff_1001465426
                          - entity: switch.aubess_smart_switch_1_gang_10_switch_1
                            name: Irrigação
                            icon: mdi:sprinkler-variant
                            tap_action:
                              action: call-service
                              service: switch.turn_off
                              service_data:
                                entity_id: switch.aubess_smart_switch_1_gang_10_switch_1
                          - entity: switch.aubess_smart_switch_1_gang_9_switch_1
                            name: Jardim
                            icon: mdi:flower-tulip
                            tap_action:
                              action: call-service
                              service: switch.turn_off
                              service_data:
                                entity_id: switch.aubess_smart_switch_1_gang_9_switch_1
                          - entity: switch.lavanderia_tomada_1
                            name: Lavanderia
                            icon: mdi:lightbulb
                            tap_action:
                              action: call-service
                              service: switch.turn_off
                              service_data:
                                entity_id: switch.lavanderia_tomada_1
                          - entity: switch.sonoff_1000916c58
                            name: Painel Solar
                            icon: mdi:solar-power-variant
                            tap_action:
                              action: call-service
                              service: switch.turn_off
                              service_data:
                                entity_id: switch.sonoff_1000916c58
                          - entity: switch.sonoff_10014af341
                            name: Quarto
                            icon: mdi:lightbulb
                            tap_action:
                              action: call-service
                              service: switch.turn_off
                              service_data:
                                entity_id: switch.sonoff_10014af341
                          - entity: switch.tomada_bluetooth_interruptor_1
                            name: Caixa
                            icon: mdi:speaker-wireless
                            tap_action:
                              action: call-service
                              service: switch.turn_off
                              service_data:
                                entity_id: switch.tomada_bluetooth_interruptor_1
                          - entity: switch.min_switch_3_switch_1
                            name: Vaso
                            icon: mdi:flower
                            tap_action:
                              action: call-service
                              service: switch.turn_off
                              service_data:
                                entity_id: switch.min_switch_3_switch_1
                          - entity: switch.sonoff_10024c232d_1
                            name: Canil
                            icon: mdi:dog
                            tap_action:
                              action: call-service
                              service: switch.turn_off
                              service_data:
                                entity_id: switch.sonoff_10024c232d_1
                          - entity: switch.sonoff_10024c2380_1
                            name: Ferro
                            icon: mdi:iron
                            tap_action:
                              action: call-service
                              service: switch.turn_off
                              service_data:
                                entity_id: switch.sonoff_10024c2380_1
                          - entity: switch.smart_switch_03c3
                            name: Abajur
                            icon: mdi:floor-lamp-torchiere-variant
                            tap_action:
                              action: call-service
                              service: switch.turn_off
                              service_data:
                                entity_id: switch.smart_switch_03c3
                          - entity: switch.santa_switch_1
                            name: Santa
                            icon: mdi:church-outline
                            tap_action:
                              action: call-service
                              service: switch.turn_off
                              service_data:
                                entity_id: switch.santa_switch_1
                          - entity: media_player.tv
                            name: TV Sala
                            icon: mdi:television
                            tap_action:
                              action: call-service
                              service: media_player.turn_off
                              service_data:
                                entity_id: media_player.tv
                          - entity: media_player.fire_tv_192_168_100_117
                            name: Fire TV
                            icon: mdi:television
                            tap_action:
                              action: call-service
                              service: media_player.turn_off
                              service_data:
                                entity_id: media_player.fire_tv_192_168_100_117
                          - entity: media_player.lg_tv_remote
                            name: LG
                            tap_action:
                              action: call-service
                              service: media_player.turn_off
                              service_data:
                                entity_id: media_player.lg_tv_remote
                        state_filter:
                          - 'on'
                        show_empty: false
                        card:
                          type: glance
                          state_color: true
                          show_header_toggle: true
                          tap_action:
                            action: toggle
                    card_mod: null
                    style: |
                      ha-card {
                        background-color: transparent;  /* Torna o fundo transparente */
                        border: none;  /* Remove bordas, se necessário */
                      }
              Geral:
                type: vertical-stack
                cards:
                  - type: grid
                    square: false
                    columns: 1
                    cards:
                      - square: true
                        type: grid
                        title: Geral
                        columns: 10
                        cards:
                          - type: custom:button-card
                            template:
                              - base
                            entity: script.toggle_all_lights
                            name: Geral
                            icon: mdi:alpha-g-box
                            size: 129%
                            show_state: false
                            aspect_ratio: 1/1
                            tap_action:
                              action: fire-dom-event
                              browser_mod:
                                service: browser_mod.sequence
                                data:
                                  sequence:
                                    - service: script.pc_click
                                    - service: script.toggle_all_lights
                            double_tap_action:
                              action: more-info
                            styles:
                              card:
                                - background-color: rgba(60, 60, 60, 0.3)
                                - border: '0.5px solid #5c5b5b'
                              name:
                                - font-size: 14px
                            state:
                              - value: 'on'
                                styles:
                                  icon:
                                    - color: '#cccc18'
                              - value: 'off'
                                styles:
                                  icon:
                                    - color: '#adadad'
                          - type: custom:button-card
                            template:
                              - base
                            entity: script.toggle_all_lights_cobertura
                            name: Cobertura
                            icon: mdi:home
                            size: 129%
                            show_state: false
                            aspect_ratio: 1/1
                            tap_action:
                              action: fire-dom-event
                              browser_mod:
                                service: browser_mod.sequence
                                data:
                                  sequence:
                                    - service: script.pc_click
                                    - service: script.toggle_all_lights_cobertura
                            double_tap_action:
                              action: more-info
                            styles:
                              card:
                                - background-color: rgba(60, 60, 60, 0.3)
                                - border: '0.5px solid #5c5b5b'
                              name:
                                - font-size: 9px
                            state:
                              - value: 'on'
                                styles:
                                  icon:
                                    - color: '#cccc18'
                              - value: 'off'
                                styles:
                                  icon:
                                    - color: '#adadad'
                          - type: custom:button-card
                            template:
                              - base
                            entity: script.toggle_quarto
                            name: Quarto
                            icon: mdi:bed
                            size: 129%
                            show_state: false
                            aspect_ratio: 1/1
                            tap_action:
                              action: fire-dom-event
                              browser_mod:
                                service: browser_mod.sequence
                                data:
                                  sequence:
                                    - service: script.pc_click
                                    - service: script.toggle_quarto
                            double_tap_action:
                              action: more-info
                            styles:
                              card:
                                - background-color: rgba(60, 60, 60, 0.3)
                                - border: '0.5px solid #5c5b5b'
                              name:
                                - font-size: 11px
                            state:
                              - value: 'on'
                                styles:
                                  icon:
                                    - color: '#cccc18'
                              - value: 'off'
                                styles:
                                  icon:
                                    - color: '#adadad'
                          - type: custom:button-card
                            template:
                              - base
                            entity: script.toggle_patio
                            name: Pátio
                            icon: mdi:swim
                            size: 129%
                            show_state: false
                            aspect_ratio: 1/1
                            tap_action:
                              action: fire-dom-event
                              browser_mod:
                                service: browser_mod.sequence
                                data:
                                  sequence:
                                    - service: script.pc_click
                                    - service: script.toggle_patio
                            double_tap_action:
                              action: more-info
                            styles:
                              card:
                                - background-color: rgba(60, 60, 60, 0.3)
                                - border: '0.5px solid #5c5b5b'
                              name:
                                - font-size: 14px
                            state:
                              - value: 'on'
                                styles:
                                  icon:
                                    - color: '#cccc18'
                              - value: 'off'
                                styles:
                                  icon:
                                    - color: '#adadad'
                          - type: custom:button-card
                            template:
                              - base
                            entity: script.toggle_sala
                            name: Sala
                            icon: mdi:sofa
                            size: 129%
                            show_state: false
                            tap_action:
                              action: fire-dom-event
                              browser_mod:
                                service: browser_mod.sequence
                                data:
                                  sequence:
                                    - service: script.pc_click
                                    - service: script.toggle_sala
                            aspect_ratio: 1/1
                            double_tap_action:
                              action: more-info
                            styles:
                              card:
                                - background-color: rgba(60, 60, 60, 0.3)
                                - border: '0.5px solid #5c5b5b'
                              name:
                                - font-size: 14px
                            state:
                              - value: 'on'
                                styles:
                                  icon:
                                    - color: '#cccc18'
                              - value: 'off'
                                styles:
                                  icon:
                                    - color: '#adadad'
                          - type: custom:button-card
                            template:
                              - base
                            entity: switch.breaker_interruptor
                            name: Dijuntor
                            icon: mdi:power
                            size: 129%
                            show_state: false
                            aspect_ratio: 1/1
                            tap_action:
                              action: fire-dom-event
                              browser_mod:
                                service: browser_mod.sequence
                                data:
                                  sequence:
                                    - service: script.pc_click
                                    - service: switch.toggle
                                      data:
                                        entity_id: switch.breaker_interruptor
                            double_tap_action:
                              action: more-info
                            styles:
                              card:
                                - background-color: rgba(60, 60, 60, 0.3)
                                - border: '0.5px solid #5c5b5b'
                              name:
                                - font-size: 14px
                            state:
                              - value: 'on'
                                styles:
                                  icon:
                                    - color: '#cccc18'
                                  name:
                                    - color: '#cccc18'
                              - value: 'off'
                                styles:
                                  icon:
                                    - color: '#adadad'
                                  name:
                                    - color: '#adadad'
                      - square: true
                        type: grid
                        columns: 10
                        cards:
                          - type: custom:button-card
                            template:
                              - base
                            entity: switch.cobertura_switch_1
                            name: Cobertura
                            icon: mdi:home
                            size: 129%
                            show_state: false
                            aspect_ratio: 1/1
                            tap_action:
                              action: fire-dom-event
                              browser_mod:
                                service: browser_mod.sequence
                                data:
                                  sequence:
                                    - service: script.pc_click
                                    - service: switch.toggle
                                      data:
                                        entity_id: switch.cobertura_switch_1
                            double_tap_action:
                              action: more-info
                            styles:
                              card:
                                - background-color: rgba(60, 60, 60, 0.3)
                                - border: '0.5px solid #5c5b5b'
                              name:
                                - font-size: 14px
                            state:
                              - value: 'on'
                                styles:
                                  icon:
                                    - color: '#cccc18'
                                  name:
                                    - color: '#cccc18'
                              - value: 'off'
                                styles:
                                  icon:
                                    - color: '#adadad'
                                  name:
                                    - color: '#adadad'
                          - type: custom:button-card
                            template:
                              - base
                            entity: switch.sonoff_10024c232d_1
                            name: Canil
                            icon: mdi:dog
                            size: 129%
                            show_state: false
                            aspect_ratio: 1/1
                            tap_action:
                              action: fire-dom-event
                              browser_mod:
                                service: browser_mod.sequence
                                data:
                                  sequence:
                                    - service: script.pc_click
                                    - service: switch.toggle
                                      data:
                                        entity_id: switch.sonoff_10024c232d_1
                            double_tap_action:
                              action: more-info
                            styles:
                              card:
                                - background-color: rgba(60, 60, 60, 0.3)
                                - border: '0.5px solid #5c5b5b'
                              name:
                                - font-size: 12px
                            state:
                              - value: 'on'
                                styles:
                                  icon:
                                    - color: '#cccc18'
                                  name:
                                    - color: '#cccc18'
                              - value: 'off'
                                styles:
                                  icon:
                                    - color: '#adadad'
                                  name:
                                    - color: '#adadad'
                          - type: custom:button-card
                            template:
                              - base
                            entity: switch.sonoff_1001465426
                            name: Entrada
                            icon: mdi:home
                            size: 129%
                            show_state: false
                            aspect_ratio: 1/1
                            tap_action:
                              action: fire-dom-event
                              browser_mod:
                                service: browser_mod.sequence
                                data:
                                  sequence:
                                    - service: script.pc_click
                                    - service: switch.toggle
                                      data:
                                        entity_id: switch.sonoff_1001465426
                            double_tap_action:
                              action: more-info
                            styles:
                              card:
                                - background-color: rgba(60, 60, 60, 0.3)
                                - border: '0.5px solid #5c5b5b'
                              name:
                                - font-size: 10px
                            state:
                              - value: 'on'
                                styles:
                                  icon:
                                    - color: '#cccc18'
                                  name:
                                    - color: '#cccc18'
                              - value: 'off'
                                styles:
                                  icon:
                                    - color: '#adadad'
                                  name:
                                    - color: '#adadad'
                          - type: custom:button-card
                            template:
                              - base
                            entity: switch.lavanderia_tomada_1
                            name: Lavanderia
                            icon: mdi:washing-machine
                            size: 129%
                            show_state: false
                            aspect_ratio: 1/1
                            tap_action:
                              action: fire-dom-event
                              browser_mod:
                                service: browser_mod.sequence
                                data:
                                  sequence:
                                    - service: script.pc_click
                                    - service: switch.toggle
                                      data:
                                        entity_id: switch.lavanderia_tomada_1
                            double_tap_action:
                              action: more-info
                            styles:
                              card:
                                - background-color: rgba(60, 60, 60, 0.3)
                                - border: '0.5px solid #5c5b5b'
                              name:
                                - font-size: 8px
                            state:
                              - value: 'on'
                                styles:
                                  icon:
                                    - color: '#cccc18'
                                  name:
                                    - color: '#cccc18'
                              - value: 'off'
                                styles:
                                  icon:
                                    - color: '#adadad'
                                  name:
                                    - color: '#adadad'
                          - type: custom:button-card
                            template:
                              - base
                            entity: switch.santa_switch_1
                            name: Santa
                            icon: mdi:church
                            size: 129%
                            show_state: false
                            aspect_ratio: 1/1
                            tap_action:
                              action: fire-dom-event
                              browser_mod:
                                service: browser_mod.sequence
                                data:
                                  sequence:
                                    - service: script.pc_click
                                    - service: switch.toggle
                                      data:
                                        entity_id: switch.santa_switch_1
                            double_tap_action:
                              action: more-info
                            styles:
                              card:
                                - background-color: rgba(60, 60, 60, 0.3)
                                - border: '0.5px solid #5c5b5b'
                              name:
                                - font-size: 9px
                            state:
                              - value: 'on'
                                styles:
                                  icon:
                                    - color: '#cccc18'
                                  name:
                                    - color: '#cccc18'
                              - value: 'off'
                                styles:
                                  icon:
                                    - color: '#adadad'
                                  name:
                                    - color: '#adadad'
                          - type: custom:button-card
                            template:
                              - base
                            entity: switch.sonoff_1000916c58
                            name: Solar
                            icon: mdi:solar-panel-large
                            size: 129%
                            show_state: false
                            aspect_ratio: 1/1
                            tap_action:
                              action: fire-dom-event
                              browser_mod:
                                service: browser_mod.sequence
                                data:
                                  sequence:
                                    - service: script.pc_click
                                    - service: switch.toggle
                                      data:
                                        entity_id: switch.sonoff_1000916c58
                            double_tap_action:
                              action: more-info
                            styles:
                              card:
                                - background-color: rgba(60, 60, 60, 0.3)
                                - border: '0.5px solid #5c5b5b'
                              name:
                                - font-size: 10px
                            state:
                              - value: 'on'
                                styles:
                                  icon:
                                    - color: '#cccc18'
                                  name:
                                    - color: '#cccc18'
                              - value: 'off'
                                styles:
                                  icon:
                                    - color: '#adadad'
                                  name:
                                    - color: '#adadad'
                      - square: true
                        type: grid
                        columns: 10
                        cards:
                          - type: custom:button-card
                            template:
                              - base
                            entity: switch.sonoff_10014af341
                            name: Quarto
                            icon: mdi:bed
                            size: 129%
                            show_state: false
                            aspect_ratio: 1/1
                            tap_action:
                              action: fire-dom-event
                              browser_mod:
                                service: browser_mod.sequence
                                data:
                                  sequence:
                                    - service: script.pc_click
                                    - service: switch.toggle
                                      data:
                                        entity_id: switch.sonoff_10014af341
                            double_tap_action:
                              action: more-info
                            styles:
                              card:
                                - background-color: rgba(60, 60, 60, 0.3)
                                - border: '0.5px solid #5c5b5b'
                              name:
                                - font-size: 10px
                            state:
                              - value: 'on'
                                styles:
                                  icon:
                                    - color: '#cccc18'
                                  name:
                                    - color: '#cccc18'
                              - value: 'off'
                                styles:
                                  icon:
                                    - color: '#adadad'
                                  name:
                                    - color: '#adadad'
                          - type: custom:button-card
                            template:
                              - base
                            entity: switch.banheiro_interruptor_1
                            name: Banheiro
                            icon: mdi:toilet
                            size: 129%
                            show_state: false
                            aspect_ratio: 1/1
                            tap_action:
                              action: fire-dom-event
                              browser_mod:
                                service: browser_mod.sequence
                                data:
                                  sequence:
                                    - service: script.pc_click
                                    - service: switch.toggle
                                      data:
                                        entity_id: switch.banheiro_interruptor_1
                            double_tap_action:
                              action: more-info
                            styles:
                              card:
                                - background-color: rgba(60, 60, 60, 0.3)
                                - border: '0.5px solid #5c5b5b'
                              name:
                                - font-size: 8px
                            state:
                              - value: 'on'
                                styles:
                                  icon:
                                    - color: '#cccc18'
                                  name:
                                    - color: '#cccc18'
                              - value: 'off'
                                styles:
                                  icon:
                                    - color: '#adadad'
                                  name:
                                    - color: '#adadad'
                          - type: custom:button-card
                            template:
                              - base
                            entity: switch.sonoff_10024c2380_1
                            name: Ferro
                            icon: mdi:iron
                            size: 129%
                            show_state: false
                            aspect_ratio: 1/1
                            tap_action:
                              action: fire-dom-event
                              browser_mod:
                                service: browser_mod.sequence
                                data:
                                  sequence:
                                    - service: script.pc_click
                                    - service: switch.toggle
                                      data:
                                        entity_id: switch.sonoff_10024c2380_1
                            double_tap_action:
                              action: more-info
                            styles:
                              card:
                                - background-color: rgba(60, 60, 60, 0.3)
                                - border: '0.5px solid #5c5b5b'
                              name:
                                - font-size: 9px
                            state:
                              - value: 'on'
                                styles:
                                  icon:
                                    - color: '#cccc18'
                                  name:
                                    - color: '#cccc18'
                              - value: 'off'
                                styles:
                                  icon:
                                    - color: '#adadad'
                                  name:
                                    - color: '#adadad'
                          - type: custom:button-card
                            template:
                              - base
                            entity: media_player.lg_tv_remote
                            name: LG
                            icon: mdi:television
                            size: 129%
                            show_state: false
                            aspect_ratio: 1/1
                            tap_action:
                              action: fire-dom-event
                              browser_mod:
                                service: browser_mod.sequence
                                data:
                                  sequence:
                                    - service: script.pc_click
                                    - service: scene.turn_on
                                      data:
                                        entity_id: scene.lg2_lig_des
                            double_tap_action:
                              action: more-info
                            styles:
                              card:
                                - background-color: rgba(60, 60, 60, 0.3)
                                - border: '0.5px solid #5c5b5b'
                              name:
                                - font-size: 12px
                            state:
                              - value: 'on'
                                styles:
                                  icon:
                                    - color: '#cccc18'
                                  name:
                                    - color: '#cccc18'
                              - value: 'off'
                                styles:
                                  icon:
                                    - color: '#adadad'
                                  name:
                                    - color: '#adadad'
                          - type: custom:button-card
                            template:
                              - base
                            entity: switch.sonoff_10004aff0b
                            name: Aquecedor
                            icon: mdi:radiator
                            size: 129%
                            show_state: false
                            aspect_ratio: 1/1
                            tap_action:
                              action: fire-dom-event
                              browser_mod:
                                service: browser_mod.sequence
                                data:
                                  sequence:
                                    - service: script.pc_click
                                    - service: switch.toggle
                                      data:
                                        entity_id: switch.sonoff_10004aff0b
                            double_tap_action:
                              action: more-info
                            styles:
                              card:
                                - background-color: rgba(60, 60, 60, 0.3)
                                - border: '0.5px solid #5c5b5b'
                              name:
                                - font-size: 9px
                            state:
                              - value: 'on'
                                styles:
                                  icon:
                                    - color: '#cccc18'
                                  name:
                                    - color: '#cccc18'
                              - value: 'off'
                                styles:
                                  icon:
                                    - color: '#adadad'
                                  name:
                                    - color: '#adadad'
                          - type: custom:button-card
                            template:
                              - base
                            entity: scene.ar_desligar
                            name: Ar
                            icon: mdi:snowflake
                            size: 129%
                            show_state: false
                            aspect_ratio: 1/1
                            tap_action:
                              action: fire-dom-event
                              browser_mod:
                                service: browser_mod.sequence
                                data:
                                  sequence:
                                    - service: script.pc_click
                                    - service: switch.toggle
                                      data:
                                        entity_id: scene.ar_desligar
                            double_tap_action:
                              action: more-info
                            styles:
                              card:
                                - background-color: rgba(60, 60, 60, 0.3)
                                - border: '0.5px solid #5c5b5b'
                              name:
                                - font-size: 12px
                            state:
                              - value: 'on'
                                styles:
                                  icon:
                                    - color: '#cccc18'
                                  name:
                                    - color: '#cccc18'
                              - value: 'off'
                                styles:
                                  icon:
                                    - color: '#adadad'
                                  name:
                                    - color: '#adadad'
                      - square: true
                        type: grid
                        columns: 10
                        cards:
                          - type: custom:button-card
                            template:
                              - base
                            entity: switch.agua_switch_1
                            name: Água
                            icon: mdi:water
                            size: 129%
                            show_state: false
                            aspect_ratio: 1/1
                            tap_action:
                              action: fire-dom-event
                              browser_mod:
                                service: browser_mod.sequence
                                data:
                                  sequence:
                                    - service: script.pc_click
                                    - service: switch.toggle
                                      data:
                                        entity_id: switch.agua_switch_1
                            double_tap_action:
                              action: more-info
                            styles:
                              card:
                                - background-color: rgba(60, 60, 60, 0.3)
                                - border: '0.5px solid #5c5b5b'
                              name:
                                - font-size: 12px
                            state:
                              - value: 'on'
                                styles:
                                  icon:
                                    - color: '#cccc18'
                                  name:
                                    - color: '#cccc18'
                              - value: 'off'
                                styles:
                                  icon:
                                    - color: '#adadad'
                                  name:
                                    - color: '#adadad'
                          - type: custom:button-card
                            template:
                              - base
                            entity: switch.aubess_smart_switch_1_gang_10_switch_1
                            name: Irrigação
                            icon: mdi:sprinkler-variant
                            size: 129%
                            show_state: false
                            aspect_ratio: 1/1
                            tap_action:
                              action: fire-dom-event
                              browser_mod:
                                service: browser_mod.sequence
                                data:
                                  sequence:
                                    - service: script.pc_click
                                    - service: switch.toggle
                                      data:
                                        entity_id: >-
                                          switch.aubess_smart_switch_1_gang_10_switch_1
                            double_tap_action:
                              action: more-info
                            styles:
                              card:
                                - background-color: rgba(60, 60, 60, 0.3)
                                - border: '0.5px solid #5c5b5b'
                              name:
                                - font-size: 8px
                            state:
                              - value: 'on'
                                styles:
                                  icon:
                                    - color: '#cccc18'
                                  name:
                                    - color: '#cccc18'
                              - value: 'off'
                                styles:
                                  icon:
                                    - color: '#adadad'
                                  name:
                                    - color: '#adadad'
                          - type: custom:button-card
                            template:
                              - base
                            entity: switch.sonoff_10024c29a2_1
                            name: Bomba
                            icon: mdi:engine
                            size: 129%
                            show_state: false
                            aspect_ratio: 1/1
                            tap_action:
                              action: fire-dom-event
                              browser_mod:
                                service: browser_mod.sequence
                                data:
                                  sequence:
                                    - service: script.pc_click
                                    - service: switch.toggle
                                      data:
                                        entity_id: switch.sonoff_10024c29a2_1
                            double_tap_action:
                              action: more-info
                            styles:
                              card:
                                - background-color: rgba(60, 60, 60, 0.3)
                                - border: '0.5px solid #5c5b5b'
                              name:
                                - font-size: 8px
                            state:
                              - value: 'on'
                                styles:
                                  icon:
                                    - color: '#cccc18'
                                  name:
                                    - color: '#cccc18'
                              - value: 'off'
                                styles:
                                  icon:
                                    - color: '#adadad'
                                  name:
                                    - color: '#adadad'
                          - type: custom:button-card
                            template:
                              - base
                            entity: switch.light_switch_socket_3
                            name: Pátio
                            icon: mdi:door
                            size: 129%
                            show_state: false
                            aspect_ratio: 1/1
                            tap_action:
                              action: fire-dom-event
                              browser_mod:
                                service: browser_mod.sequence
                                data:
                                  sequence:
                                    - service: script.pc_click
                                    - service: switch.toggle
                                      data:
                                        entity_id: switch.light_switch_socket_3
                            double_tap_action:
                              action: more-info
                            styles:
                              card:
                                - background-color: rgba(60, 60, 60, 0.3)
                                - border: '0.5px solid #5c5b5b'
                              name:
                                - font-size: 12px
                            state:
                              - value: 'on'
                                styles:
                                  icon:
                                    - color: '#cccc18'
                                  name:
                                    - color: '#cccc18'
                              - value: 'off'
                                styles:
                                  icon:
                                    - color: '#adadad'
                                  name:
                                    - color: '#adadad'
                          - type: custom:button-card
                            template:
                              - base
                            entity: switch.light_switch_socket_6
                            name: Holofote
                            icon: mdi:spotlight
                            size: 129%
                            show_state: false
                            aspect_ratio: 1/1
                            tap_action:
                              action: fire-dom-event
                              browser_mod:
                                service: browser_mod.sequence
                                data:
                                  sequence:
                                    - service: script.pc_click
                                    - service: switch.toggle
                                      data:
                                        entity_id: switch.light_switch_socket_6
                            double_tap_action:
                              action: more-info
                            styles:
                              card:
                                - background-color: rgba(60, 60, 60, 0.3)
                                - border: '0.5px solid #5c5b5b'
                              name:
                                - font-size: 9px
                            state:
                              - value: 'on'
                                styles:
                                  icon:
                                    - color: '#cccc18'
                                  name:
                                    - color: '#cccc18'
                              - value: 'off'
                                styles:
                                  icon:
                                    - color: '#adadad'
                                  name:
                                    - color: '#adadad'
                          - type: custom:button-card
                            template:
                              - base
                            entity: switch.min_switch_3_switch_1
                            name: Vaso
                            icon: mdi:flower-tulip
                            size: 129%
                            show_state: false
                            aspect_ratio: 1/1
                            tap_action:
                              action: fire-dom-event
                              browser_mod:
                                service: browser_mod.sequence
                                data:
                                  sequence:
                                    - service: script.pc_click
                                    - service: switch.toggle
                                      data:
                                        entity_id: switch.min_switch_3_switch_1
                            double_tap_action:
                              action: more-info
                            styles:
                              card:
                                - background-color: rgba(60, 60, 60, 0.3)
                                - border: '0.5px solid #5c5b5b'
                              name:
                                - font-size: 10px
                            state:
                              - value: 'on'
                                styles:
                                  icon:
                                    - color: '#cccc18'
                                  name:
                                    - color: '#cccc18'
                              - value: 'off'
                                styles:
                                  icon:
                                    - color: '#adadad'
                                  name:
                                    - color: '#adadad'
                          - type: custom:button-card
                            template:
                              - base
                            entity: switch.aubess_smart_switch_1_gang_9_switch_1
                            name: Jardim
                            icon: mdi:tree
                            size: 129%
                            show_state: false
                            aspect_ratio: 1/1
                            tap_action:
                              action: fire-dom-event
                              browser_mod:
                                service: browser_mod.sequence
                                data:
                                  sequence:
                                    - service: script.pc_click
                                    - service: switch.toggle
                                      data:
                                        entity_id: >-
                                          switch.aubess_smart_switch_1_gang_9_switch_1
                            double_tap_action:
                              action: more-info
                            styles:
                              card:
                                - background-color: rgba(60, 60, 60, 0.3)
                                - border: '0.5px solid #5c5b5b'
                              name:
                                - font-size: 10px
                            state:
                              - value: 'on'
                                styles:
                                  icon:
                                    - color: '#cccc18'
                                  name:
                                    - color: '#cccc18'
                              - value: 'off'
                                styles:
                                  icon:
                                    - color: '#adadad'
                                  name:
                                    - color: '#adadad'
                          - type: custom:button-card
                            template:
                              - base
                            entity: switch.tomada_bluetooth_interruptor_1
                            name: Caixa
                            icon: mdi:speaker-bluetooth
                            size: 129%
                            show_state: false
                            aspect_ratio: 1/1
                            tap_action:
                              action: fire-dom-event
                              browser_mod:
                                service: browser_mod.sequence
                                data:
                                  sequence:
                                    - service: script.pc_click
                                    - service: switch.toggle
                                      data:
                                        entity_id: switch.tomada_bluetooth_interruptor_1
                            double_tap_action:
                              action: more-info
                            styles:
                              card:
                                - background-color: rgba(60, 60, 60, 0.3)
                                - border: '0.5px solid #5c5b5b'
                              name:
                                - font-size: 10px
                            state:
                              - value: 'on'
                                styles:
                                  icon:
                                    - color: '#cccc18'
                                  name:
                                    - color: '#cccc18'
                              - value: 'off'
                                styles:
                                  icon:
                                    - color: '#adadad'
                                  name:
                                    - color: '#adadad'
                      - square: true
                        type: grid
                        columns: 10
                        cards:
                          - type: custom:button-card
                            template:
                              - base
                            entity: switch.smart_switch_03c3
                            name: Abajur
                            icon: mdi:lamp
                            size: 129%
                            show_state: false
                            aspect_ratio: 1/1
                            tap_action:
                              action: fire-dom-event
                              browser_mod:
                                service: browser_mod.sequence
                                data:
                                  sequence:
                                    - service: script.pc_click
                                    - service: switch.toggle
                                      data:
                                        entity_id: switch.smart_switch_03c3
                            double_tap_action:
                              action: more-info
                            styles:
                              card:
                                - background-color: rgba(60, 60, 60, 0.3)
                                - border: '0.5px solid #5c5b5b'
                              name:
                                - font-size: 10px
                            state:
                              - value: 'on'
                                styles:
                                  icon:
                                    - color: '#cccc18'
                                  name:
                                    - color: '#cccc18'
                              - value: 'off'
                                styles:
                                  icon:
                                    - color: '#adadad'
                                  name:
                                    - color: '#adadad'
                          - type: custom:button-card
                            template:
                              - base
                            entity: switch.light_switch_socket_5
                            name: Sala
                            icon: mdi:sofa
                            size: 129%
                            show_state: false
                            aspect_ratio: 1/1
                            tap_action:
                              action: fire-dom-event
                              browser_mod:
                                service: browser_mod.sequence
                                data:
                                  sequence:
                                    - service: script.pc_click
                                    - service: switch.toggle
                                      data:
                                        entity_id: switch.light_switch_socket_5
                            double_tap_action:
                              action: more-info
                            styles:
                              card:
                                - background-color: rgba(60, 60, 60, 0.3)
                                - border: '0.5px solid #5c5b5b'
                              name:
                                - font-size: 12px
                            state:
                              - value: 'on'
                                styles:
                                  icon:
                                    - color: '#cccc18'
                                  name:
                                    - color: '#cccc18'
                              - value: 'off'
                                styles:
                                  icon:
                                    - color: '#adadad'
                                  name:
                                    - color: '#adadad'
                          - type: custom:button-card
                            template:
                              - base
                            entity: switch.light_switch_socket_4
                            name: Spot
                            icon: mdi:spotlight
                            size: 129%
                            show_state: false
                            aspect_ratio: 1/1
                            tap_action:
                              action: fire-dom-event
                              browser_mod:
                                service: browser_mod.sequence
                                data:
                                  sequence:
                                    - service: script.pc_click
                                    - service: switch.toggle
                                      data:
                                        entity_id: switch.light_switch_socket_4
                            double_tap_action:
                              action: more-info
                            styles:
                              card:
                                - background-color: rgba(60, 60, 60, 0.3)
                                - border: '0.5px solid #5c5b5b'
                              name:
                                - font-size: 12px
                            state:
                              - value: 'on'
                                styles:
                                  icon:
                                    - color: '#cccc18'
                                  name:
                                    - color: '#cccc18'
                              - value: 'off'
                                styles:
                                  icon:
                                    - color: '#adadad'
                                  name:
                                    - color: '#adadad'
                          - type: custom:button-card
                            template:
                              - base
                            entity: switch.light_switch_socket_2
                            name: Copa
                            icon: mdi:cup
                            size: 129%
                            show_state: false
                            aspect_ratio: 1/1
                            tap_action:
                              action: fire-dom-event
                              browser_mod:
                                service: browser_mod.sequence
                                data:
                                  sequence:
                                    - service: script.pc_click
                                    - service: switch.toggle
                                      data:
                                        entity_id: switch.light_switch_socket_2
                            double_tap_action:
                              action: more-info
                            styles:
                              card:
                                - background-color: rgba(60, 60, 60, 0.3)
                                - border: '0.5px solid #5c5b5b'
                              name:
                                - font-size: 12px
                            state:
                              - value: 'on'
                                styles:
                                  icon:
                                    - color: '#cccc18'
                                  name:
                                    - color: '#cccc18'
                              - value: 'off'
                                styles:
                                  icon:
                                    - color: '#adadad'
                                  name:
                                    - color: '#adadad'
                          - type: custom:button-card
                            template:
                              - base
                            entity: switch.light_switch_socket_1
                            name: Cozinha
                            icon: mdi:food
                            size: 129%
                            show_state: false
                            aspect_ratio: 1/1
                            tap_action:
                              action: fire-dom-event
                              browser_mod:
                                service: browser_mod.sequence
                                data:
                                  sequence:
                                    - service: script.pc_click
                                    - service: switch.toggle
                                      data:
                                        entity_id: switch.light_switch_socket_1
                            double_tap_action:
                              action: more-info
                            styles:
                              card:
                                - background-color: rgba(60, 60, 60, 0.3)
                                - border: '0.5px solid #5c5b5b'
                              name:
                                - font-size: 9px
                            state:
                              - value: 'on'
                                styles:
                                  icon:
                                    - color: '#cccc18'
                                  name:
                                    - color: '#cccc18'
                              - value: 'off'
                                styles:
                                  icon:
                                    - color: '#adadad'
                                  name:
                                    - color: '#adadad'
                          - type: custom:button-card
                            template:
                              - base
                            entity: remote.tv
                            name: TV
                            icon: mdi:television
                            size: 129%
                            show_state: false
                            aspect_ratio: 1/1
                            tap_action:
                              action: fire-dom-event
                              browser_mod:
                                service: browser_mod.sequence
                                data:
                                  sequence:
                                    - service: script.pc_click
                                    - service: switch.toggle
                                      data:
                                        entity_id: remote.tv
                            double_tap_action:
                              action: more-info
                            styles:
                              card:
                                - background-color: rgba(60, 60, 60, 0.3)
                                - border: '0.5px solid #5c5b5b'
                              name:
                                - font-size: 12px
                            state:
                              - value: 'on'
                                styles:
                                  icon:
                                    - color: '#cccc18'
                                  name:
                                    - color: '#cccc18'
                              - value: 'off'
                                styles:
                                  icon:
                                    - color: '#adadad'
                                  name:
                                    - color: '#adadad'
                          - type: custom:button-card
                            template:
                              - base
                            entity: switch.smart_switch_9140
                            name: Vento
                            icon: mdi:fan
                            size: 129%
                            show_state: false
                            aspect_ratio: 1/1
                            tap_action:
                              action: fire-dom-event
                              browser_mod:
                                service: browser_mod.sequence
                                data:
                                  sequence:
                                    - service: script.pc_click
                                    - service: switch.toggle
                                      data:
                                        entity_id: switch.smart_switch_9140
                            double_tap_action:
                              action: more-info
                            styles:
                              card:
                                - background-color: rgba(60, 60, 60, 0.3)
                                - border: '0.5px solid #5c5b5b'
                              name:
                                - font-size: 12px
                            state:
                              - value: 'on'
                                styles:
                                  icon:
                                    - color: '#cccc18'
                                  name:
                                    - color: '#cccc18'
                              - value: 'off'
                                styles:
                                  icon:
                                    - color: '#adadad'
                                  name:
                                    - color: '#adadad'
                          - type: custom:button-card
                            template:
                              - base
                            entity: scene.ligar_barra
                            name: Barra
                            icon: mdi:speaker-bluetooth
                            size: 129%
                            show_state: false
                            aspect_ratio: 1/1
                            tap_action:
                              action: fire-dom-event
                              browser_mod:
                                service: browser_mod.sequence
                                data:
                                  sequence:
                                    - service: script.pc_click
                                    - service: switch.toggle
                                      data:
                                        entity_id: scene.ligar_barra
                            double_tap_action:
                              action: more-info
                            styles:
                              card:
                                - background-color: rgba(60, 60, 60, 0.3)
                                - border: '0.5px solid #5c5b5b'
                              name:
                                - font-size: 12px
                            state:
                              - value: 'on'
                                styles:
                                  icon:
                                    - color: '#cccc18'
                                  name:
                                    - color: '#cccc18'
                              - value: 'off'
                                styles:
                                  icon:
                                    - color: '#adadad'
                                  name:
                                    - color: '#adadad'
              Energia:
                type: vertical-stack
                cards:
                  - type: entities
                    title: Produção Solar
                    show_header_toggle: false
                    state_color: true
                    theme: Caule Black Purple Glass
                    card_mod:
                      style: |
                        ha-card {
                          background: transparent !important;
                          box-shadow: none !important;
                          --ha-card-background: transparent !important;
                        }
                    style:
                      card:
                        - height: 100px
                        - width: 300px
                    entities:
                      - entity: sensor.sonoff_1000916c58_power
                      - entity: sensor.sonoff_1000916c58_energy
                        name: Energia Diária
                        icon: ''
                      - entity: sensor.breaker_total_production
                        name: Energia injetada
                  - type: entities
                    title: Consumo de Energia da Casa
                    state_color: true
                    theme: Caule Black Purple Glass
                    card_mod:
                      style: |
                        ha-card {
                          background: transparent !important;
                          box-shadow: none !important;
                          --ha-card-background: transparent !important;
                        }
                    style:
                      card:
                        - height: 100px
                        - width: 350px
                    entities:
                      - entity: sensor.breaker_energia_total
                        name: Energia Consumida
                      - entity: sensor.breaker_potencia_da_fase_a
                        name: Potência
                      - entity: sensor.consumo_energia_diario
                        name: Diário
                      - entity: sensor.consumo_energia_mensal
                        name: Mensal
              Camera1:
                type: vertical-stack
                cards:
                  - show_state: false
                    show_name: true
                    camera_view: live
                    type: picture-entity
                    entity: camera.mpt_2023_portaria
              Camera2:
                type: vertical-stack
                cards:
                  - show_state: false
                    show_name: true
                    camera_view: live
                    name: null
                    type: picture-entity
                    entity: camera.mpt_2023_my_camera_3
              Camera3:
                type: vertical-stack
                cards:
                  - show_state: false
                    show_name: true
                    camera_view: live
                    type: picture-entity
                    entity: camera.mpt_2023_garagem
              Injetada:
                type: vertical-stack
                cards:
                  - type: energy-sources-table
                    entity: sensor.energy_grid_neutrality
                    title: Energia Enviada para a Rede
                    style: |
                      ha-card {
                        background-color: transparent !important;
                        border: none !important;
                      }
                    columns: 1
                    view_layout:
                      grid-area: lights
              Agua:
                type: vertical-stack
                title: Consumo Água da Casa
                cards:
                  - type: grid
                    columns: 2
                    square: false
                    cards:
                      - type: custom:mushroom-template-card
                        primary: 💧 Mês M³
                        secondary: >-
                          {{ (states('sensor.cons_agua_mes_casa') | float /
                          1000) | round(2) }} M³ | R$ {{
                          states('sensor.custo_agua_mes_atual') | float |
                          round(2) }}
                        icon: mdi:water
                        icon_color: >-
                          {% if (states('sensor.cons_agua_mes_casa') | float /
                          1000) > 10 %} red  {% elif
                          (states('sensor.cons_agua_mes_casa') | float / 1000) >
                          5 %} orange  {% else %} blue {% endif %}
                        card_mod:
                          style: |
                            ha-card {
                              background: linear-gradient(to right, #6f6f70 {{ ((states('sensor.cons_agua_mes_casa') | float / 1000) / 15) * 100 }}%, #404040 19%);
                              border-radius: 15px;
                              color: black;
                              font-weight: bold;
                              background-color: rgba(64, 64, 64, 0.4);
                            }
                      - type: custom:mushroom-template-card
                        primary: 💧 Mes Atual Lts
                        secondary: >-
                          {{ states('sensor.cons_agua_mes_casa_round') | float
                          }} L | R$ {{ states('sensor.custo_agua_mes_atual') }}
                        icon: mdi:water
                        icon_color: >-
                          {% if (states('sensor.cons_agua_mes_casa') | float) >
                          10000 %} red  {% elif
                          (states('sensor.cons_agua_mes_casa') | float) > 5000
                          %} orange  {% else %} blue {% endif %}
                        card_mod:
                          style: |
                            ha-card {
                              background: linear-gradient(to right, #6f6f70 {{ ((states('sensor.cons_agua_mes_casa') | float) / 15000) * 100 }}%, #404040 19%);
                              border-radius: 15px;
                              color: black;
                              background-color: rgba(64, 64, 64, 0.4); /* Aplica transparência no fundo do card */
                              font-weight: bold;
                            }
                  - type: grid
                    columns: 2
                    square: false
                    cards:
                      - type: entities
                        show_header_toggle: false
                        entities:
                          - entity: sensor.consumo_agua_fluxo_de_consumo_de_gua
                            name: Agora
                            icon: mdi:water
                          - entity: sensor.cons_agua_dia_casa_round
                            name: Diário
                            icon: mdi:water-circle
                          - entity: sensor.cons_agua_semana_casa_round
                            name: Semanal
                            icon: mdi:water-circle
                          - entity: sensor.cons_agua_mes_casa_round
                            name: Mensal
                            icon: mdi:water-circle
                        card_mod:
                          style: |
                            ha-card {
                              background: transparent !important;
                              box-shadow: none !important;
                            }
                      - type: entities
                        show_header_toggle: false
                        entities:
                          - entity: sensor.custo_agua_hora_atual
                            name: R$
                            icon: mdi:cash
                          - entity: sensor.custo_agua_dia_atual
                            name: R$
                            icon: mdi:cash
                          - entity: sensor.custo_agua_mes_atual
                            name: R$
                            icon: mdi:cash
                          - entity: sensor.custo_agua_mes_atual
                            name: R$
                            icon: mdi:cash
                        card_mod:
                          style: |
                            ha-card {
                              background: transparent !important;
                              box-shadow: none !important;
                            }
                  - type: conditional
                    conditions:
                      - condition: or
                        conditions:
                          - condition: numeric_state
                            entity: sensor.consumo_agua_consumo_de_gua_energy_m
                            below: 2.25
                          - condition: numeric_state
                            entity: sensor.consumo_agua_consumo_de_gua_energy_m
                            above: 2.25
                    card:
                      type: markdown
                      content: >
                        {% if
                        states('sensor.consumo_agua_consumo_de_gua_energy_m') |
                        float(0) < 2.25 %} <span style="font-size: 22px;">🎉
                        <b>PARABÉNS!</b></span>  🎉  
                          Consumo dentro da média! Economia de: **{{ (2.25 - states('sensor.consumo_agua_consumo_de_gua_energy_m') | float(0)) | round(2) }} m³**. Custo: **R$ {{ states('sensor.custo_agua_mes_atual') | float(0) }}**. {% else %}  
                         <span style="font-size: 22px;">⚠️ <b>ALERTA! CONSUMO ALTO!</b> ⚠️</span> Excedente: **{{ (states('sensor.consumo_agua_consumo_de_gua_energy_m') | float(0) - 2.25) | round(2) }} m³**.  Custo: **R$ {{ states('sensor.custo_agua_mes_atual') | float(0) }}**. Reduza o uso para evitar gastos excessivos!  
                        {% endif %}
                      card_mod:
                        style: |
                          ha-card {
                            background-color: transparent;

                            font-weight: bold;
                            text-align: left;
                            border-radius: 10px;
                            font-size: 12px; /* Ajuste o tamanho da fonte do restante do texto */
                            padding: 6px; /* Redução do espaçamento interno */
                            display: flex;
                            justify-content: flex-start;
                            align-items: center;
                            min-height: 40px; /* Redução da altura do card */
                          }
                columns: 1
                view_layout:
                  grid-area: lights
              Piscina:
                type: vertical-stack
                cards:
                  - type: custom:button-card
                    entity: binary_sensor.shui_jin_chuan_gan_qi_umidade
                    icon: mdi:water
                    show_state: true
                    styles:
                      card:
                        - background-image: url('/local/Inu.png')
                        - background-size: cover
                        - background-position: left
                        - border-radius: 0px
                        - padding: 0px
                        - height: 80px
                        - width: 325px
                        - display: flex
                        - align-items: center
                      icon:
                        - width: 60px
                        - height: 60px
                        - margin-left: 250px
                        - color: |
                            [[[
                              const sensor = states['binary_sensor.shui_jin_chuan_gan_qi_umidade'];
                              if (sensor && sensor.state === 'on') return 'red';
                              return 'blue';
                            ]]]
                      name:
                        - color: '#adadad'
                        - font-size: 0px
                        - font-weight: bold
                        - margin-left: 199px
                      state:
                        - color: |
                            [[[
                              const sensor = states['binary_sensor.shui_jin_chuan_gan_qi_umidade'];
                              if (sensor && sensor.state === 'on') return 'red';
                              return 'green';
                            ]]]
                        - font-size: 16px
                        - margin-left: 250px
                  - type: custom:button-card
                    entity: sensor.shui_jin_chuan_gan_qi_bateria
                    name: Bateria Sensor de Inundação
                    icon: |
                      [[[
                        const sensor = states['sensor.shui_jin_chuan_gan_qi_bateria'];
                        const batteryLevel = sensor ? parseFloat(sensor.state) : 0;
                        if (batteryLevel > 75) return 'mdi:battery-charging-high';
                        if (batteryLevel > 50) return 'mdi:battery-charging-medium';
                        if (batteryLevel > 25) return 'mdi:battery-charging-low';
                        return 'mdi:battery-20';
                      ]]]
                    show_state: true
                    styles:
                      card:
                        - background-image: url('/local/Sen.png')
                        - background-size: cover
                        - background-position: left
                        - border-radius: 0px
                        - padding: 0px
                        - height: 80px
                        - width: 325px
                        - display: flex
                        - align-items: center
                      icon:
                        - width: 60px
                        - height: 60px
                        - margin-left: 268px
                        - color: |
                            [[[
                              const sensor = states['sensor.shui_jin_chuan_gan_qi_bateria'];
                              const batteryLevel = sensor ? parseFloat(sensor.state) : 0;
                              if (batteryLevel > 75) return 'green';
                              if (batteryLevel > 50) return 'yellow';
                              if (batteryLevel > 25) return 'orange';
                              return 'red';
                            ]]]
                      name:
                        - color: '#adadad'
                        - font-size: 0px
                        - font-weight: bold
                        - margin-left: 250px
                      state:
                        - color: |
                            [[[
                              const sensor = states['sensor.shui_jin_chuan_gan_qi_bateria'];
                              const batteryLevel = sensor ? parseFloat(sensor.state) : 0;
                              if (batteryLevel > 75) return 'green';
                              if (batteryLevel > 50) return 'yellow';
                              if (batteryLevel > 25) return 'orange';
                              return 'red';
                            ]]]
                        - font-size: 16px
                        - margin-left: 250px
              Caixa:
                type: horizontal-stack
                cards:
                  - type: custom:button-card
                    styles:
                      card:
                        - width: 110px
                        - background: none
                        - box-shadow: none
                  - type: picture-elements
                    image: /local/fundocaixa9.png
                    card_mod:
                      style: |
                        ha-card {
                          background: transparent;
                          box-shadow: none;
                          border: none;
                          border-radius: 0;
                          height: 475px;
                          width: 350px;
                          overflow: hidden;
                        }
                    elements:
                      - type: custom:bar-card
                        entity: sensor.nivel_do_tanque_a_liquid_level
                        direction: up
                        height: 395px
                        width: 69px
                        min: 0
                        max: 100
                        positions:
                          name: 'off'
                          value: 'off'
                          icon: 'off'
                        style:
                          top: 56%
                          left: 72%
                          transform: translate(-50%, -50%)
                          '--bar-card-border-width': 0
                          '--bar-card-border-radius': 6px
                          '--bar-card-background': transparent
                          '--bar-card-color': '#2f8cff'
                          '--bar-card-padding': 0
                          '--bar-card-margin': 0
                          '--bar-card-shadow': none
                        card_mod:
                          style: |
                            ha-card {
                              background: transparent;
                              box-shadow: none;
                              border: none;
                            }
                      - type: custom:button-card
                        name: Quantidade em Litros
                        show_icon: false
                        show_state: false
                        styles:
                          card:
                            - background: none
                            - border: none
                          name:
                            - color: '#9aa4af'
                            - font-size: 20px
                        style:
                          top: 26%
                          left: 29%
                      - type: state-label
                        entity: sensor.caixa_agua_litros
                        style:
                          top: 31%
                          left: 10%
                          color: '#0a0a0a'
                          font-size: 19px
                          font-weight: 600
                      - type: custom:button-card
                        name: Consumo Mensal
                        show_icon: false
                        show_state: false
                        styles:
                          card:
                            - background: none
                            - border: none
                          name:
                            - color: '#9aa4af'
                            - font-size: 19px
                        style:
                          top: 37%
                          left: 24%
                      - type: state-label
                        entity: sensor.caixa_agua_entrou
                        style:
                          top: 42%
                          left: 12%
                          color: '#0a0a0a'
                          font-size: 19px
                          font-weight: 500
                      - type: custom:button-card
                        name: Consumo Diário
                        show_icon: false
                        show_state: false
                        styles:
                          card:
                            - background: none
                            - border: none
                          name:
                            - color: '#9aa4af'
                            - font-size: 19px
                        style:
                          top: 48%
                          left: 22%
                      - type: state-label
                        entity: sensor.caixa_agua_saiu
                        style:
                          top: 53%
                          left: 09%
                          color: '#0a0a0a'
                          font-size: 19px
                          font-weight: 500
                      - type: custom:button-card
                        name: Água que entrou
                        show_icon: false
                        show_state: false
                        styles:
                          card:
                            - background: none
                            - border: none
                          name:
                            - color: '#9aa4af'
                            - font-size: 19px
                        style:
                          top: 59%
                          left: 22%
                      - type: state-label
                        entity: sensor.caixa_agua_entrou
                        style:
                          top: 64%
                          left: 12%
                          color: '#0a0a0a'
                          font-size: 19px
                          font-weight: 500
                      - type: custom:button-card
                        name: Água que saiu
                        show_icon: false
                        show_state: false
                        styles:
                          card:
                            - background: none
                            - border: none
                          name:
                            - color: '#9aa4af'
                            - font-size: 19px
                        style:
                          top: 69%
                          left: 20%
                      - type: state-label
                        entity: sensor.caixa_agua_saiu
                        style:
                          top: 74%
                          left: 10%
                          color: '#0a0a0a'
                          font-size: 19px
                          font-weight: 500
                      - type: custom:button-card
                        name: Tpo. de Abastecimento
                        show_icon: false
                        show_state: false
                        styles:
                          card:
                            - background: none
                            - border: none
                          name:
                            - color: '#9aa4af'
                            - font-size: 18px
                        style:
                          top: 78%
                          left: 30%
                      - type: state-label
                        entity: input_number.tempo_abastecimento_caixa
                        style:
                          top: 83%
                          left: 13%
                          color: '#0a0a0a'
                          font-size: 19px
                          font-weight: 500
                      - type: custom:button-card
                        name: Último Abastecimento
                        show_icon: false
                        show_state: false
                        styles:
                          card:
                            - background: none
                            - border: none
                          name:
                            - color: '#9aa4af'
                            - font-size: 19x
                        style:
                          top: 88%
                          left: 28%
                      - type: custom:button-card
                        entity: input_datetime.ultimo_abastecimento_caixa
                        show_icon: false
                        show_name: false
                        show_state: true
                        state_display: |
                          [[[
                            const s = entity.state;
                            if (!s || s === 'unknown' || s === 'unavailable') return '--';

                            // Se vier só data (YYYY-MM-DD)
                            if (s.length === 10) {
                              const [y, m, d] = s.split('-');
                              return `${d}/${m}/${y.slice(2)}`;
                            }

                            // Se vier data + hora
                            if (s.includes('T')) {
                              const d = new Date(s);
                              if (isNaN(d)) return '--';

                              const data = d.toLocaleDateString('pt-BR', {
                                day: '2-digit',
                                month: '2-digit',
                                year: '2-digit'
                              });

                              const hora = d.toLocaleTimeString('pt-BR', {
                                hour: '2-digit',
                                minute: '2-digit',
                                hour12: false
                              });

                              return `${data} às ${hora}`;
                            }

                            return s;
                          ]]]
                        styles:
                          card:
                            - background: none
                            - border: none
                            - box-shadow: none
                            - padding: 0
                          state:
                            - color: '#0a0a0a'
                            - font-size: 19px
                            - font-weight: 500
                        style:
                          top: 93%
                          left: 26%
                      - type: state-label
                        entity: sensor.nivel_do_tanque_a_liquid_level
                        style:
                          top: 10%
                          left: 94%
                          color: black
                          font-size: 14px
                          font-weight: bold
                          background: rgba(255,255,255,0.6)
                          padding: 3px 6px
                          border-radius: 10px
                  - type: custom:button-card
                    styles:
                      card:
                        - width: 450px
                        - background: none
                        - box-shadow: none
        columns: 1
        view_layout:
          grid-area: lights
      - type: custom:swipe-card
        cards:
          - type: conditional
            conditions:
              - entity: input_select.swipe_card_options
                state: Card 1
            card:
              type: vertical-stack
              cards:
                - type: picture-entity
                  entity: sensor.sonoff_1000916c58_power
                  image: /local/painelwallper.jpg
                  aspect_ratio: '6'
                  show_state: true
                  show_name: true
                  camera_view: auto
                  card_mod:
                    style: |
                      ha-card {
                        height: 130px;
                      }
                - type: picture-entity
                  show_state: true
                  show_name: true
                  camera_view: auto
                  entity: sensor.sonoff_10004aff0b_temperature
                  image: /local/aguaquent1.jpg
                  aspect_ratio: '6'
                - type: picture-entity
                  entity: sensor.sensor_ir_temperatura_temperatura
                  name: Temperatura Interna da Casa
                  image: /local/temperatura.jpg
                  aspect_ratio: '6'
                  show_state: true
                  show_name: true
                  camera_view: auto
                - type: picture-entity
                  entity: sensor.sensor_ir_temperatura_umidade
                  name: Umidade do Ar
                  image: /local/humidade2.jpg
                  aspect_ratio: '6'
                  show_state: true
                  show_name: true
                  camera_view: auto
          - type: conditional
            conditions:
              - entity: input_select.swipe_card_options
                state: Card 2
            card:
              type: vertical-stack
              cards:
                - type: energy-distribution
                  link_dashboard: false
                  card_mod:
                    style: |
                      ha-card {
                        background-color: transparent;
                        border: none;
                        width: 100%;
                        height: auto;
                      }
                - type: energy-grid-neutrality-gauge
                  theme: Caule Black Purple Glass
                  card_mod:
                    style: |
                      ha-card {
                        background-color: transparent;  /* Torna o fundo transparente */
                        border: none;  /* Remove bordas, se necessário */
                      }
          - type: conditional
            conditions:
              - entity: input_select.swipe_card_options
                state: Card 3
            card:
              type: vertical-stack
              cards:
                - type: entities
                  title: Produção Solar
                  show_header_toggle: false
                  state_color: true
                  theme: Caule Black Purple Glass
                  card_mod:
                    style: |
                      ha-card {
                        background: transparent !important;
                        box-shadow: none !important;
                        --ha-card-background: transparent !important;
                      }
                  style:
                    card:
                      - height: 100px
                      - width: 300px
                  entities:
                    - entity: sensor.sonoff_1000916c58_power
                    - entity: sensor.sonoff_1000916c58_energy
                      name: Energia Diária
                      icon: ''
                - type: entities
                  title: Consumo de Energia da Casa
                  state_color: true
                  theme: Caule Black Purple Glass
                  card_mod:
                    style: |
                      ha-card {
                        background: transparent !important;
                        box-shadow: none !important;
                        --ha-card-background: transparent !important;
                      }
                  style:
                    card:
                      - height: 100px
                      - width: 350px
                  entities:
                    - entity: sensor.breaker_energia_total
                      name: Energia
                    - entity: sensor.breaker_total_production
                      name: Energia injetada
                    - entity: sensor.breaker_potencia_da_fase_a
                      name: Potência
                    - entity: sensor.consumo_energia_diario
                      name: Diário
                    - entity: sensor.consumo_energia_mensal
                      name: Mensal
          - type: conditional
            conditions:
              - entity: input_select.swipe_card_options
                state: Card 4
            card:
              type: entity-filter
              card_mod:
                style: |
                  ha-card {
                    background: transparent !important;
                    box-shadow: none !important;
                    border: none !important;
                  }
              entities:
                - entity: switch.smart_switch_9140
                  name: Vento
                  icon: mdi:fan
                  tap_action:
                    action: call-service
                    service: switch.turn_off
                    service_data:
                      entity_id: switch.smart_switch_9140
                - entity: switch.agua_switch_1
                  name: Água Piscina
                  icon: mdi:pipe-valve
                  tap_action:
                    action: call-service
                    service: switch.turn_off
                    service_data:
                      entity_id: switch.agua_switch_1
                - entity: switch.sonoff_10004aff0b
                  name: Aquecedor
                  icon: mdi:light-switch-off
                  tap_action:
                    action: call-service
                    service: switch.turn_off
                    service_data:
                      entity_id: switch.sonoff_10004aff0b
                - entity: switch.banheiro_interruptor_1
                  name: Banheiro
                  icon: mdi:bathtub
                  tap_action:
                    action: call-service
                    service: switch.turn_off
                    service_data:
                      entity_id: switch.banheiro_interruptor_1
                - entity: switch.sonoff_10024c29a2_1
                  name: Bomba
                  icon: mdi:engine-outline
                  tap_action:
                    action: call-service
                    service: switch.turn_off
                    service_data:
                      entity_id: switch.sonoff_10024c29a2_1
                - entity: switch.cobertura_switch_1
                  name: Cobertura
                  icon: mdi:lightbulb
                  tap_action:
                    action: call-service
                    service: switch.turn_off
                    service_data:
                      entity_id: switch.cobertura_switch_1
                - entity: switch.light_switch_socket_1
                  name: Cozinha
                  icon: mdi:lightbulb
                  tap_action:
                    action: call-service
                    service: switch.turn_off
                    service_data:
                      entity_id: switch.light_switch_socket_1
                - entity: switch.light_switch_socket_2
                  name: Copa
                  icon: mdi:lightbulb
                  tap_action:
                    action: call-service
                    service: switch.turn_off
                    service_data:
                      entity_id: switch.light_switch_socket_2
                - entity: switch.light_switch_socket_3
                  name: Pátio
                  icon: mdi:lightbulb
                  tap_action:
                    action: call-service
                    service: switch.turn_off
                    service_data:
                      entity_id: switch.light_switch_socket_3
                - entity: switch.light_switch_socket_4
                  name: Spot
                  icon: mdi:lightbulb
                  tap_action:
                    action: call-service
                    service: switch.turn_off
                    service_data:
                      entity_id: switch.light_switch_socket_4
                - entity: switch.light_switch_socket_5
                  name: Sala
                  icon: mdi:lightbulb
                  tap_action:
                    action: call-service
                    service: switch.turn_off
                    service_data:
                      entity_id: switch.light_switch_socket_5
                - entity: switch.light_switch_socket_6
                  name: Holofote
                  icon: mdi:lightbulb
                  tap_action:
                    action: call-service
                    service: switch.turn_off
                    service_data:
                      entity_id: switch.light_switch_socket_6
                - entity: switch.sonoff_1001465426
                  name: Entrada
                  icon: mdi:lightbulb
                  tap_action:
                    action: call-service
                    service: switch.turn_off
                    service_data:
                      entity_id: switch.sonoff_1001465426
                - entity: switch.aubess_smart_switch_1_gang_10_switch_1
                  name: Irrigação
                  icon: mdi:sprinkler-variant
                  tap_action:
                    action: call-service
                    service: switch.turn_off
                    service_data:
                      entity_id: switch.aubess_smart_switch_1_gang_10_switch_1
                - entity: switch.aubess_smart_switch_1_gang_9_switch_1
                  name: Jardim
                  icon: mdi:flower-tulip
                  tap_action:
                    action: call-service
                    service: switch.turn_off
                    service_data:
                      entity_id: switch.aubess_smart_switch_1_gang_9_switch_1
                - entity: switch.lavanderia_tomada_1
                  name: Lavanderia
                  icon: mdi:lightbulb
                  tap_action:
                    action: call-service
                    service: switch.turn_off
                    service_data:
                      entity_id: switch.lavanderia_tomada_1
                - entity: switch.sonoff_1000916c58
                  name: Painel Solar
                  icon: mdi:solar-power-variant
                  tap_action:
                    action: call-service
                    service: switch.turn_off
                    service_data:
                      entity_id: switch.sonoff_1000916c58
                - entity: switch.sonoff_10014af341
                  name: Quarto
                  icon: mdi:lightbulb
                  tap_action:
                    action: call-service
                    service: switch.turn_off
                    service_data:
                      entity_id: switch.sonoff_10014af341
                - entity: switch.tomada_bluetooth_interruptor_1
                  name: Caixa
                  icon: mdi:speaker-wireless
                  tap_action:
                    action: call-service
                    service: switch.turn_off
                    service_data:
                      entity_id: switch.tomada_bluetooth_interruptor_1
                - entity: switch.min_switch_3_switch_1
                  name: Vaso
                  icon: mdi:flower
                  tap_action:
                    action: call-service
                    service: switch.turn_off
                    service_data:
                      entity_id: switch.min_switch_3_switch_1
                - entity: switch.sonoff_10024c232d_1
                  name: Canil
                  icon: mdi:dog
                  tap_action:
                    action: call-service
                    service: switch.turn_off
                    service_data:
                      entity_id: switch.sonoff_10024c232d_1
                - entity: switch.sonoff_10024c2380_1
                  name: Ferro
                  icon: mdi:iron
                  tap_action:
                    action: call-service
                    service: switch.turn_off
                    service_data:
                      entity_id: switch.sonoff_10024c2380_1
                - entity: switch.smart_switch_03c3
                  name: Abajur Sala
                  icon: mdi:floor-lamp-torchiere-variant
                  tap_action:
                    action: call-service
                    service: switch.turn_off
                    service_data:
                      entity_id: switch.smart_switch_03c3
                - entity: switch.santa_switch_1
                  name: Santa
                  icon: mdi:church-outline
                  tap_action:
                    action: call-service
                    service: switch.turn_off
                    service_data:
                      entity_id: switch.santa_switch_1
                - entity: media_player.tv
                  name: TV Sala
                  icon: mdi:television
                  tap_action:
                    action: call-service
                    service: media_player.turn_off
                    service_data:
                      entity_id: media_player.tv
                - entity: media_player.lg_tv_remote
                  name: LG
                  tap_action:
                    action: call-service
                    service: media_player.turn_off
                    service_data:
                      entity_id: media_player.lg_tv_remote
              state_filter:
                - 'on'
              show_empty: false
              card:
                type: glance
                title: Ligados na Casa
                state_color: true
                show_header_toggle: false
                theme: Caule Black Purple Glass
                card_mod:
                  style: |
                    ha-card {
                      background: transparent !important;
                      box-shadow: none !important;
                      border: none !important;
                      backdrop-filter: none !important;
                    }
          - type: conditional
            conditions:
              - entity: input_select.swipe_card_options
                state: Card 5
            card:
              type: vertical-stack
              cards:
                - type: custom:bar-card
                  title: Soma Produção
                  entities:
                    - entity: sensor.sonoff_1000916c58_power
                      name: Atual
                      color: rgba(33, 150, 243, 0.6)
                      max: 3450
                      show_state: true
                      show_icon: false
                    - entity: sensor.sonoff_1000916c58_energy
                      name: Diária
                      color: rgba(33, 150, 243, 0.6)
                      max: 24
                      show_state: true
                      show_icon: false
                    - entity: sensor.producao_solar_mensal
                      name: Mensal
                      color: rgba(33, 150, 243, 0.6)
                      max: 645
                      show_state: true
                      show_icon: false
                  direction: up
                  height: 200px
                  stack: horizontal
                  width: 100%
                  theme: Caule Black Purple Glass
                  style: |
                    ha-card {
                      background-color: transparent; /* Torna o fundo transparente */
                      border: none;
                    }
                  card_mod:
                    style: |
                      bar-card-backgroundbar {
                        background-image: url('/local/PainelHoy3.png');
                        background-size: cover;
                        background-position: center center;
                        background-repeat: no-repeat;
                        border-radius: 0px;
                      }
                      bar-card-currentbar {
                        background: rgba(33, 150, 243, 0.6);
                        border-radius: 0px;
                        clip-path: polygon(0 100%, 100% 100%, 100% calc(100% - var(--bar-percent)), 0 calc(100% - var(--bar-percent)));
                      }
                      bar-card-name, bar-card-value {
                        text-shadow: 1px 1px black;
                      }
                      bar-card-name {
                        font-size: 12px; /* Ajuste o tamanho do nome */
                      }
                      bar-card-value {
                        font-size: 14px; /* Ajuste o tamanho do valor */
                      }
              card_mod:
                style: |
                  ha-card {
                    background-color: transparent;  /* Torna o fundo transparente */
                    border: none;  /* Remove bordas, se necessário */
                  }
          - type: conditional
            conditions:
              - entity: input_select.swipe_card_options
                state: Card 6
            card:
              type: vertical-stack
              cards:
                - type: custom:mushroom-template-card
                  primary: 💧 Mês M³
                  secondary: >-
                    {{ (states('sensor.cons_agua_mes_casa') | float / 1000) |
                    round(2) }} M³ | R$ {{ states('sensor.custo_agua_mes_atual')
                    | float | round(2) }}
                  icon: mdi:water
                  icon_color: >-
                    {% if (states('sensor.cons_agua_mes_casa') | float / 1000) >
                    10 %} red {% elif (states('sensor.cons_agua_mes_casa') |
                    float / 1000) > 5 %} orange {% else %} blue {% endif %}
                  card_mod:
                    style: |
                      ha-card {
                        background: linear-gradient(to right, #6f6f70 {{ ((states('sensor.cons_agua_mes_casa') | float / 1000) / 15) * 100 }}%, #404040 19%);
                        border-radius: 15px;
                        color: black;
                        font-weight: bold;
                        background-color: rgba(64, 64, 64, 0.4);
                      }
                - type: custom:mushroom-template-card
                  primary: 💧 Mês Atual Lts
                  secondary: >-
                    {{ states('sensor.cons_agua_mes_casa') | float | round(0) }}
                    L | R$ {{ states('sensor.custo_agua_mes_atual') | float |
                    round(2) }}
                  icon: mdi:water
                  icon_color: >-
                    {% if (states('sensor.cons_agua_mes_casa') | float) > 10000
                    %} red {% elif (states('sensor.cons_agua_mes_casa') | float)
                    > 5000 %} orange {% else %} blue {% endif %}
                  card_mod:
                    style: |
                      ha-card {
                        background: linear-gradient(to right, #6f6f70 {{ ((states('sensor.cons_agua_mes_casa') | float) / 15000) * 100 }}%, #404040 19%);
                        border-radius: 15px;
                        color: black;
                        font-weight: bold;
                        background-color: rgba(64, 64, 64, 0.4);
                      }
                - type: conditional
                  conditions:
                    - condition: or
                      conditions:
                        - condition: numeric_state
                          entity: sensor.consumo_agua_consumo_de_gua_energy_m
                          below: 2.25
                        - condition: numeric_state
                          entity: sensor.consumo_agua_consumo_de_gua_energy_m
                          above: 2.25
                  card:
                    type: markdown
                    content: >
                      {% if
                      states('sensor.consumo_agua_consumo_de_gua_energy_m') |
                      float(0) < 2.25 %} 🎉 **Parabéns Consumo de Água dentro da
                      Média!**  🎉

                      Você economizou **{{ (2.25 -
                      states('sensor.consumo_agua_consumo_de_gua_energy_m') |
                      float(0)) | round(2) }} m³** em relação ao esperado!  

                      Continue assim para evitar desperdícios. 💧    

                      O valor total do consumo mensal está em **R$ {{
                      states('sensor.custo_agua_mes_atual') | float(0) }}**.  

                      {% else %} ⚠️ **ALERTA SEMANAL DE CONSUMO DE ÁGUA!** ⚠️   

                      O consumo de água ultrapassou **2,5 m³** na primeira
                      semana!  

                      Você consumiu **{{
                      (states('sensor.consumo_agua_consumo_de_gua_energy_m') |
                      float(0) - 2.25) | round(2) }} m³** a mais do que o
                      esperado!  

                      Controle o uso para evitar gastos excessivos! 🚰  

                      💰 O valor total do consumo mensal está em **R$ {{
                      states('sensor.custo_agua_mes_atual') | float(0) }}**.  

                      {% endif %}
                    card_mod:
                      style: |
                        ha-card {
                          background: transparent !important;
                          box-shadow: none !important;
                        }
              title: Consumo de Água da Casa
          - type: conditional
            conditions:
              - entity: input_select.swipe_card_options
                state: Card 7
            card:
              type: vertical-stack
              cards:
                - type: custom:button-card
                  entity: sensor.shui_jin_chuan_gan_qi_bateria
                  name: Bateria Sensor de Inundação
                  show_state: true
                  icon: |
                    [[[ 
                      const sensor = states['sensor.shui_jin_chuan_gan_qi_bateria'];
                      const batteryLevel = sensor ? parseFloat(sensor.state) : 0;
                      if (batteryLevel > 75) return 'mdi:battery-charging-high';
                      if (batteryLevel > 50) return 'mdi:battery-charging-medium';
                      if (batteryLevel > 25) return 'mdi:battery-charging-low';
                      return 'mdi:battery-20';
                    ]]]
                  styles:
                    card:
                      - background-image: url('/local/Sen1.jpg')
                      - background-size: cover
                      - background-position: left
                      - border-radius: 0px
                      - padding: 0px
                      - height: 80px
                      - width: 325px
                      - display: flex
                      - justify-content: flex-end
                      - align-items: center
                    icon:
                      - width: 60px
                      - height: 60px
                      - margin-left: 300px
                      - color: |
                          [[[ 
                            const sensor = states['sensor.shui_jin_chuan_gan_qi_bateria'];
                            const batteryLevel = sensor ? parseFloat(sensor.state) : 0;
                            if (batteryLevel > 75) return '#407d3e';
                            if (batteryLevel > 50) return '#abad39';
                            if (batteryLevel > 25) return 'orange';
                            return 'red';
                          ]]]
                    name:
                      - color: '#6295c3'
                      - font-size: 0px
                      - font-weight: bold
                    state:
                      - color: |
                          [[[ 
                            const sensor = states['sensor.shui_jin_chuan_gan_qi_bateria'];
                            const batteryLevel = sensor ? parseFloat(sensor.state) : 0;
                            if (batteryLevel > 75) return '#407d3e';
                            if (batteryLevel > 50) return '#abad39';
                            if (batteryLevel > 25) return 'orange';
                            return 'red';
                          ]]]
                      - font-size: 16px
                      - margin-left: 295px
                - type: custom:button-card
                  entity: binary_sensor.shui_jin_chuan_gan_qi_umidade
                  icon: mdi:water
                  show_state: true
                  styles:
                    card:
                      - background-image: url('/local/Inu2.png')
                      - background-size: cover
                      - background-position: left
                      - border-radius: 0px
                      - padding: 0px
                      - height: 80px
                      - width: 325px
                      - display: flex
                      - align-items: center
                    icon:
                      - width: 60px
                      - height: 60px
                      - margin-left: 250px
                      - color: |
                          [[[
                            const sensor = states['binary_sensor.shui_jin_chuan_gan_qi_umidade'];
                            if (sensor && sensor.state === 'on') return 'red';
                            return 'blue';
                          ]]]
                    name:
                      - color: '#70706d'
                      - font-size: 0px
                      - font-weight: bold
                      - margin-left: 199px
                    state:
                      - color: |
                          [[[
                            const sensor = states['binary_sensor.shui_jin_chuan_gan_qi_umidade'];
                            if (sensor && sensor.state === 'on') return 'red';
                            return '#407d3e';
                          ]]]
                      - font-size: 16px
                      - margin-left: 250px
                - type: markdown
                  content: Interfone
                  card_mod:
                    style: |
                      ha-card {
                        background: transparent !important;
                        box-shadow: none !important;
                        color: white !important;
                        font-size: 24px !important;
                        font-weight: Padrã;
                        text-align: left;
                        padding: 0px;
                        height: 80px;
                        width: 325px;
                        display: flex;
                        align-items: center;
                      }
                - type: custom:button-card
                  entity: binary_sensor.sonoff_10024820aa
                  show_state: false
                  show_name: false
                  show_icon: false
                  styles:
                    card:
                      - height: 80px
                      - width: 325px
                      - border-radius: 0px
                      - padding: 0px
                      - display: flex
                      - align-items: center
                      - background-image: |
                          [[[
                            const sensor = states['binary_sensor.sonoff_10024820aa'];
                            if (sensor && sensor.state === 'on') {
                              return "url('/local/dwhaberta.png')";
                            } else {
                              return "url('/local/dwhfecha2.png')";
                            }
                          ]]]
                      - background-size: contain
                      - background-repeat: no-repeat
                      - background-position: center
                - type: custom:button-card
                  entity: sensor.sonoff_10024820aa_battery
                  name: Bateria Interfone
                  icon: |
                    [[[
                      const sensor = states['sensor.sonoff_10024820aa_battery'];
                      const batteryLevel = sensor ? parseFloat(sensor.state) : 0;
                      if (batteryLevel > 75) return 'mdi:battery-charging-high';
                      if (batteryLevel > 50) return 'mdi:battery-charging-medium';
                      if (batteryLevel > 25) return 'mdi:battery-charging-low';
                      return 'mdi:battery-20';
                    ]]]
                  show_state: true
                  styles:
                    card:
                      - background-image: url('/local/Sen1.jpg')
                      - background-size: cover
                      - background-position: left
                      - border-radius: 0px
                      - padding: 0px
                      - height: 80px
                      - width: 325px
                      - display: flex
                      - align-items: center
                    icon:
                      - width: 60px
                      - height: 60px
                      - margin-left: 268px
                      - color: |
                          [[[
                            const sensor = states['sensor.sonoff_10024820aa_battery'];
                            const batteryLevel = sensor ? parseFloat(sensor.state) : 0;
                            if (batteryLevel > 75) return '#407d3e';
                            if (batteryLevel > 50) return '#abad39';
                            if (batteryLevel > 25) return 'orange';
                            return 'red';
                          ]]]
                    name:
                      - color: '#70706d'
                      - font-size: 0px
                      - font-weight: bold
                      - margin-left: 250px
                    state:
                      - color: |
                          [[[
                            const sensor = states['sensor.sonoff_10024820aa_battery'];
                            const batteryLevel = sensor ? parseFloat(sensor.state) : 0;
                            if (batteryLevel > 75) return '#407d3e';
                            if (batteryLevel > 50) return '#abad39';
                            if (batteryLevel > 25) return 'orange';
                            return 'red';
                          ]]]
                      - font-size: 16px
                      - margin-left: 250px
              title: Senssor Inundação Piscina
          - type: conditional
            conditions:
              - entity: input_select.swipe_card_options
                state: Card 8
            card:
              type: picture-elements
              image: /local/fundocaixa9.png
              card_mod:
                style: |
                  ha-card {
                    background: transparent;
                    box-shadow: none;
                    border: none;
                    border-radius: 0;
                    height: 475px;
                    width: 350px;
                    overflow: hidden;
                  }
              elements:
                - type: custom:bar-card
                  entity: sensor.nivel_do_tanque_a_liquid_level
                  direction: up
                  height: 395px
                  width: 69px
                  min: 0
                  max: 100
                  positions:
                    name: 'off'
                    value: 'off'
                    icon: 'off'
                  style:
                    top: 56%
                    left: 72%
                    transform: translate(-50%, -50%)
                    '--bar-card-border-width': 0
                    '--bar-card-border-radius': 6px
                    '--bar-card-background': transparent
                    '--bar-card-color': '#2f8cff'
                    '--bar-card-padding': 0
                    '--bar-card-margin': 0
                    '--bar-card-shadow': none
                  card_mod:
                    style: |
                      ha-card {
                        background: transparent;
                        box-shadow: none;
                        border: none;
                      }
                - type: custom:button-card
                  name: Quantidade em Litros
                  show_icon: false
                  show_state: false
                  styles:
                    card:
                      - background: none
                      - border: none
                    name:
                      - color: '#9aa4af'
                      - font-size: 20px
                  style:
                    top: 26%
                    left: 29%
                - type: state-label
                  entity: sensor.caixa_agua_litros
                  style:
                    top: 31%
                    left: 10%
                    color: '#0a0a0a'
                    font-size: 19px
                    font-weight: 600
                - type: custom:button-card
                  name: Alerta
                  show_icon: false
                  show_state: false
                  styles:
                    card:
                      - background: transparent
                      - box-shadow: none
                      - border: none
                    name:
                      - color: '#000000'
                      - font-size: 11px
                      - font-weight: 500
                  style:
                    top: 89%
                    left: 89%
                - type: custom:button-card
                  show_name: false
                  show_state: false
                  custom_fields:
                    circle: |
                      [[[ return `<div style="
                        width:14px;
                        height:14px;
                        border-radius:50%;
                        background:${states['sensor.status_caixa_agua'].state === 'baixo'
                          ? '#ff3b30'
                          : '#d3d3d3'};
                      "></div>`; ]]]
                  styles:
                    card:
                      - background: transparent
                      - box-shadow: none
                      - border: none
                  style:
                    top: 93%
                    left: 89%
                - type: custom:button-card
                  name: Médio
                  show_icon: false
                  show_state: false
                  styles:
                    card:
                      - background: transparent
                      - box-shadow: none
                      - border: none
                    name:
                      - color: '#000000'
                      - font-size: 11px
                      - font-weight: 500
                  style:
                    top: 55%
                    left: 89%
                - type: custom:button-card
                  show_name: false
                  show_state: false
                  custom_fields:
                    circle: |
                      [[[ return `<div style="
                        width:14px;
                        height:14px;
                        border-radius:50%;
                        background:${states['sensor.status_caixa_agua'].state === 'medio'
                          ? '#ffcc00'
                          : '#d3d3d3'};
                      "></div>`; ]]]
                  styles:
                    card:
                      - background: transparent
                      - box-shadow: none
                      - border: none
                  style:
                    top: 59%
                    left: 89%
                - type: custom:button-card
                  name: Normal
                  show_icon: false
                  show_state: false
                  styles:
                    card:
                      - background: transparent
                      - box-shadow: none
                      - border: none
                    name:
                      - color: '#000000'
                      - font-size: 11px
                      - font-weight: 500
                  style:
                    top: 23%
                    left: 89%
                - type: custom:button-card
                  show_name: false
                  show_state: false
                  custom_fields:
                    circle: |
                      [[[ return `<div style="
                        width:14px;
                        height:14px;
                        border-radius:50%;
                        background:${states['sensor.status_caixa_agua'].state === 'ok'
                          ? '#34c759'
                          : '#d3d3d3'};
                      "></div>`; ]]]
                  styles:
                    card:
                      - background: transparent
                      - box-shadow: none
                      - border: none
                  style:
                    top: 26%
                    left: 89%
                - type: custom:button-card
                  name: Tpo. de Abastecimento
                  show_icon: false
                  show_state: false
                  styles:
                    card:
                      - background: none
                      - border: none
                    name:
                      - color: '#9aa4af'
                      - font-size: 18px
                  style:
                    top: 78%
                    left: 30%
                - type: state-label
                  entity: input_number.tempo_abastecimento_caixa
                  style:
                    top: 83%
                    left: 13%
                    color: '#0a0a0a'
                    font-size: 19px
                    font-weight: 500
                - type: custom:button-card
                  name: Último Abastecimento
                  show_icon: false
                  show_state: false
                  styles:
                    card:
                      - background: none
                      - border: none
                    name:
                      - color: '#9aa4af'
                      - font-size: 19x
                  style:
                    top: 88%
                    left: 28%
                - type: state-label
                  entity: sensor.ultimo_abastecimento_caixa_formatado
                  style:
                    top: 93%
                    left: 25%
                    color: '#0a0a0a'
                    font-size: 19px
                    font-weight: 500
                    white-space: nowrap
                - type: state-label
                  entity: sensor.nivel_do_tanque_a_liquid_level
                  style:
                    top: 10%
                    left: 94%
                    color: black
                    font-size: 14px
                    font-weight: bold
                    background: rgba(255,255,255,0.6)
                    padding: 3px 6px
                    border-radius: 10px
      - square: true
        type: grid
        cards:
          - type: custom:button-card
            template:
              - base
            entity: switch.sonoff_1000916c58
            name: Produção
            icon: mdi:solar-power-variant
            size: 129%
            show_state: false
            aspect_ratio: 1/1
            state:
              - value: 'on'
                icon: mdi:solar-power-variant
                styles:
                  icon:
                    - color: '#bfbf19'
                  name:
                    - color: '#bfbf19b'
              - value: 'off'
                icon: mdi:solar-power-variant
                styles:
                  icon:
                    - color: '#70706d'
                  name:
                    - color: '#9c9c9c'
            tap_action:
              action: call-service
              service: script.select_option_click
              data:
                alvo: input_select.temporario_slideshow_tablet
                opcao: Painel
            styles:
              name:
                - font-size: 11px
              card:
                - background-color: transparent
          - type: custom:button-card
            template:
              - base
            entity: switch.sonoff_10022ceb28_1
            name: Consumo
            icon: mdi:lightning-bolt
            size: 129%
            show_state: false
            aspect_ratio: 1/1
            tap_action:
              action: call-service
              service: script.select_option_click
              data:
                alvo: input_select.temporario_slideshow_tablet
                opcao: Energia
            styles:
              name:
                - font-size: 10px
          - type: custom:button-card
            template:
              - base
            entity: switch.sonoff_10022ceb28_1
            name: Água
            icon: mdi:water
            size: 129%
            show_state: false
            aspect_ratio: 1/1
            tap_action:
              action: call-service
              service: script.select_option_click
              data:
                alvo: input_select.temporario_slideshow_tablet
                opcao: Agua
            styles:
              name:
                - font-size: 12px
          - type: custom:button-card
            template:
              - base
            name: Caixa
            entity: sensor.nivel_do_tanque_a_liquid_level
            icon: mdi:projector-screen-variant
            size: 129%
            show_state: false
            styles:
              card:
                - background-color: rgba(60, 60, 60, 0.3)
                - border: '0.5px solid #5c5b5b'
              name:
                - font-size: 13px
            state:
              - operator: <=
                value: 20
                styles:
                  icon:
                    - color: '#ff3b30'
              - operator: <=
                value: 50
                styles:
                  icon:
                    - color: '#ffcc00'
            tap_action:
              action: call-service
              service: browser_mod.sequence
              service_data:
                sequence:
                  - service: script.pc_click
                  - service: browser_mod.popup
                    data:
                      title: Nível da Caixa
                      content:
                        type: horizontal-stack
                        cards:
                          - type: custom:button-card
                            styles:
                              card:
                                - width: 70px
                                - background: none
                                - box-shadow: none
                                - border: none
                          - type: picture-elements
                            image: /local/fundocaixa1.png
                            card_mod:
                              style: |
                                ha-card {
                                  background: transparent;
                                  box-shadow: none;
                                  border: none;
                                  border-radius: 0;
                                  height: 500px;
                                  width: 350px;
                                  overflow: hidden;
                                }
                            elements:
                              - type: custom:bar-card
                                entity: sensor.nivel_do_tanque_a_liquid_level
                                direction: up
                                height: 395px
                                width: 69px
                                min: 0
                                max: 100
                                positions:
                                  name: 'off'
                                  value: 'off'
                                  icon: 'off'
                                style:
                                  top: 56%
                                  left: 72%
                                  transform: translate(-50%, -50%)
                                  '--bar-card-border-width': 0
                                  '--bar-card-border-radius': 6px
                                  '--bar-card-background': transparent
                                  '--bar-card-color': '#2f8cff'
                                  '--bar-card-padding': 0
                                  '--bar-card-margin': 0
                                  '--bar-card-shadow': none
                                card_mod:
                                  style: |
                                    ha-card {
                                      background: transparent;
                                      box-shadow: none;
                                      border: none;
                                    }
                              - type: custom:button-card
                                name: Quantidade em Litros
                                show_icon: false
                                show_state: false
                                styles:
                                  card:
                                    - background: none
                                    - border: none
                                  name:
                                    - color: '#9aa4af'
                                    - font-size: 20px
                                style:
                                  top: 26%
                                  left: 29%
                              - type: state-label
                                entity: sensor.caixa_agua_litros
                                style:
                                  top: 31%
                                  left: 10%
                                  color: '#0a0a0a'
                                  font-size: 19px
                                  font-weight: 600
                              - type: custom:button-card
                                name: Consumo Mensal
                                show_icon: false
                                show_state: false
                                styles:
                                  card:
                                    - background: none
                                    - border: none
                                  name:
                                    - color: '#9aa4af'
                                    - font-size: 19px
                                style:
                                  top: 37%
                                  left: 24%
                              - type: state-label
                                entity: sensor.consumo_caixa_mensal
                                style:
                                  top: 42%
                                  left: 12%
                                  color: '#0a0a0a'
                                  font-size: 19px
                                  font-weight: 500
                              - type: custom:button-card
                                name: Consumo Diário
                                show_icon: false
                                show_state: false
                                styles:
                                  card:
                                    - background: none
                                    - border: none
                                  name:
                                    - color: '#9aa4af'
                                    - font-size: 19px
                                style:
                                  top: 48%
                                  left: 22%
                              - type: state-label
                                entity: sensor.consumo_caixa_diario
                                style:
                                  top: 53%
                                  left: 15%
                                  color: '#0a0a0a'
                                  font-size: 22px
                                  font-weight: 500
                              - type: custom:button-card
                                name: Alerta
                                show_icon: false
                                show_state: false
                                styles:
                                  card:
                                    - background: transparent
                                    - box-shadow: none
                                    - border: none
                                  name:
                                    - color: '#000000'
                                    - font-size: 11px
                                    - font-weight: 500
                                style:
                                  top: 89%
                                  left: 89%
                              - type: custom:button-card
                                show_name: false
                                show_state: false
                                custom_fields:
                                  circle: |
                                    [[[ return `<div style="
                                      width:14px;
                                      height:14px;
                                      border-radius:50%;
                                      background:${states['sensor.status_caixa_agua'].state === 'baixo'
                                        ? '#ff3b30'
                                        : '#d3d3d3'};
                                    "></div>`; ]]]
                                styles:
                                  card:
                                    - background: transparent
                                    - box-shadow: none
                                    - border: none
                                style:
                                  top: 93%
                                  left: 89%
                              - type: custom:button-card
                                name: Médio
                                show_icon: false
                                show_state: false
                                styles:
                                  card:
                                    - background: transparent
                                    - box-shadow: none
                                    - border: none
                                  name:
                                    - color: '#000000'
                                    - font-size: 11px
                                    - font-weight: 500
                                style:
                                  top: 55%
                                  left: 89%
                              - type: custom:button-card
                                show_name: false
                                show_state: false
                                custom_fields:
                                  circle: |
                                    [[[ return `<div style="
                                      width:14px;
                                      height:14px;
                                      border-radius:50%;
                                      background:${states['sensor.status_caixa_agua'].state === 'medio'
                                        ? '#ffcc00'
                                        : '#d3d3d3'};
                                    "></div>`; ]]]
                                styles:
                                  card:
                                    - background: transparent
                                    - box-shadow: none
                                    - border: none
                                style:
                                  top: 59%
                                  left: 89%
                              - type: custom:button-card
                                name: Normal
                                show_icon: false
                                show_state: false
                                styles:
                                  card:
                                    - background: transparent
                                    - box-shadow: none
                                    - border: none
                                  name:
                                    - color: '#000000'
                                    - font-size: 11px
                                    - font-weight: 500
                                style:
                                  top: 23%
                                  left: 89%
                              - type: custom:button-card
                                show_name: false
                                show_state: false
                                custom_fields:
                                  circle: |
                                    [[[ return `<div style="
                                      width:14px;
                                      height:14px;
                                      border-radius:50%;
                                      background:${states['sensor.status_caixa_agua'].state === 'ok'
                                        ? '#34c759'
                                        : '#d3d3d3'};
                                    "></div>`; ]]]
                                styles:
                                  card:
                                    - background: transparent
                                    - box-shadow: none
                                    - border: none
                                style:
                                  top: 26%
                                  left: 89%
                              - type: custom:button-card
                                name: Água que entrou
                                show_icon: false
                                show_state: false
                                styles:
                                  card:
                                    - background: none
                                    - border: none
                                  name:
                                    - color: '#9aa4af'
                                    - font-size: 19px
                                style:
                                  top: 59%
                                  left: 22%
                              - type: state-label
                                entity: sensor.caixa_agua_entrou
                                style:
                                  top: 64%
                                  left: 12%
                                  color: '#0a0a0a'
                                  font-size: 19px
                                  font-weight: 500
                              - type: custom:button-card
                                name: Água que saiu
                                show_icon: false
                                show_state: false
                                styles:
                                  card:
                                    - background: none
                                    - border: none
                                  name:
                                    - color: '#9aa4af'
                                    - font-size: 19px
                                style:
                                  top: 69%
                                  left: 20%
                              - type: state-label
                                entity: sensor.caixa_agua_saiu
                                style:
                                  top: 74%
                                  left: 10%
                                  color: '#0a0a0a'
                                  font-size: 19px
                                  font-weight: 500
                              - type: custom:button-card
                                name: Tpo. de Abastecimento
                                show_icon: false
                                show_state: false
                                styles:
                                  card:
                                    - background: none
                                    - border: none
                                  name:
                                    - color: '#9aa4af'
                                    - font-size: 18px
                                style:
                                  top: 78%
                                  left: 30%
                              - type: state-label
                                entity: input_number.tempo_abastecimento_caixa
                                style:
                                  top: 83%
                                  left: 14%
                                  color: '#0a0a0a'
                                  font-size: 19px
                                  font-weight: 500
                              - type: custom:button-card
                                name: Último Abastecimento
                                show_icon: false
                                show_state: false
                                styles:
                                  card:
                                    - background: none
                                    - border: none
                                  name:
                                    - color: '#9aa4af'
                                    - font-size: 19x
                                style:
                                  top: 88%
                                  left: 28%
                              - type: state-label
                                entity: sensor.ultimo_abastecimento_caixa_formatado
                                style:
                                  top: 93%
                                  left: 25%
                                  color: '#0a0a0a'
                                  font-size: 19px
                                  font-weight: 500
                                  white-space: nowrap
                              - type: state-label
                                entity: sensor.nivel_do_tanque_a_liquid_level
                                style:
                                  top: 10%
                                  left: 94%
                                  color: black
                                  font-size: 14px
                                  font-weight: bold
                                  background: rgba(255,255,255,0.6)
                                  padding: 3px 6px
                                  border-radius: 10px
                          - type: custom:button-card
                            styles:
                              card:
                                - width: 0px
                                - background: none
                                - box-shadow: none
                                - border: none
                            card_mod:
                              style: |
                                ha-card {
                                  background-color: transparent;
                                  border: none;
                                  width: 100%;
                                  height: auto;
                                }
          - type: custom:button-card
            template:
              - base
            entity: binary_sensor.shui_jin_chuan_gan_qi_umidade
            name: Piscina
            icon: mdi:cup-water
            size: 129%
            show_state: false
            aspect_ratio: 1/1
            state:
              - value: wet
                name: Inundado
                styles:
                  icon:
                    - color: red
                  name:
                    - font-size: 09px
                    - color: red
              - value: dry
                name: Seco
                styles:
                  icon:
                    - color: white
                  name:
                    - font-size: 09px
                    - color: white
            tap_action:
              action: call-service
              service: script.select_option_click
              data:
                alvo: input_select.temporario_slideshow_tablet
                opcao: Piscina
            triggers_update: all
            styles:
              card:
                - background-color: rgba(60, 60, 60, 0.3)
                - border: '0.5px solid #5c5b5b'
                - height: 60px
          - type: custom:button-card
            template:
              - base
            entity: binary_sensor.192_168_100_103
            name: Interfone
            icon: mdi:phone-dial
            size: 129%
            show_state: false
            aspect_ratio: 1/1
            state:
              - value: 'off'
                styles:
                  icon:
                    - color: '#f5ef49'
                  card:
                    - color: '#f5ef49'
                    - height: 60px
                    - background-color: rgba(0, 0, 0, 0)
                    - border: '0.5px solid #5c5b5b'
                  name:
                    - font-size: 10px
                    - color: '#f5ef49'
              - value: 'on'
                styles:
                  icon:
                    - color: '#b3b2b1'
                  card:
                    - color: '#b3b2b1'
                    - height: 60px
                    - background-color: rgba(0, 0, 0, 0)
                    - border: '0.5px solid #5c5b5b'
                  name:
                    - font-size: 10px
                    - color: '#b3b2b1'
        title: Energia
        columns: 6
        view_layout:
          grid-area: media
      - square: true
        type: grid
        cards:
          - type: custom:button-card
            template:
              - base
            entity: switch.sonoff_10022ceb28_1
            name: Portão
            icon: mdi:lock
            size: 120%
            show_state: false
            aspect_ratio: 1/1
            tap_action:
              action: fire-dom-event
              browser_mod:
                service: browser_mod.sequence
                data:
                  sequence:
                    - service: script.pc_click
                    - service: switch.toggle
                      data:
                        entity_id: switch.sonoff_10022ceb28_1
              haptic: medium
            styles:
              icon:
                - color: '#bab8b8'
              card:
                - height: 60px
              name:
                - font-size: 10px
            state:
              - value: 'on'
                styles:
                  icon:
                    - color: '#ffcc00'
              - value: 'off'
                styles:
                  icon:
                    - color: '#bab8b8'
          - type: custom:button-card
            template:
              - base
            entity: switch.sonoff_10024422f7_1
            name: Garagem
            icon: mdi:garage
            size: 120%
            show_state: false
            aspect_ratio: 1/1
            tap_action:
              action: fire-dom-event
              browser_mod:
                service: browser_mod.sequence
                data:
                  sequence:
                    - service: script.pc_click
                    - service: switch.toggle
                      data:
                        entity_id: switch.sonoff_10024422f7_1
              haptic: medium
            styles:
              icon:
                - color: '#bab8b8'
              card:
                - height: 60px
              name:
                - font-size: 11px
            state:
              - value: 'on'
                styles:
                  icon:
                    - color: '#ffcc00'
              - value: 'off'
                styles:
                  icon:
                    - color: '#bab8b8'
          - type: custom:button-card
            template:
              - base
            entity: binary_sensor.sonoff_10024820aa
            name: Interfone
            icon: mdi:doorbell
            size: 120%
            show_state: false
            aspect_ratio: 1/1
            state:
              - value: 'off'
                styles:
                  icon:
                    - color: '#bab8b8'
                  card:
                    - color: '#bab8b8'
                    - height: 60px
                    - color: '#bab8b8'
                    - border: '0.5px solid #5c5b5b'
                  name:
                    - font-size: 11px
                    - color: '#9e9d9d'
              - value: 'on'
                styles:
                  icon:
                    - color: rgb(255, 0, 0)
                  card:
                    - height: 60px
                    - animation: blink 0s 5
                  name:
                    - font-size: 11px
                    - color: '#b31d1d'
            tap_action:
              action: fire-dom-event
              browser_mod:
                service: browser_mod.popup
                data:
                  title: Controle Portaria
                  content:
                    type: vertical-stack
                    cards:
                      - show_state: false
                        show_name: false
                        camera_view: live
                        fit_mode: cover
                        type: picture-entity
                        entity: camera.mpt_2023_portaria
                      - type: horizontal-stack
                        cards:
                          - type: custom:button-card
                            entity: switch.sonoff_10024422f7_1
                            name: Garagem
                            icon: mdi:garage
                            show_state: false
                            size: 120%
                            aspect_ratio: 1/1
                            tap_action:
                              action: fire-dom-event
                              browser_mod:
                                service: browser_mod.sequence
                                data:
                                  sequence:
                                    - service: script.pc_click
                                    - service: switch.toggle
                                      data:
                                        entity_id: switch.sonoff_10024422f7_1
                            styles:
                              card:
                                - height: 80px
                                - border-radius: 12px
                                - background-color: transparent
                                - box-shadow: none
                              icon:
                                - color: '#bab8b8'
                              name:
                                - font-size: 14px
                            state:
                              - value: 'on'
                                styles:
                                  card:
                                    - background-color: '#ffcc00'
                                  icon:
                                    - color: black
                                  name:
                                    - color: black
                          - type: custom:button-card
                            entity: switch.sonoff_10022ceb28_1
                            name: Portão
                            icon: mdi:lock
                            show_state: false
                            size: 120%
                            aspect_ratio: 1/1
                            tap_action:
                              action: fire-dom-event
                              browser_mod:
                                service: browser_mod.sequence
                                data:
                                  sequence:
                                    - service: script.pc_click
                                    - service: switch.toggle
                                      data:
                                        entity_id: switch.sonoff_10022ceb28_1
                            styles:
                              card:
                                - height: 80px
                                - border-radius: 12px
                                - background-color: transparent
                                - box-shadow: none
                              icon:
                                - color: '#bab8b8'
                              name:
                                - font-size: 14px
                            state:
                              - value: 'on'
                            style: >
                              ha-card {

                              background-color: transparentt;  /* Define o fundo
                              como transparente */
                                box-shadow: none;  /* Remove a sombra do card (opcional) */
                              }
            triggers_update: all
            styles:
              card:
                - height: 100px
              name:
                - font-size: 11px
          - type: custom:button-card
            template: base
            entity: null
            name: Protaria
            icon: mdi:cctv
            size: 120%
            show_state: false
            aspect_ratio: 1/1
            state:
              - value: 'on'
                styles:
                  icon:
                    - color: rgb(0, 175, 0)
            tap_action:
              action: call-service
              service: script.select_option_click
              data:
                alvo: input_select.temporario_slideshow_tablet
                opcao: Camera1
            styles:
              card:
                - height: 60px
              name:
                - font-size: 13px
          - type: custom:button-card
            template: base
            entity: null
            name: Pátio
            icon: mdi:cctv
            size: 120%
            show_state: false
            aspect_ratio: 1/1
            state:
              - value: 'on'
                styles:
                  icon:
                    - color: rgb(0, 175, 0)
            tap_action:
              action: call-service
              service: script.select_option_click
              data:
                alvo: input_select.temporario_slideshow_tablet
                opcao: Camera2
            styles:
              card:
                - height: 60px
              name:
                - font-size: 13px
          - type: custom:button-card
            template: base
            entity: none
            name: Garagem
            icon: mdi:cctv
            size: 120%
            show_state: false
            aspect_ratio: 1/1
            state:
              - value: 'on'
                styles:
                  icon:
                    - color: rgb(0, 175, 0)
            tap_action:
              action: call-service
              service: script.select_option_click
              data:
                alvo: input_select.temporario_slideshow_tablet
                opcao: Camera3
            styles:
              card:
                - height: 60px
              name:
                - font-size: 13px
        columns: 6
        title: Segurança
        view_layout:
          grid-area: outlets
      - square: false
        type: grid
        cards:
          - square: false
            type: grid
            cards:
              - type: custom:button-card
                name: null
                icon: mdi:water-boiler
                show_state: true
                show_name: true
                show_icon: true
                layout: vertical
                size: 40%
                color_type: icon
                state_display: |
                  [[[
                    let consumo = states['sensor.consumo_boiler_mensal'] ? parseFloat(states['sensor.consumo_boiler_mensal'].state) : NaN;
                    let custo = states['sensor.custo_boiler_mensal'] ? parseFloat(states['sensor.custo_boiler_mensal'].state) : NaN;

                    consumo = isNaN(consumo) ? '0.00' : consumo.toFixed(2);
                    custo = isNaN(custo) ? '0.00' : custo.toFixed(2);

                    let hours = states['sensor.tempo_boiler_mensal'] ? parseFloat(states['sensor.tempo_boiler_mensal'].state) : 0;
                    if (isNaN(hours)) {
                      hours = 0;
                    }
                    let display = hours < 1 ? (hours * 60).toFixed(0) + ' min' : new Date(hours * 3600000).toISOString().substr(11, 8) + ' Hs';

                    return 'Qtd: ' + (states['sensor.quantidade_boiler_mensal'] ? states['sensor.quantidade_boiler_mensal'].state : '0') + ' | ' +
                           'Tempo: ' + display + ' | ' +
                           'Gasto: ' + consumo + ' kWh | ' +
                           'Custo: R$ ' + custo + ' ' +
                           (states['switch.sonoff_10004aff0b'].state === 'on' ? 'Ligado' : 'Desligado') + ' | ' +
                           'Temp: ' + (states['sensor.sonoff_10004aff0b_temperature'] ? states['sensor.sonoff_10004aff0b_temperature'].state : '0') + '°C' + '\n' +
                           'Tempo Médio Aquecimento: ' + (states['sensor.tempo_aquecimento_boiler'] ? states['sensor.tempo_aquecimento_boiler'].state : '0') + ' min';
                  ]]]
                styles:
                  card:
                    - background: >-
                        url('/local/path_to_image.jpg') no-repeat center
                        center/cover
                    - border-radius: 10px
                    - box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1)
                    - height: 130px
                  name:
                    - color: '#bdbbbb'
                    - font-size: 0px
                    - font-weight: bold
                    - text-align: center
                  state:
                    - color: '#bdbbbb'
                    - font-size: 12px
                    - text-align: center
                    - white-space: normal
                  icon:
                    - color: |
                        [[[
                          if (states['switch.sonoff_10004aff0b'].state === 'on') {
                            return 'yellow';
                          }
                          return 'var(--paper-item-icon-color)';
                        ]]]
                tap_action:
                  action: toggle
                  entity: switch.sonoff_10004aff0b
            columns: 1
            view_layout:
              grid-area: security
        columns: 1
        view_layout:
          grid-area: security
    background:
      opacity: 100
      alignment: center
      size: cover
      repeat: no-repeat
      attachment: fixed
      image:
        media_content_id: /api/image/serve/95ac7fa0cd1f852715d639cab4a14453/original
    theme: Wall-Tablet-Theme
    icon: mdi:cellphone-basic
